{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Home","text":"<p>v2024.05.01</p> <p></p> <ul> <li> <p> Install and set up in less than 5 minutes </p> <p>Run the following commands in a terminal to install and run the ACME oneM2M CSE:</p> <pre><code>python -m pip install acmecse\nacmecse\n</code></pre> <p> Detailed Instructions</p> </li> <li> <p> Compliant</p> <p>This compliant oneM2M Common Services Entity (CSE) implements a growing subset of the oneM2M standard. This includes ressource types, functionalities, and protocols.  </p> <p> Supported Features</p> </li> <li> <p> It's just Python</p> <p>The intention is to provide an easy to install and use, extensible, and maintainable oneM2M CSE.</p> <p> Development Documentation  HowTos</p> </li> <li> <p> Open Source | BSD 3-Clause</p> <p>The ACME oneM2M CSE is an open source project licensed under the BSD 3-Clause license. </p> <p> ACME CSE @ GitHub  License</p> </li> </ul>"},{"location":"#acme-onem2m-cse","title":"ACME oneM2M CSE","text":""},{"location":"#an-open-source-cse-middleware-for-education","title":"An open source CSE Middleware for Education","text":""},{"location":"development/ACMEScript-functions/","title":"ACMEScript - Functions","text":"<p>This section provides an overview of the functions that are available in ACMEScript. </p>"},{"location":"development/ACMEScript-functions/#basic-functions","title":"Basic Functions","text":""},{"location":"development/ACMEScript-functions/#concat","title":". (concat)","text":"<p><code>(. [&lt;symbol&gt;]+)</code></p> <p>Concatenate and return the stringified versions of the symbol arguments.</p> <p>Note</p> <p>This function will not add spaces between the symbols. One can use the nl and sp functions to add newlines and spaces.</p> <p>See also</p> <p>nl, sp, to-string</p> Example<pre><code>(. \"Time:\" sp (datetime))  ;; Returns \"Time: 20230308T231049.934630\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#argv","title":"argv","text":"<p><code>(argv [&lt;n:integer&gt;]*)</code> </p> <p>Evaluates to the n-th argument of the script. The index starts a <code>0</code>, where the 0-th argument is the name  of the script. If the <code>argv</code> function is called without an argument or stand-alone then a string including  the name of the function and the arguments is returned. </p> <p>The number of arguments available is stored in the variable argc.</p> <p>See also</p> <p>argc</p> Example<pre><code>;; Print the script name\n(print \"The name of the script is:\" (argv 0))\n\n;; Print the first argument\n(print \"The first argument is:\" (argv 1))\n\n;; Print script name and all arguments\n(print \"All arguments:\" argv)\n</code></pre>"},{"location":"development/ACMEScript-functions/#assert","title":"assert","text":"<p><code>(assert &lt;boolean&gt;)</code></p> <p>The <code>assert</code> function terminates the script if its argument evaluates to false.</p> Example<pre><code>(assert (== (get-configuration \"cse.type\") \n            \"IN\"))  ;; Terminates when the setting is different from \"IN\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#base64-encode","title":"base64-encode","text":"<p><code>(base64-encode &lt;string&gt;)</code></p> <p>This function encodes a string as base64.</p> <p>See also</p> <p>url-encode</p> Example<pre><code>(base64-encode \"Hello, World\")  ;; Returns \"SGVsbG8sIFdvcmxk\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#block","title":"block","text":"<p><code>(block &lt;name:string&gt; &lt;s-expression&gt;+)</code></p> <p>The <code>block</code> function executes a number of expressions in a named context. The first argument is a string that specifies the block's name.  The following arguments are s-expressions that are executed in the block.</p> <p>The result of the last expression is returned. A block can be exited early with the return-from function.</p> <p>See also</p> <p>return-from</p> Examples<pre><code>(block \"myBlock\" 1 2 3)  ;; Returns 3\n(block \"myBlock\" 1 (return-from \"myBlock\" 2) 3)  ;; Returns 2\n</code></pre> <p>One can use the <code>block</code> function to implement break and continue functionality in loops:</p> Examples<pre><code>;; Example for a break block\n;; The following example breaks the loop when the value of \"i\" is 5\n(block break\n    (dotimes (i 10)\n        ((print i) \n        (if (== i 5) \n            (return-from break)))))\n\n;; Example for a continue block\n;; The following example skips the value of \"i\" when it is 5\n(dotimes (i 10)\n    (block continue\n        (if (== i 5) \n            (return-from continue))\n        (print i)))\n</code></pre>"},{"location":"development/ACMEScript-functions/#car","title":"car","text":"<p><code>(car &lt;list&gt;)</code></p> <p>The <code>car</code> function returns the first symbol from a list. It doesn't change the original list.</p> <p>Note</p> <p>A list needs to be quoted when used directly.</p> <p>See also</p> <p>cdr, nth</p> Example<pre><code>(car '(1 2 3))  ;; Returns 1\n</code></pre>"},{"location":"development/ACMEScript-functions/#case","title":"case","text":"<p><code>(case &lt;key:string&gt; (&lt;condition&gt; &lt;s-expression&gt;)*)</code></p> <p>The <code>case</code> function implements the functionality of a <code>switch...case</code> statement in other programming languages.</p> <p>The key s-expression is evaluated and its value taken for the following comparisons. After this expression a number of lists may be given. </p> <p>Each of these list contains two symbols that are handled in order: </p> <ul> <li>The first symbol evaluates to a value that is compared to the result of the key s-expression. </li> <li>If there is a match then the second s-expression is evaluated, and then the comparisons are stopped and the case function returns.</li> </ul> <p>The special symbol <code>otherwise</code> for a condition s-expression always matches and can be used as a default or fallback case .</p> Example<pre><code>(case aSymbol\n    ( 1 (print \"Result: 1\"))\n    ( (+ 1 1) (print \"Result: 2\"))\n    (otherwise (print \"Result: something else\")))\n</code></pre>"},{"location":"development/ACMEScript-functions/#cdr","title":"cdr","text":"<p><code>(cdr &lt;list&gt;)</code></p> <p>The <code>cdr</code> function returns a list with all symbols from a list except the first symbol. It doesn't change the original list.</p> <p>Note</p> <p>A list needs to be quoted when used directly.</p> <p>See also</p> <p>car,  nth</p> Example<pre><code>(cdr '(1 2 3))  ;; Returns (2 3)\n</code></pre>"},{"location":"development/ACMEScript-functions/#cons","title":"cons","text":"<p><code>(cons &lt;symbol&gt; &lt;list&gt;)</code></p> <p>The <code>cons</code> function adds a new symbol to the front of a list and returns it. It doesn't change the original list.</p> <p>Note</p> <p>A list needs to be quoted when used directly.</p> Examples<pre><code>(cons 1 2)            ;; Returns (1 2)\n(cons 1 '(2 3))       ;; Returns (1 2 3)\n(cons '(1 2) '(3 4))  ;; Returns ((1 2) 3 4)\n</code></pre>"},{"location":"development/ACMEScript-functions/#datetime","title":"datetime","text":"<p><code>(datetime [&lt;format:string&gt;])</code></p> <p>The <code>datetime</code> function returns the current date and time. As a default, if not argument is provided, the function returns an ISO8901 timestamp. An optional format string can be provided. With this format string one can define the format for the output based on the format defined by Python's strftime() function.</p> <p>All timestamps are UTC-based.</p> Examples<pre><code>(datetime)          ;; Returns a timestamp, e.g. 20230302T221625.771604\n(datetime \"%H:%M\")  ;; Returns, for example, \"22:16\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#defun","title":"defun","text":"<p><code>(defun &lt;function name&gt; &lt;parameter list&gt; &lt;function body&gt;)</code></p> <p>The <code>defun</code> function defines a new function. </p> <p>The first argument to this function is a string and specifies the new function's name. A function definition overrides already user-defined or built-in functions with the same name.</p> <p>The second argument is a symbol list with argument names for the function. Arguments act as function-local variables that can be used in the function body.</p> <p>The third argument is an s-expression that is evaluated as the function body. </p> <p>The result of a function is the result of the expression that is evaluated last in a function evaluation.</p> <p>See also</p> <p>lambda, return</p> Example<pre><code>(defun greeting (name)  ;; define the function\n    (print \"hello\" name)) \n(greeting \"Arthur\")     ;; call the function\n\n;; Fibonacci\n(defun fib (n)          ;; Define the function\n    (if (&lt; n 2)\n        n\n        (+ (fib (- n 1)) \n        (fib (- n 2)))\n    ))\n(fib 10)                ;; Returns 55\n</code></pre>"},{"location":"development/ACMEScript-functions/#dec","title":"dec","text":"<p><code>(dec &lt;variable&gt; [&lt;value:number&gt;])</code></p> <p>The <code>dec</code> function decrements a variable. The default for the increment is 1, but can be given as an optional second argument. If this argument is  provided then the variable is decremented by this value. The value can be an integer or a float.</p> <p>The function returns the variable's new value.</p> <p>See also</p> <p>inc</p> Examples<pre><code>(setq a 1)   ;; Set variable \"a\" to 1\n(dec a)      ;; Decrement variable \"a\" by 1\n(dec a 2.5)  ;; Decrement variable \"a\" by 2.5\n</code></pre>"},{"location":"development/ACMEScript-functions/#dolist","title":"dolist","text":"<p><code>(dolist (&lt;loop variable&gt; &lt;list:list or quoted list&gt; [&lt;result variable&gt;]) (&lt;s-expression&gt;+))</code></p> <p>The <code>dolist</code> function loops over a list. The first arguments is a list that contains a loop variable, a list to iterate over, and an optional <code>result</code> variable. The second argument is a list that contains one or more s-expressions that are executed in the loop.</p> <p>If the <code>result variable</code> is specified then the loop returns the value of that variable, otherwise <code>nil</code>.</p> <p>See also</p> <p>dotimes, while</p> Examples<pre><code>(dolist (i '(1 2 3 4 5 6 7 8 9 10))\n    (print i)                   ;; print 1..10\n\n(setq result 0)\n(dolist (i '(1 2 3 4 5 6 7 8 9 10) result)\n    (setq result (+ result i)))  ;; sum 1..10\n(print result)                   ;; 55\n</code></pre>"},{"location":"development/ACMEScript-functions/#dotimes","title":"dotimes","text":"<p><code>(dotimes (&lt;loop variable&gt; &lt;count:number&gt; [&lt;result variable&gt;]) (&lt;s-expression&gt;+))</code></p> <p>The <code>dotimes</code> function provides a simple numeric loop functionality. The first arguments is a list that contains a loop variable that starts at 0, the loop <code>count</code> (which must be a non-negative number), and an optional <code>result</code> variable. The second argument is a list that contains one or more s-expressions that are executed in the loop.</p> <p>If the <code>result variable</code> is specified then the loop returns the value of that variable, otherwise <code>nil</code>.</p> <p>See also</p> <p>dolist, while</p> Examples<pre><code>(dotimes (i 10)\n    (print i)                   ;; print 0..9\n\n(setq result 0)\n(dotimes (i 10 result)\n    (setq result (+ result i)))  ;; sum 0..9\n(print result)                   ;; 45\n</code></pre>"},{"location":"development/ACMEScript-functions/#eval","title":"eval","text":"<p><code>(eval &lt;quoted list&gt;)</code></p> <p>The <code>eval</code> function evaluates and executes a quoted list or symbol.</p> <p>See also</p> <p>parse-string, progn, to-symbol</p> Example<pre><code>(eval '(print \"Hello, World\"))  ;; Prints \"Hello, World\" \n</code></pre>"},{"location":"development/ACMEScript-functions/#evaluate-inline","title":"evaluate-inline","text":"<p><code>(evaluate-inline &lt;boolean&gt;)</code></p> <p>With this function one can disable or enable the evaluation of s-expressions in strings.</p> Example<pre><code>(evaluate-inline false)  ;; Disables inline evaluation\n(print \"1 + 2 = [(+ 1 2)]\")  ;; Prints \"1 + 2 = [(+ 1 2)]\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-json-attribute","title":"get-json-attribute","text":"<p><code>(get-json-attribute &lt;JSON&gt; &lt;key:string&gt;)</code></p> <p>The <code>get-json-attribute</code> function retrieves an attribute from a JSON structure via a key path. This key may be a structured path to access elements deeper down in the JSON structure. There are the following extra elements to access more complex structures:</p> <ul> <li>It is possible to address a specific element in a list. This is done be  specifying the element as <code>{n}</code>.</li> <li>If an element is specified as <code>{}</code> then all elements in that list are returned in a list.</li> <li>If an element is specified as <code>{*}</code> and is targeting a dictionary then a single unknown key is skipped in the path. This can be used to skip, for example, unknown first elements in a structure. This is similar but not the same as <code>{0}</code> that works on lists.</li> </ul> <p>See also</p> <p>has-json-attribute, remove-json-attribute, set-json-attribute</p> Examples<pre><code>(get-json-attribute { \"a\" : { \"b\" : \"c\" }} \"a/b\" )     ;; Returns \"c\"\n(get-json-attribute { \"a\" : [ \"b\", \"c\" ]} \"a/{0}\" )    ;; Returns \"b\"\n(get-json-attribute { \"a\" : [ \"b\", \"c\" ]} \"a/{}\" )     ;; Returns ( \"b\" \"c\" )\n(get-json-attribute { \"a\" : [ \"b\", \"c\" ]} \"{*}/{0}\" )  ;; Returns \"b\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#has-json-attribute","title":"has-json-attribute","text":"<p><code>(has-json-attribute &lt;JSON&gt; &lt;key:string&gt;)</code></p> <p>The <code>has-json-attribute</code> function determines  whether an attribute exists in a JSON structure for a key path.  This key may be a structured path to access elements deeper down in the JSON structure. </p> <p>See also</p> <p>get-json-attribute, remove-json-attribute, [set-json-attribute]    (#set-json-attribute)</p> <p>See get-json-attribute for further details on how to access JSON attributes.</p> Examples<pre><code>(has-json-attribute { \"a\" : { \"b\" : \"c\" }} \"a/b\" )  ;; Returns true\n(has-json-attribute { \"a\" : { \"b\" : \"c\" }} \"a/c\" )  ;; Returns false\n</code></pre>"},{"location":"development/ACMEScript-functions/#if","title":"if","text":"<p><code>(if &lt;boolean expression&gt; &lt;s-expression&gt; [&lt;s-expression&gt;])</code></p> <p>The <code>if</code> function works like an \u201cif-then-else\u201d statement in other programing languages.  The first argument is a boolean expression. If it evaluates to true then the second argument is executed. If it evaluates to false then the third (optional) argument is executed, if present.</p> <p>The boolean expression can be any s-expression that evaluates to a boolean value or nil, or a list or a string. nil values, empty lists, or zero-length strings evaluate to false, or to true otherwise.</p> Examples<pre><code>(if (&lt; 1 2)           ;; Evaluates to \"true\"\n    (print \"true\")    ;; This expression is executed\n    (print \"false\"))  ;; This expression is not executed\n</code></pre>"},{"location":"development/ACMEScript-functions/#in","title":"in","text":"<p><code>(in &lt;symbol or list&gt; &lt;list or string&gt;)</code></p> <p>The <code>in</code> function determines whether a symbol or list is contained in a list, or whether a string is contained in another string.  The function returns true if this is the case, or false otherwise.</p> <p>See also</p> <p>index-of</p> Examples<pre><code>(in \"Hello\" \"Hello, World\")  ;; Returns true\n(in \"Bye\" \"Hello, World\")    ;; Returns false\n(in 1 '(1 2 3))              ;; Returns true\n(in '(1 2) '((1 2) (3 4)))   ;; Returns true\n</code></pre>"},{"location":"development/ACMEScript-functions/#inc","title":"inc","text":"<p><code>(inc &lt;variable symbol&gt; [&lt;value:number&gt;])</code></p> <p>The <code>inc</code> function increments a provided variable. The default for the increment is 1, but can be given as an optional second argument. If this argument is  provided then the variable is incremented by this value. The value can be an integer or a float.</p> <p>The function returns the variable's new value.</p> <p>See also</p> <p>dec</p> Example<pre><code>(setq a 1)   ;; Set variable \"a\" to 1\n(inc a)      ;; Increment variable \"a\" by 1\n(inc a 2.5)  ;; Increment variable \"a\" by 2.5\n</code></pre>"},{"location":"development/ACMEScript-functions/#index-of","title":"index-of","text":"<p><code>(index-of &lt;value&gt; &lt;list or string&gt;)</code></p> <p>The <code>index-of</code> function determines the index of a value in a list, or the index of a string in another string. If the second argument is a string then the first argument must be a string as well. The index is 0-based.</p> <p>The function returns the index as a number, or nil if the value could not be found.</p> <p>See also</p> <p>in, nth</p> Examples<pre><code>(index-of 1 '(1 2 3))            ;; Returns 0\n(index-of \"a\" '(\"b\", \"c\", \"d\"))  ;; Returns nil\n(index-of \"b\" \"abc\")             ;; Returns 1\n</code></pre>"},{"location":"development/ACMEScript-functions/#is-defined","title":"is-defined","text":"<p><code>(is-defined &lt;symbol&gt;</code>)</p> <p>The <code>is-defined</code> function tests whether a symbol (ie. a variable, built-in or defined function) is defined.</p> Examples<pre><code>(setq a 1)       ;; Define variable \"a\"\n(is-defined 'a)  ;; Evaluates to \"true\".\n(is-defined 'b)  ;; Evaluates to \"false\"\n</code></pre> <p>Note</p> <p>Most of the time the symbol argument needs to be quoted, otherwise the symbol is evaluated first and the function will not work as expected.</p>"},{"location":"development/ACMEScript-functions/#json-to-string","title":"json-to-string","text":"<p><code>(json-to-string &lt;JSON&gt;</code>)</p> <p>The <code>json-to-string</code> function returns a JSON structure in a string.</p> <p>See also</p> <p>string-to-json, to-number, to-string</p> Example<pre><code>(json-to-string { \"a\" : { \"b\" : \"c\" }})  ;; Returns \"{\\\"a\\\": {\\\"b\\\": \\\"c\\\"}}\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#jsonify","title":"jsonify","text":"<p><code>(jsonify &lt;string&gt;</code>)</p> <p>The <code>jsonify</code> function returns a string where characters are escaped that would otherwise break a JSON structure.</p> <p>See also</p> <p>string-to-json, to-number, to-string</p> Example<pre><code>(jsonify \"Hello, World\")  ;; Returns \"Hello,\\nWorld\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#lambda","title":"lambda","text":"<p><code>(lambda &lt;parameter list&gt; &lt;function body&gt;)</code></p> <p>The <code>lambda</code> function defines a new nameless function. </p> <p>It is similar to the defun function, with the difference that functions defined as lambda functions cannot be called by name. They need to be used directly, assigned to a variable, or passed, for example, in a function call.</p> <p>The first argument is a symbol list with argument names for the lambda function. Arguments act as function-local variables that can be used in the function body.</p> <p>The second argument is an s-expression that is evaluated as the function body. </p> <p>The result of a lambda function is the result of the expression that is evaluated last in a function evaluation.</p> <p>See also</p> <p>defun, return</p> Examples<pre><code>((lambda (x) (* x x)) 5)       ;; Returns 25\n\n(setq y (lambda (x) (* x x)))  ;; Define and assign lambda function\n(y)                            ;; Returns ( ( x ) ( * x x ) )\n((y) 5)                        ;; Returns 25\n</code></pre>"},{"location":"development/ACMEScript-functions/#length","title":"length","text":"<p><code>(length &lt;string or list&gt;</code>)</p> <p>The <code>length</code> function returns the length of a string or the number of elements in a list.</p> Examples<pre><code>(length \"Hello, World\")  ;; Returns 12\n(length '(1 2 3))        ;; Returns 3\n</code></pre> <p></p>"},{"location":"development/ACMEScript-functions/#let","title":"let*","text":"<p><code>(let* [( &lt;variable&gt; &lt;s-expression&gt; )]+</code>)</p> <p>The <code>let*</code> function let one assigns values to variables in multiple steps. </p> <p>Each assignment consists, like the setq function, of an implicit quoted list with a variable symbol and an s-expression, but differently from the setq function, the <code>let*</code> function handles multiple assignments. The assignments are handled sequentially.</p> <p>Note</p> <p>The <code>let</code> function (without the star), where assignments are handled in parallel is yet not supported.</p> <p>See also</p> <p>setq</p> Examples<pre><code>(let* (a 1)         ;; Assigns 1 to a\n    (a (+ a 1)))    ;; Assigns a + 1 = 2 to a\n(let* (b 2) (c 3))  ;; Assigns 2 to b and 3 to c\n</code></pre>"},{"location":"development/ACMEScript-functions/#list","title":"list","text":"<p><code>(list &lt;symbol&gt;+)</code></p> <p>The <code>list</code> function returns a list that contains all the symbol arguments.</p> <p>See also</p> <p>cons</p> Example<pre><code>(list 1 2 3)  ;; Returns ( 1 2 3 )\n</code></pre>"},{"location":"development/ACMEScript-functions/#log","title":"log","text":"<p><code>(log &lt;s-expression&gt;*)</code></p> <p>The <code>log</code> function prints symbols to the logging console with a debug log-level. Usually these symbols are strings or numbers, but representations of other data types are supported as well.</p> <p>The function always returns nil.</p> <p>See also</p> <p>log-error, print</p> Example<pre><code>(log \"Hello, World\")  ;; Prints \"Hello, World\" to the log\n</code></pre>"},{"location":"development/ACMEScript-functions/#log-error","title":"log-error","text":"<p><code>(log &lt;s-expression&gt;*)</code></p> <p>The <code>log-error</code> function prints symbols to the logging console with an warning log-level. Usually these symbols are strings or numbers, but representations of other data types are supported as well.</p> <p>The function always returns nil.</p> <p>See also</p> <p>log, print</p> Example<pre><code>(log-error \"Hello, World\")  ;; Prints \"Hello, World\" to the warning log\n</code></pre>"},{"location":"development/ACMEScript-functions/#lower","title":"lower","text":"<p><code>(lower &lt;string&gt;</code>)</p> <p>The <code>lower</code> function returns a lower case copy of the input string.</p> <p>See also</p> <p>upper</p> Example<pre><code>(lower \"Hello, World\")  ;; Returns \"hello, world\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#match","title":"match","text":"<p><code>(match &lt;string&gt; &lt;regex:string&gt;</code>)</p> <p>The <code>match</code> function determines whether a string matches a regular expression regex.</p> <p>Note</p> <p>The default implementation supports a simplified regex operator set:</p> <ul> <li><code>?</code> : any single character</li> <li><code>*</code> : zero or more characters</li> <li><code>+</code> : one or more characters</li> <li><code>\\</code> : Escape an expression operator</li> </ul> Examples<pre><code>(match \"aa\" \"a?\")  ;; Returns true\n(match \"aa\" \"b*\")  ;; Returns false\n</code></pre>"},{"location":"development/ACMEScript-functions/#nl","title":"nl","text":"<p><code>(nl)</code></p> <p>The <code>nl</code> function returns a newline character.</p> <p>See also</p> <p>print,  sp</p> Example<pre><code>(. \"Hello,\" nl \"World\")  ;; Returns \"Hello,\\nWorld\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#nth","title":"nth","text":"<p><code>(nth &lt;index:number&gt; &lt;list or string&gt;</code>)</p> <p>The <code>nth</code> function returns the n-th element from a list, or the nth character from a string.</p> <p>The index is 0-based.</p> <p>See also</p> <p>car,  cdr, index-of</p> Examples<pre><code>(nth 2 '(1 2 3))        ;; Returns 3\n(nth 2 \"Hello, World\")  ;; Returns \"l\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#parse-string","title":"parse-string","text":"<p><code>(parse-string &lt;string with an &lt;s-expression&gt;)</code></p> <p>The <code>parse-string</code> function parses a string that contains an s-expression and returns the result as an executable s-expression for further evaluation, e.g. with the eval function.</p> <p>See also</p> <p>eval, to-symbol</p> Example<pre><code>(eval (parse-string \"(print \\\"hello, world\\\")\"))  ;; Prints \"hello, world\" \n</code></pre>"},{"location":"development/ACMEScript-functions/#print","title":"print","text":"<p><code>(print &lt;s-expression&gt;*)</code></p> <p>The <code>print</code> function prints symbols to the console. Usually these symbols are strings or numbers, but representations of other data types are supported as well.</p> <p>The function always returns nil.</p> <p>See also</p> <p>log, log-error</p> Example<pre><code>(print \"Hello, World\")  ;; Prints \"Hello, World\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#progn","title":"progn","text":"<p><code>(progn &lt;s-expression&gt;+)</code></p> <p>The <code>progn</code> function evaluates all provided symbols or lists, and returns the result of the last evaluation. All other results are ignored.</p> <p>This function is implicitly used internally when used to evaluate s-expressions.</p> <p>See also</p> <p>eval</p> Example<pre><code>(progn (print \"Hello, World\") 1)  ;; Prints \"Hello, World\" and returns 1\n</code></pre>"},{"location":"development/ACMEScript-functions/#quit","title":"quit","text":"<p><code>(quit [&lt;symbol&gt;])</code></p> <p>The <code>quit</code> function ends the execution of the current script without an 0 error code.</p> <p>If a symbol is provided for the optional argument its value is taken as the result of the script. Otherwise, nil is returned.</p> <p>See also</p> <p>quit-with-error</p> Examples<pre><code>(quit)             ;; Returns nil\n(quit \"a result\")  ;; Returns \"a result\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#quit-with-error","title":"quit-with-error","text":"<p><code>(quit-with-error [&lt;symbol&gt;])</code></p> <p>The <code>quit-with-error</code> function ends the execution of the current script with an -1 error code.</p> <p>If a symbol is provided for the optional argument its value is taken as the result of the script. Otherwise, nil is returned.</p> <p>See also</p> <p>quit</p> Examples<pre><code>(quit-with-error)             ;; Returns nil\n(quit-with-error \"a result\")  ;; Returns \"a result\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#quote","title":"quote","text":"<p><code>(quote  &lt;symbol or list&gt;)</code></p> <p>The <code>quote</code> function returns a quoted version of the argument. It can be used to get a quoted version of an s-expression or symbol that is the result of another function.</p> Example<pre><code>(quote (1 2 3))  ;; Returns (1 2 3)\n</code></pre>"},{"location":"development/ACMEScript-functions/#random","title":"random","text":"<p><code>(random [&lt;end:number&gt; or &lt;start:number&gt; &lt;end:number&gt;])</code></p> <p>The <code>random</code> function generates a random float number in the given range. </p> <p>The default for the range, when no argument is given, is [0.0, 1.0]. If one number argument is given then this indicates a range of [0.0, \\]. If two number arguments are given then this indicates a range of [\\, \\]. Examples<pre><code>(random)         ;; Returns, for example, 0.748786\n(random 10)      ;; Returns, for example, 4.976338\n(random 10 20)   ;; returns, for example, 12.73221\n</code></pre>"},{"location":"development/ACMEScript-functions/#remove-json-attribute","title":"remove-json-attribute","text":"<p><code>(remove-json-attribute &lt;JSON&gt; &lt;key:string&gt;+)</code></p> <p>The <code>remove-json-attribute</code> function removes one or more attributes and their values from a JSON structure via their key paths. This key may be a structured path to access elements deeper down in the JSON structure. See get-json-attribute for further details on how to access JSON attributes.</p> <p>The function doesn't change the original JSON structure, but returns an updated structure.</p> <p>See also</p> <p>get-json-attribute, has-json-attribute, set-json-attribute</p> Examples<pre><code>(remove-json-attribute { \"a\" : { \"b\" : \"c\" }} \"a/b\")  ;; Returns { \"a\" : {} }\n</code></pre>"},{"location":"development/ACMEScript-functions/#return","title":"return","text":"<p><code>(return [&lt;s-expression&gt;])</code></p> <p>The <code>return</code> function stops the evaluation of a function or while loop and returns the evaluation to the caller. The function may return a symbol, or nil.</p> <p>See also</p> <p>defun, while</p> Example<pre><code>(if (&lt; 1 2)      ;; Evaluates to \"true\"\n    (return 23)  ;; Return the number 23\n)\n</code></pre>"},{"location":"development/ACMEScript-functions/#return-from","title":"return-from","text":"<p><code>(return-from &lt;block name:string&gt; [&lt;s-expression&gt;])</code></p> <p>The <code>return-from</code> function stops the evaluation of a block with the given name and returns the evaluation to the caller. </p> <p>The function may return a symbol, or nil.</p> <p>See also</p> <p>block</p> Examples<pre><code>(block \"myBlock\" 1 (return-from \"myBlock\" 2) 3)  ;; Returns 2\n</code></pre>"},{"location":"development/ACMEScript-functions/#round","title":"round","text":"<p><code>(round &lt;value:number&gt; [&lt;precission:number&gt;])</code></p> <p>The <code>round</code> function rounds a number to precision digits after the decimal point. The default is 0, meaning to round to nearest integer.</p> Examples<pre><code>(round 3.1415926)    ;; Returns 3\n(round 3.1415926 2)  ;; Returns 3.14\n</code></pre>"},{"location":"development/ACMEScript-functions/#set-json-attribute","title":"set-json-attribute","text":"<p><code>(set-json-attribute &lt;JSON&gt; &lt;key:string&gt; &lt;value&gt;)</code> <code>(set-json-attribute &lt;JSON&gt; '( '(&lt;key:string&gt; &lt;value&gt;)* )</code></p> <p>The <code>set-json-attribute</code> function adds or updates an attribute in a JSON structure via a key path to the new value. This key may be a structured path to access elements deeper down in the JSON structure. See get-json-attribute for further details on how to access JSON attributes.</p> <p>There are two forms to use this function:</p> <ul> <li>The first form takes a JSON structure, a key path, and a value as arguments. The function sets the attribute in the JSON structure and returns the updated structure.</li> <li> <p>The second form takes a JSON structure and a list of list of key-value pairs as arguments. The function sets the attributes in the JSON structure and returns the updated structure. This form is useful when multiple attributes need to be set in one call.</p> <p>Note</p> <p>The list as well as each list of key-value pairs need to be quoted if provided directly.</p> </li> </ul> <p>The function doesn't change the original JSON structure, but returns an updated structure.</p> <p>See also</p> <p>get-json-attribute, has-json-attribute, remove-json-attribute</p> Examples<pre><code>(set-json-attribute { \"a\" : { \"b\" : \"c\" }} \"a/b\" \"e\")  ;; Returns {\"a\": {\"b\": \"e\"}}\n(set-json-attribute { \"a\" : { \"b\" : \"c\" }} '('(\"a/b\" \"d\") '(\"a/c\" \"e\")))  ;; Returns { \"a\" : { \"b\" : \"d\", \"c\" : \"e\"}\n</code></pre>"},{"location":"development/ACMEScript-functions/#setq","title":"setq","text":"<p><code>(setq &lt;variable&gt; &lt;s-expression)</code></p> <p>The <code>setq</code> function assigns a value to a variable.</p> <p>See also</p> <p>let*</p> Example<pre><code>(setq a \"Hello, World\")  ;; Returns \"Hello, World\" and sets the variable \"a\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#sleep","title":"sleep","text":"<p><code>(sleep &lt;number&gt;)</code></p> <p>The <code>sleep</code> function adds a delay to the script execution. The evaluation stops for a number of seconds. The delay could be provided as an integer or float number.</p> <p>If the script execution timeouts during a sleep, the function is interrupted and all subsequent s-expressions are not evaluated.</p> <p>The function returns the delay.</p> Example<pre><code>(sleep 1.5)  ;; Sleep for 1.5 seconds\n</code></pre>"},{"location":"development/ACMEScript-functions/#slice","title":"slice","text":"<p><code>(slice &lt;start:number&gt; &lt;end:number&gt; &lt;list or string&gt;)</code></p> <p>The <code>slice</code> function returns the slice of a list or a string.</p> <p>The behavior is the same as slicing in Python, except that both start and end must be provided. The first argument is the start (including) of the slice, the second is the end (excluding) of the slice. The fourth argument is the list or string to slice.</p> Examples<pre><code>(slice 1 2 '(1 2 3))     ;; Returns (2)\n(slice 0 -1 \"abcde\")     ;; Returns \"abcd\"\n(slice -1 99 \"abcde\")    ;; Returns \"e\"\n(slice 99 100 '(1 2 3))  ;; Returns ()\n</code></pre>"},{"location":"development/ACMEScript-functions/#sp","title":"sp","text":"<p><code>(sp)</code></p> <p>The <code>sp</code> function returns a space character.</p> <p>See also</p> <p>print,  nl</p> Example<pre><code>(. \"Hello,\" sp \"World\")  ;; Returns \"Hello, World\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#string-to-json","title":"string-to-json","text":"<p><code>(string-to-json &lt;string&gt;)</code></p> <p>The <code>string-to-json</code> function converts a string to a JSON structure and returns it. The string must contain a valid parseable JSON structure.</p> <p>See also</p> <p>json-to-string, to-number, jsonify</p> Example<pre><code>(string-to-json \"{ \\\"a\\\" : { \\\"b\\\" : \\\"c\\\" }}\")  ;; Returns {\"a\": {\"b\": \"c\"}}\n</code></pre>"},{"location":"development/ACMEScript-functions/#to-number","title":"to-number","text":"<p><code>(to-number &lt;symbol&gt;)</code></p> <p>The <code>to-number</code> function converts a string that contains a number to a number symbol and returns it.</p> <p>See also</p> <p>json-to-string,  to-string</p> Example<pre><code>(to-number \"123\")  ;; Returns the number 123\n</code></pre>"},{"location":"development/ACMEScript-functions/#to-string","title":"to-string","text":"<p><code>(to-string &lt;symbol&gt;)</code></p> <p>The <code>to-string</code> function converts a symbol of any of the built-in types to a string representation and returns it.</p> <p>See also</p> <p>json-to-string, to-number</p> Example<pre><code>(to-string '(1 2))  ;; Returns \"[1, 2]\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#to-symbol","title":"to-symbol","text":"<p><code>(to-symbol &lt;string&gt;)</code></p> <p>The <code>to-symbol</code> function converts a string to a symbol and returns it. The resulting symbol has the name and value of the input string, but is itself not a string.</p> <p>See also</p> <p>eval, parse-string, parse-string</p> Example<pre><code>(to-symbol \"a-symbol\")  ;; Returns the symbol 'a-symbol'\n</code></pre>"},{"location":"development/ACMEScript-functions/#unwind-protect","title":"unwind-protect","text":"<p><code>(unwind-protect &lt;s-expression&gt; &lt;cleanup s-expression&gt;)</code></p> <p>The <code>unwind-protect</code> function evaluates the first s-expression and then the second s-expression.  The second s-expression is always evaluated, even if the first s-expression throws an error or returns early. This is effectively a try/finally block (without a catch)</p> <p>Currently only programmatic flow interrupts are supported to trigger the cleanup form: assert, quit, quit-with-error, return, return-from.</p> <p>The function always returns the result of the cleanup s-expression.</p> Example<pre><code>;; Prints \"main form\" and \"cleanup form\" and returns 2\n(unwind-protect\n    ((print \"main form\") 1)\n    ((print \"cleanup form\") 2))\n</code></pre>"},{"location":"development/ACMEScript-functions/#upper","title":"upper","text":"<p><code>(upper &lt;string&gt;</code>)</p> <p>The <code>upper</code> function returns an upper case copy of the input string.</p> <p>See also</p> <p>lower</p> Example<pre><code>(upper \"Hello, World\")  ;; Returns \"HELLO, WORLD\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#url-encode","title":"url-encode","text":"<p><code>(url-encode &lt;string&gt;)</code></p> <p>The <code>url-encode</code> function encodes a string so that may be safely used as part of a URL.</p> <p>See also</p> <p>base64-encode</p> Example<pre><code>(url-encode \"Hello, World\")  ;; Returns \"Hello%2C+World\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#while","title":"while","text":"<p><code>(while &lt;boolean guard&gt; &lt;body s-expression&gt;</code>)</p> <p>The <code>while</code> function implements a loop functionality.</p> <p>A <code>while</code> loop continues to run when the first guard s-expression evaluates to true. Then the body s-expression is evaluated. After this the guard is evaluated again and the the loops continues or the <code>while</code> function returns.</p> <p>The boolean guard can be any s-expression that evaluates to a boolean value or nil, or a list or a string. nil values, empty lists, or zero-length strings evaluate to false, or to true otherwise.</p> <p>The <code>while</code> function returns the result of the last evaluated s-expression in the body.</p> <p>See also</p> <p>dolist, dotime, return</p> Example<pre><code>(setq i 0)       ;; Set loop variable\n(while (&lt; i 10)  ;; Loop 10 times\n    ((print i)   ;; Print to the console\n    (inc i)))    ;; Increment loop variable\n</code></pre>"},{"location":"development/ACMEScript-functions/#cse-specific-functions","title":"CSE-Specific Functions","text":"<p>The following functions provide support to access certain CSE functionalities, configurations, and other runtime aspects.</p>"},{"location":"development/ACMEScript-functions/#clear-console","title":"clear-console","text":"<p><code>(clear-console)</code></p> <p>The <code>clear-console</code> function clears the console screen.</p> Example<pre><code>(clear-console)  ;; Clears the console screen\n</code></pre>"},{"location":"development/ACMEScript-functions/#cse-attribute-info","title":"cse-attribute-info","text":"<p><code>(cse-attribute-info &lt;name:str&gt;)</code></p> <p>Return a list of CSE attribute infos for the attribute `name``.  The search is done over the short and long names of the attributes applying a fuzzy search when searching the long names.</p> <p>The function returns a quoted list where each entry is another quoted list with the following symbols:</p> <ul> <li>attribute short name</li> <li>attribute long name</li> <li>attribute type</li> </ul> Example<pre><code>(cse-attribute-info \"acop\")  ;; Returns ( ( \"acop\" \"accessControlOperations\" \"nonNegInteger\" ) )\n</code></pre>"},{"location":"development/ACMEScript-functions/#cse-status","title":"cse-status","text":"<p><code>(cse-status)</code></p> <p>The <code>cse-status</code> function returns the CSE's current running status as an upper-case string. </p> <p>The return value is one of the following strings:</p> <ul> <li>STARTING</li> <li>RUNNING</li> <li>STOPPING </li> <li>STOPPED </li> <li>RESETTING</li> </ul> Example<pre><code>(cse-status)  ;; Returns \"RUNNING\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-config","title":"get-config","text":"<p><code>(get-config &lt;key:string&gt;)</code></p> <p>The <code>get-config</code> function retrieves a setting from the CSE's internal configuration. The key is a configuration name as defined in the configuration documentation.</p> <p>See also</p> <p>has-config, set-config</p> Examples<pre><code>(get-config \"cse.type\")    ;; Returns, for example, 1\n(get-config \"cse.cseID\")   ;; Returns, for example, \"/id-in\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-loglevel","title":"get-loglevel","text":"<p><code>(get-loglevel)</code></p> <p>The <code>get-loglevel</code> function retrieves a the CSE's current log level setting. The return value is one of the following strings:</p> <ul> <li>DEBUG</li> <li>INFO</li> <li>WARNING</li> <li>ERROR</li> <li>OFF</li> </ul> Example<pre><code>(get-loglevel)  ;; Return, for example, INFO\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-storage","title":"get-storage","text":"<p><code>(get-storage &lt;key:string&gt;)</code></p> <p>The <code>get-storage</code> function retrieves a value from the CSE's internal script-data storage. The key is a unique name of the value.</p> <p>See also</p> <p>has-storage, put-storage, remove-storage</p> Example<pre><code>(get-storage \"aStorageID\" \"aKey\")  ;; Retrieves the value for \"aKey\" from \"aStorageID\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#has-config","title":"has-config","text":"<p><code>(has-config &lt;key:string&gt;)</code></p> <p>The <code>has-config</code> function determines whether a setting from the CSE's internal configuration exists. The key is a configuration name as defined in the configuration documentation.</p> <p>See also</p> <p>get-config, set-config</p> Examples<pre><code>(has-config \"cse.cseID\")     ;; Returns true\n(has-config \"cse.unknown\")   ;; Returns false\n</code></pre>"},{"location":"development/ACMEScript-functions/#has-storage","title":"has-storage","text":"<p><code>(has-storage &lt;key:string&gt;)</code></p> <p>The <code>has-storage</code> function determines whether a value has been stored under the given key in the CSE's internal script-data storage.</p> <p>See also</p> <p>get-storage, put-storage, remove-storage</p> Example<pre><code>(has-storage \"aStorageID\" \"aKey\")       ;; Tests whether the key \"aKey\" exists in \"aStorageID\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#include-script","title":"include-script","text":"<p><code>(include-script &lt;script name:string&gt; [&lt;argument:any&gt;]*)</code></p> <p>The <code>include-script</code> function runs another ACMEScript script by its script name in its own context. Differently to the run-script function variables, function definitions etc from the script execution are available in the calling script after the script finished.</p> <p>The function returns the result of the finished script.</p> <p>See also</p> <p>run-script, schedule-next-script</p> Example<pre><code>(include-script \"functions\" \"an argument\")  ;; Run the script \"functions\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#log-divider","title":"log-divider","text":"<p><code>(log-divider [&lt;message:string&gt;])</code></p> <p>The <code>log-divider</code> function inserts a divider line in the CSE's DEBUG log. It can help to easily identify the different sections when working with many requests. An optional (short) message can be provided in the argument.</p> Examples<pre><code>(log-divider)                 ;; Add a divider\n(log-divider \"Hello, World\")  ;; Add a divider with a centered message\n</code></pre>"},{"location":"development/ACMEScript-functions/#print-json","title":"print-json","text":"<p><code>(print-json &lt;JSON&gt;)</code></p> <p>The <code>print-json</code> function prints a JSON structure with syntax highlighting to the console.</p> Example<pre><code>(print-json { \"m2m:cnt\" : { \"rn\": \"myCnt\" }})  ;; Print the JSON structure\n</code></pre>"},{"location":"development/ACMEScript-functions/#put-storage","title":"put-storage","text":"<p><code>(put-storage &lt;storageID:string&gt; &lt;key:string&gt; &lt;value:symbol&gt;)</code></p> <p>The <code>put-storage</code> function inserts or updates a value in the CSE's internal script-data storage with the storage ID storageID. The key is a unique name of the value.</p> <p>See also</p> <p>get-storage, has-storage, remove-storage</p> Example<pre><code>(put-storage \"aStorageID\" \"aKey\" \"Hello, World\")  ;; Inserts or updates the key \"aKey\" in \"aStorageID\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#remove-storage","title":"remove-storage","text":"<p><code>(remove-storage &lt;key:string&gt;)</code> <code>(remove-storage &lt;storageID:string&gt; &lt;key:string&gt;)</code></p> <p>There are two forms of the <code>remove-storage</code> function.</p> <p>With only one parameter the <code>remove-storage</code> function removes all key/value pairs from the CSE's internal script-data storage with the storage ID storageID. </p> <p>With two parameters the <code>remove-storage</code> function removes a key/value pair from the CSE's internal script-data storage with the storage ID storageID. The key is a unique name of the value.</p> <p>See also</p> <p>get-storage, has-storage, put-storage</p> Examples<pre><code>(remove-storage \"aStorageID\" \"aKey\")  ;; Removes the key and value from storageID\n(remove-storage \"aStorageID\")         ;; Removes all keys and value from storageID\n</code></pre>"},{"location":"development/ACMEScript-functions/#reset-cse","title":"reset-cse","text":"<p><code>(reset-cse)</code></p> <p>The <code>reset-cse</code> function initiates a CSE reset.</p> <p>The script execution does continue after the CSE finished the reset.</p> Example<pre><code>(reset-cse)  ;; Resets the CSE\n</code></pre>"},{"location":"development/ACMEScript-functions/#run-script","title":"run-script","text":"<p><code>(run-script &lt;script name:string&gt; [&lt;argument:any&gt;]*)</code></p> <p>The <code>run-script</code> function runs another ACMEScript script by its script name in its own scope. Variables, function definitions etc from the script execution are not available in the calling script.</p> <p>The function returns the result of the finished script.</p> <p>See also</p> <p>include-script, schedule-next-script</p> Example<pre><code>(setq result (run-script \"aScript\" \"an argument\"))  ;; Run the script \"aScript\" and assign the result\n</code></pre>"},{"location":"development/ACMEScript-functions/#runs-in-ipython","title":"runs-in-ipython","text":"<p><code>(runs-in-ipython)</code></p> <p>The <code>runs-in-ipython</code> function determines whether the CSE currently runs in an IPython environment, such as Jupyter Notebooks.</p> Example<pre><code>(runs-in-ipython)  ;; Returns true if the CSE runs in an iPython environment\n</code></pre>"},{"location":"development/ACMEScript-functions/#schedule-next-script","title":"schedule-next-script","text":"<p><code>(schedule-next-script &lt;scriptName:string&gt; &lt;argument:any&gt;*)</code></p> <p>The <code>schedule-next-script</code> function schedules the next script that is run after the current script finished. </p> <p>This is different from include-script and run-script in so far that the context of the current running script is finished and may be called again. This means that a script can schedule itself, which would not be possible otherwise because scripts can only be run one at a time.</p> <p>See also</p> <p>include-script, run-script</p> Example<pre><code>(schedule-next-script \"scriptName\" \"anArgument\")  ;; Schedule a script with an argument\n</code></pre>"},{"location":"development/ACMEScript-functions/#set-config","title":"set-config","text":"<p><code>(set-config &lt;key:string&gt; &lt;value:any&gt;)</code></p> <p>The <code>set-config</code> function updates a setting from the CSE's internal configuration. The key is a configuration name as defined in the configuration documentation.</p> <p>It is only possible to update an existing setting, but not to create a new one. The value type must be equivalent to the setting's type.</p> <p>See also</p> <p>get-config, has-config</p> Example<pre><code>(set-config \"cse.checkExpirationsInterval\" 1.5)  ;; Set the configuration to 1.5\n</code></pre>"},{"location":"development/ACMEScript-functions/#set-console-logging","title":"set-console-logging","text":"<p><code>(set-console-logging &lt;boolean&gt;)</code></p> <p>The <code>set-console-logging</code> function enables or disables console logging. It does not turn on or off logging in general. Printing to the console is not affected.</p> Example<pre><code>(set-console-logging false)  ;; Switch off console logging\n</code></pre>"},{"location":"development/ACMEScript-functions/#onem2m-specific-functions","title":"oneM2M-Specific Functions","text":"<p>The following functions provide support for the oneM2M request operations.</p>"},{"location":"development/ACMEScript-functions/#create-resource","title":"create-resource","text":"<p><code>(create-resource &lt;originator:string&gt; &lt;resource-id:string&gt; &lt;resource:JSON&gt; [request arguments:JSON])</code></p> <p>The <code>create-resource</code> function sends a oneM2M CREATE request to a target resource.</p> <p>The function has the following arguments:</p> <ul> <li>originator of the request</li> <li>The target resource-id</li> <li>The resource JSON structure</li> <li>Optional: A JSON structure  with additional request arguments</li> </ul> <p>The function will provide defaults for the required request arguments (e.g. rvi, rid). These can be overwritten if necessary by setting them in the request arguments argument.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code></p> <ul> <li>response status is the oneM2M Response Status Code (RSC) for the request</li> <li>resource is the response content</li> </ul> <p>See also</p> <p>delete-resource, import-raw, retrieve-resource, send-notification, update-resource</p> Example<pre><code>(create-resource \"CAdmin\" \"cse-in\"  { \"m2m:cnt\" : { \"rn\": \"myCnt\" }})  ;; Returns ( 2001 { \"m2m:cnt\" ... } )\n\n;; Provide extra requestVersionIndicator\n(create-resource \"CAdmin\" \"cse-in\"  { \"m2m:cnt\" : { }} { \"rvi\": \"3\"})  ;; Returns ( 2001 { \"m2m:cnt\" ... } )\n</code></pre>"},{"location":"development/ACMEScript-functions/#delete-resource","title":"delete-resource","text":"<p><code>(delete-resource &lt;originator:string&gt; &lt;resource-id:string&gt; [request arguments:JSON])</code></p> <p>The <code>delete-resource</code> function sends a oneM2M DELETE request to a target resource.</p> <p>The function has the following arguments:</p> <ul> <li>originator of the request</li> <li>The target resource-id</li> <li>Optional: A JSON structure  with additional request arguments</li> </ul> <p>The function will provide defaults for the required request arguments (e.g. rvi, rid). These can be overwritten if necessary by setting them in the request arguments argument.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code></p> <ul> <li>response status is the oneM2M Response Status Code (RSC) for the request</li> <li>resource is the response content (usually nil if successful)</li> </ul> <p>See also</p> <p>create-resource, retrieve-resource, send-notification, update-resource</p> Example<pre><code>(delete-resource \"CAdmin\" \"cse-in/myCnt\")                ;; Returns ( 2002 { \"m2m:cnt\" ... } )\n\n;; Provide extra requestVersionIndicator\n(delete-resource \"CAdmin\" \"cse-in/myCnt\" { \"rvi\": \"3\"})  ;; Returns ( 2002 { \"m2m:cnt\" ... } )\n</code></pre>"},{"location":"development/ACMEScript-functions/#import-raw","title":"import-raw","text":"<p><code>(import-raw &lt;originator:string&gt; &lt;resource:JSON&gt;)</code></p> <p>The <code>import-raw</code> function creates a resource in the CSE without using the normal procedures when handling a CREATE request. The resource is added to the resource tree without much validation.</p> <p>This function is primarily used when importing initial resources, and when restoring resources during the startup of the CSE.</p> <p><code>resource</code> is a valid oneM2M resource. All necessary attributes must be present in that resource, including the parentID ( pi ) attribute that determines the location in the resource tree.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code> - response status is the oneM2M Response Status Code (RSC) for the request - resource is the response content (usually nil if successful)</p> Example<pre><code>;; Add an AE resource under the CSEBase\n(import-raw \n    \"CmyAE\"                                      ;; Originator\n    { \"m2m:ae\": {\n        \"ri\":  \"CmyAE\",\n        \"rn\":  \"CmyAE\",\n        \"pi\":  \"${ (get-config \\\"cse.ri\\\") }\",  ;; Get the CSE's resource ID from the configuration\n        \"rr\":  true,\n        \"api\": \"NmyAppId\",\n        \"aei\": \"CmyAE\",\n        \"csz\": [ \"application/json\", \"application/cbor\" ]\n    }})\n</code></pre>"},{"location":"development/ACMEScript-functions/#query-resource","title":"query-resource","text":"<p><code>(query-resource &lt;query:quoted s-expression&gt; &lt;resource:JSON&gt;)</code></p> <p>The <code>query-resource</code> function evaluates a query for the attributes in the resource structure.</p> <p>The function has the following arguments:</p> <ul> <li>query to evaluate. This query must be quoted and follows oneM2M's advanced query specification. the unknown symbols in the query are replaced by the resource's attribute values during the evaluation.     Only a limited set boolean and comparison operators are allowed in the query.</li> <li>A oneM2M resource as a JSON structure.</li> </ul> <p>The function returns a boolean indicating the query result.</p> <p>See also</p> <p>get-json-attribute</p> Example<pre><code>;; Returns true\n(query-resource \n    '(&amp; (&gt; x 100) (== rn \"cnt1234\"))\n    { \"m2m:cnt\": {\n        \"rn\": \"cnt1234\",\n        \"x\": 123\n    }})\n</code></pre>"},{"location":"development/ACMEScript-functions/#retrieve-resource","title":"retrieve-resource","text":"<p><code>(retrieve-resource &lt;originator:string&gt; &lt;resource-id:string&gt; [request arguments:JSON])</code></p> <p>The <code>retrieve-resource</code> function sends a oneM2M RETRIEVE request to a target resource.</p> <p>The function has the following arguments:</p> <ul> <li>originator of the request</li> <li>The target resource-id</li> <li>Optional: A JSON structure  with additional request arguments</li> </ul> <p>The function will provide defaults for the required request arguments (e.g. rvi, rid). These can be overwritten if necessary by setting them in the request arguments argument.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code></p> <ul> <li>response status is the oneM2M Response Status Code (RSC) for the request</li> <li>resource is the response content (usually the target resource if successful)</li> </ul> <p>See also</p> <p>create-resource, delete-resource, send-notification, update-resource</p> Example<pre><code>(retrieve-resource \"CAdmin\" \"cse-in/myCnt\")                ;; Returns ( 2000 { \"m2m:cnt\" ... } )\n\n;; Provide extra requestVersionIndicator\n(retrieve-resource \"CAdmin\" \"cse-in/myCnt\" { \"rvi\": \"3\"})  ;; Returns ( 2000 { \"m2m:cnt\" ... } )\n</code></pre>"},{"location":"development/ACMEScript-functions/#send-notification","title":"send-notification","text":"<p><code>(send-notification &lt;originator:string&gt; &lt;resource-id:string&gt; &lt;notification:JSON&gt; [request arguments:JSON])</code></p> <p>The <code>send-notification</code> function sends a oneM2M NOTIFY request to a target resource.</p> <p>The function has the following arguments:</p> <ul> <li>originator of the request</li> <li>The target resource-id</li> <li>The notification JSON structure</li> <li>Optional: A JSON structure  with additional request arguments</li> </ul> <p>The function will provide defaults for the required request arguments (e.g. rvi, rid). These can be overwritten if necessary by setting them in the request arguments argument.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code></p> <ul> <li>response status is the oneM2M Response Status Code (RSC) for the request</li> <li>resource is the response content</li> </ul> <p>See also</p> <p>create-resource, delete-resource, retrieve-resource, update-resource</p> Example<pre><code>(send-notification \"CAdmin\" \"cse-in/myAE\"  { \"m2m:sgn\" : { ... }})  ;; Returns notification result\n</code></pre>"},{"location":"development/ACMEScript-functions/#update-resource","title":"update-resource","text":"<p><code>(update-resource &lt;originator:string&gt; &lt;resource-id:string&gt; &lt;resource:JSON&gt; [request arguments:JSON])</code></p> <p>The <code>update-resource</code> function sends a oneM2M UPDATE request to a target resource.</p> <p>The function has the following arguments:</p> <ul> <li>originator of the request</li> <li>The target resource-id</li> <li>The resource JSON structure</li> <li>Optional: A JSON structure  with additional request arguments</li> </ul> <p>The function will provide defaults for the required request arguments (e.g. rvi, rid). These can be overwritten if necessary by setting them in the request arguments argument.</p> <p>The function returns a list:</p> <p><code>(&lt;response status:number&gt; &lt;resource:JSON&gt;)</code></p> <ul> <li>response status is the oneM2M Response Status Code (RSC) for the request</li> <li>resource is the response content</li> </ul> <p>See also</p> <p>create-resource, delete-resource, retrieve-resource, send-notification</p> Example<pre><code>(update-resource \"CAdmin\" \"cse-in\"  { \"m2m:cnt\" : { \"mni\": 10 }})                ;; Returns ( 2004 { \"m2m:cnt\" ... } )\n\n;; Provide extra requestVersionIndicator\n(update-resource \"CAdmin\" \"cse-in\"  { \"m2m:cnt\" : { \"mni\": 10 }} { \"rvi\": \"3\"})  ;; Returns ( 2004 { \"m2m:cnt\" ... } )\n</code></pre>"},{"location":"development/ACMEScript-functions/#text-ui","title":"Text UI","text":""},{"location":"development/ACMEScript-functions/#open-web-browser","title":"open-web-browser","text":"<p><code>(open-web-browser &lt;url:string&gt;)</code></p> <p>The <code>open-web-browser</code> function opens a web browser with the given URL.</p> Example<pre><code>(open-web-browser \"https://www.onem2m.org\")  ;; Opens the web browser with the URL \"https://www.onem2m.org\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#set-category-description","title":"set-category-description","text":"<p><code>(set-category-description &lt;category:string&gt; &lt;description:string&gt;)</code></p> <p>The <code>set-category-description</code> function sets the description for a whole category in the CSE's Text UI.</p> <p>The description may contain Markdown formatting.</p> Example<pre><code>(set-category-description \"myCategory\" \"My category description\")  ;; Sets the description for the category \"myCategory\"\n</code></pre>"},{"location":"development/ACMEScript-functions/#runs-in-tui","title":"runs-in-tui","text":"<p><code>(runs-in-tui)</code></p> <p>The <code>runs-in-tui</code> function determines whether the CSE currently runs in Text UI mode.</p> Example<pre><code>(runs-in-tui)  ;; Returns true if the CSE runs in Text UI mode\n</code></pre> <p></p>"},{"location":"development/ACMEScript-functions/#tui-notify","title":"tui-notify","text":"<p><code>(tui-notify &lt;message:str&gt; [&lt;title:str&gt;] [&lt;severity&gt;:str&gt;] [&lt;timeout:float&gt;])</code></p> <p>Show a desktop-like notification in the TUI.</p> <p>This function is only available in TUI mode. It has the following arguments:</p> <ul> <li>message: The message to show.</li> <li>title: (Optional) The title of the notification.</li> <li>severity: (Optional) The severity of the notification. This can be one of the following values:</li> <li>information (the default)</li> <li>warning</li> <li>error</li> <li>timeout: (Optional) The timeout in seconds after which the notification will disappear again. If not specified, the notification will disappear after 3 seconds.</li> </ul> <p>If one of the optional arguments needs to be left out, a nil symbol must be used instead. The function returns NIL.</p> Examples<pre><code>(tui-notify \"a message\")                ;; Displays \"a message\" in an information notification for 3 seconds\n(tui-notify \"a message\" \"a title\")      ;; Displays \"a message\" with title \"a title in an information notification for 3 seconds\n(tui-notify \"a message\")                ;; Displays \"a message\" in an information notification for 3 seconds\n(tui-notify \"a message\" nil \"warning\")  ;; Displays \"a message\" in a warning notification, no title\n(tui-notify \"a message\" nil nil 10)     ;; Displays \"a message\" in an information notification, no title, for 3 seconds\n</code></pre>"},{"location":"development/ACMEScript-functions/#tui-refresh-resources","title":"tui-refresh-resources","text":"<p><code>(tui-refresh-resources)</code></p> <p>The <code>tui-refresh-resources</code> function refreshes the resources in the CSE's Text UI.</p> Example<pre><code>(tui-refresh-resources)  ;; Refreshes the resource tree\n</code></pre>"},{"location":"development/ACMEScript-functions/#tui-visual-bell","title":"tui-visual-bell","text":"<p><code>(tui-visual-bell)</code></p> <p>The <code>tui-visual-bell</code> function shortly flashes the script's entry in the scripts' list/tree.</p> Example<pre><code>(tui-visual-bell)  ;; Flashes the script's name\n</code></pre>"},{"location":"development/ACMEScript-functions/#network","title":"Network","text":""},{"location":"development/ACMEScript-functions/#http","title":"http","text":"<p><code>(http &lt;operation:quoted symbol&gt; &lt;url:string&gt; [&lt;headers:JSON or nil&gt;] [&lt;body:string or JSON&gt;])</code></p> <p>The <code>http</code> function sends an http request to an http server.</p> <p>The function has the following arguments:</p> <ul> <li>operation of the request. This is one of the following supported quoted symbols: get, post, put, delete, patch</li> <li>The target server's url. This is a string with a valid URL.</li> <li>Optional: A JSON structure of header fields. Each header field is a JSON attribute with the name of the header field and its value. If the optional body argument is present then this argument must be present as well, ie. with at least an empty JSON structure or the nil symbol.</li> <li>Optional: The http request's body, which could be a string or a JSON structure. </li> </ul> <p>The function returns a list:</p> <p><code>(&lt;http status:number&gt; &lt;response body:JSON&gt; &lt;response headers:list of header fields)</code></p> <ul> <li>http status is the htttp status code for the request</li> <li>response body is the response content</li> <li>response headers is a list of header fields. The format of these header fields is the same as in the request above.</li> </ul> Examples<pre><code>;; Retrieve a web page\n(http 'get \"https://www.onem2m.org\")\n\n;; Send a oneM2M CREATE request manually\n(http 'post \"http://localhost:8080/cse-in\"   ;; Operation and URL\n    { \"X-M2M-RI\":\"1234\",                     ;; Header fields\n        \"X-M2M-RVI\": \"4\",\n        \"X-M2M-Origin\": \"CAdmin\",\n        \"Content-type\": \"application/json;ty=3\" }\n    { \"m2m:cnt\": {                           ;; Body\n        \"rn\": \"myCnt\"\n        ...\n    }})\n</code></pre>"},{"location":"development/ACMEScript-functions/#ping-tcp-service","title":"ping-tcp-service","text":"<p><code>(ping-tcp-server &lt;hostname:string&gt; &lt;port:number&gt; [&lt;timeout:number&gt;])</code></p> <p>The <code>ping-tcp-service</code>function tests the availability and reachability of a TCP-based network service.</p> <p>It has the following arguments:</p> <ul> <li>The hostname of the target service. This can be a hostname or an IP address.</li> <li>The port of the target service. This is a number.</li> <li>Optional: The request timeout in seconds. The default is 5 seconds.</li> </ul> <p>The function returns a boolean value.</p> Examples<pre><code>(ping-tcp-service \"localhost\" 8080)    ;; Returns true if the service is reachable\n(ping-tcp-service \"localhost\" 8080 2)  ;; Returns true if the service is reachable. Timeout after 2 seconds.\n</code></pre>"},{"location":"development/ACMEScript-functions/#provided-functions","title":"Provided Functions","text":"<p>In addition to the functions defined in this documentation, more functions are provided in the file ASFunctions.as. </p> <p>These functions can be included and made available in own scripts with the include-script function:</p> Example<pre><code>(include-script \"ASFunctions\")\n</code></pre>"},{"location":"development/ACMEScript-functions/#cadr","title":"cadr","text":"<p><code>(cadr &lt;list&gt;)</code></p> <p>The <code>cadr</code> function returns the second element of a list.</p> <p>See also</p> <p>caddr</p> Example<pre><code>(cadr '(1 2 3))  ;; Returns 2\n</code></pre>"},{"location":"development/ACMEScript-functions/#caddr","title":"caddr","text":"<p><code>(caddr &lt;list&gt;)</code></p> <p>The <code>caddr</code> function returns the third element of a list.</p> <p>See also</p> <p>cadr</p> Example<pre><code>(caddr '(1 2 3))  ;; Returns 3\n</code></pre>"},{"location":"development/ACMEScript-functions/#set-and-store-config-value","title":"set-and-store-config-value","text":"<p><code>(set-and-store-config-value &lt;key:string&gt; &lt;value:any&gt;)</code></p> <p>The <code>set-and-store-config-value</code> function stores the current value of a configuration setting and then updates the setting with a new value.</p> <p>The function has the following arguments:</p> <ul> <li>The key of the configuration setting</li> <li>The value to set</li> </ul> <p>The function returns the previous value of the configuration setting.</p> <p>See also</p> <p>restore-config-value</p> Example<pre><code>(set-and-store-config-value \"cse.checkExpirationsInterval\" 10)  ;; Returns the previous value of the configuration setting\n</code></pre>"},{"location":"development/ACMEScript-functions/#restore-config-value","title":"restore-config-value","text":"<p><code>(restore-config-value &lt;key:string&gt;)</code></p> <p>The <code>restore-config-value</code> function restores a configuration setting to its previous value.</p> <p>The function has the following arguments:</p> <ul> <li>The key of the configuration setting</li> </ul> <p>See also</p> <p>set-and-store-config-value</p> Example<pre><code>(restore-config-value \"cse.checkExpirationsInterval\")  ;; Restores the configuration setting\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-response-status","title":"get-response-status","text":"<p><code>(get-response-status &lt;response:list&gt;)</code></p> <p>The <code>get-response-status</code> function returns the response status of a oneM2M request.</p> <p>The function has the following arguments:</p> <ul> <li>The response list </li> </ul> <p>The function returns the response status.</p> <p>See also</p> <p>get-response-resource </p> Example<pre><code>(get-response-status (retrieve-resource \"CAdmin\" \"cse-in/myCnt\"))  ;; Returns the response status\n</code></pre>"},{"location":"development/ACMEScript-functions/#get-response-resource","title":"get-response-resource","text":"<p><code>(get-response-resource &lt;response:list&gt;)</code></p> <p>The <code>get-response-resource</code> function returns the response resource of a oneM2M request.</p> <p>The function has the following arguments:</p> <ul> <li>The response list</li> </ul> <p>The function returns the response resource.</p> <p>See also</p> <p>get-response-status</p> Example<pre><code>(get-response-resource (retrieve-resource \"CAdmin\" \"cse-in/myCnt\"))  ;; Returns the response resource\n</code></pre>"},{"location":"development/ACMEScript-functions/#eval-if-resource-exists","title":"eval-if-resource-exists","text":"<p><code>(eval-if-resource-exists &lt;originator:string&gt; &lt;id:string&gt; &lt;cmd:s-expression&gt; &lt;else-cmd:s-expression&gt;)</code></p> <p>The <code>eval-if-resource-exists</code> function evaluates a command if a resource exists and can be retrieved. Otherwise, it evaluates an alternative command.</p> <p>If found, the resource is stored in the \"_resource\" variable that can be used in the \"cmd\" command.</p> <p>The function has the following arguments:</p> <ul> <li>The originator of the request</li> <li>The id of the resource</li> <li>The cmd to evaluate if the resource exists</li> <li>The else-cmd to evaluate if the resource does not exist</li> </ul> <p>The function returns the result of the evaluated command.</p> Example<pre><code>(eval-if-resource-exists \"CAdmin\" \n                         \"cse-in/myCnt\" \n                         (print \"Resource exists\") \n                         (print \"Resource does not exist\"))  ;; Evaluates the command\n</code></pre>"},{"location":"development/ACMEScript-loading/","title":"Loading &amp; Running ACMEScripts","text":"<p>By default scripts are stored in and are imported from the init directory and in its sub-directories, which names end with .scripts. They are imported from the secondary init directory as well. In addition, one can specify a list of directories in the configuration file with additional scripts that will be imported from those directories.</p> <p>All files in those directories with the extension <code>.as</code> are treated as ACMEScript files and are automatically imported during CSE startup, and are also imported and updated during runtime if a file changes.</p>"},{"location":"development/ACMEScript-loading/#running-scripts","title":"Running Scripts","text":"<p>There are many different ways to run scripts:</p> <ul> <li>Scripts can be manually run from the console interface with the <code>R</code> (Run) command.</li> <li>They can also be run by a specified keypress from the console interface (see the onKey meta tag).</li> <li>Scripts can be scheduled to run at specific times or dates. This is similar to the Unix cron system (see the at meta tag).</li> <li>It is possible to schedule scripts to run at certain events. Currently, the CSE init, onStartup, onRestart, and onShutdown events are supported.</li> <li>Scrips can be run as a receiver of a NOTIFY request from the CSE. See the onNotification meta tag.</li> <li>They can also be run as a command of the Upper Tester Interface.</li> <li>Scripts can be integrated as tools in the Text UI. See also the section Text UI meta-tags for available tags.</li> </ul>"},{"location":"development/ACMEScript-loading/#script-arguments","title":"Script Arguments","text":"<p>Scripts may have arguments that can be accessed with the argv function and argc variable.</p> <p>Note</p> <p>Not all of the above methods support script arguments. For example, scripts that are run by the onStartup, onRestart, or onShutdown events do not support arguments.</p>"},{"location":"development/ACMEScript-loading/#script-prompt","title":"Script Prompt","text":"<p>A script may ask for input before it runs. This can be enabled with the @prompt meta tag. The prompt's answer is then assigned as the script's first argument.</p> <p>Attention</p> <p>The @prompt meta tag should only be used when human interaction can be ensured. Running a script with this meta tag, for example, scheduled or unattended will cause the script to wait forever for user input. </p>"},{"location":"development/ACMEScript-loading/#running-scripts-at-startup-restart-and-shutdown","title":"Running Scripts at Startup, Restart, and Shutdown","text":"<p>Right after a CSE finished the start-up or restart, or just before a CSE shuts down it looks for scripts that have the @onStartup, @onRestart, or @onShutdown meta tags set, and runs them respectively.</p>"},{"location":"development/ACMEScript-loading/#initialization-script","title":"Initialization Script","text":"<p>Whenever a CSE starts or is restarted (or reset) it is necessary to create couple of oneM2M resources and to build a basic resource tree. This is done by running a script that has the @init meta tag set. A script with this tag is executed right after the start of the internal services during the initialization of the importer service.</p> <p>Note</p> <p>Only one script must have the @init meta tag set. By default this is the init.as script from the CSE's init directory.</p>"},{"location":"development/ACMEScript-metatags/","title":"ACMEScript - Meta Tags","text":"<p>Meta tags are special commands in a script that are not executed during the runtime of a script, but describe certain capabilities of the script or give, for example, the script a name or provide instructions when a script should be executed. </p> <p>Meta tags are keywords that start with an at-character <code>@</code>. They can appear anywhere in a script file on a single line, but it is recommend to collect them either at the start or the end of a script. </p> <p>Important</p> <p>Meta tag names are case sensitive.</p>"},{"location":"development/ACMEScript-metatags/#accessing-meta-tags","title":"Accessing Meta Tags","text":"<p>Meta tags are added as constants to the script's environment and are prefixed with <code>meta.</code>. They can be accessed like any other environment variable, for example:</p> Accessing a Meta Tag<pre><code>(if (is-defined 'meta.name)            ;; note the quote in front of meta.name to prevent evaluation\n    (print \"Script name:\" meta.name))  ;; prints the script's name\n</code></pre>"},{"location":"development/ACMEScript-metatags/#basic-meta-tags","title":"Basic Meta Tags","text":""},{"location":"development/ACMEScript-metatags/#at","title":"@at","text":"<p><code>@at &lt;cron pattern&gt;</code></p> <p>The <code>@at</code> meta tag specifies a time / date pattern when a script should be executed. This pattern follows the Unix crontab pattern. </p> <p>A crontab pattern consists of the following six fields:  </p> <p><code>second minute hour dayOfMonth month dayOfWeek year</code></p> <p>Each field is mandatory and must comply to the following values:</p> <ul> <li><code>*</code> : any valid integer number for that field, or</li> <li><code>*/&lt;number&gt;</code> : step, or</li> <li><code>&lt;number&gt;-&lt;number</code> : range, or</li> <li><code>value[,value]*</code> : value is either a number, a step, or a range</li> </ul> Examples<pre><code>;; Run a script every 5 minutes\n@at 0 */5 * * * * *\n\n;; Run a script every Friday at 2:30 am\n@at 0 30 2 * * 4 *\n</code></pre>"},{"location":"development/ACMEScript-metatags/#description","title":"@description","text":"<p><code>@description &lt;string&gt;</code></p> <p>A short one-line description of a script's purpose. This is used, for example, for the console's script catalog.</p> <p>A description must be a single line, but may include line breaks (i.e. <code>\\n</code> characters). A description may also be formatted as markdown. This is then correctly displayed in the Text UI.</p> <p>See also</p> <p>@usage</p> Examples<pre><code>@description The purpose of this script is to demonstrate the @description meta tag\n\n@description # Markdown header\\n\\nFormatted **Markdown** text.\n</code></pre>"},{"location":"development/ACMEScript-metatags/#filename","title":"@filename","text":"<p><code>@filename &lt;string&gt;</code></p> <p>This meta tag is for internal use. It contains the script's full filename when read by the script manager.</p>"},{"location":"development/ACMEScript-metatags/#hidden","title":"@hidden","text":"<p><code>@hidden</code></p> <p>This meta tag indicates that a script will not be listed in the console's script catalog.</p> Example<pre><code>@hidden\n</code></pre>"},{"location":"development/ACMEScript-metatags/#init","title":"@init","text":"<p><code>@init</code></p> <p>This meta tag indicates that the script will be executed during the CSE's startup and restart. It is used to initialize the CSE and creates the basic resources.</p> <p>Important</p> <p>Only one script can have this meta tag set.</p> <p>See-also</p> <p>@onRestart, @onShutdown, @onStartup</p> Example<pre><code>@init\n</code></pre>"},{"location":"development/ACMEScript-metatags/#name","title":"@name","text":"<p><code>@name &lt;string&gt;</code></p> <p>This meta tag assigns a name to a script. This name is used for identifying the script, for example when running a script from the console.</p> <p>See-also</p> <p>@uppertester</p> Example<pre><code>@name exampleScript\n</code></pre>"},{"location":"development/ACMEScript-metatags/#onkey","title":"@onKey","text":"<p><code>@onKey &lt;key&gt;</code></p> <p>With this meta tag a script registers to a key-press event of the console interface. If the key is pressed then the script is run. The event and the key are passed as the environment variables event.type and event.data, respectively.</p> <p>The keys may be normal ASCII characters or a function key. Please consult the console's supported function key table for the function key's names. Note, that not all function keys are available on all OS platforms.</p> <p>A script can only register for a single key event.</p> Example<pre><code>;; Run the script when the '9' key is pressed\n@onkey F9\n\n(print (event.data))\n</code></pre>"},{"location":"development/ACMEScript-metatags/#onnotification","title":"@onNotification","text":"<p><code>@onNotification &lt;URI: acme://someID&gt;</code></p> <p>With this meta tag a script acts as a handler for a notification request from the CSE.</p> <p>The ACME URL scheme \"acme://&lt;identifier&gt;\" is used to define a URI that is targeting the script. Such a URI must be used in either the notificationURI attribute of a subscription resource, or the pointOfAccess of an AE.</p> <p>When a notification is received and the handler script is run the following variables are set:</p> <ul> <li>notification.originator : The notification's originator</li> <li>notification.resource : The notification's resource</li> <li>notification.uri : The notification's target URI</li> </ul> Example<pre><code>;; Run the script when the 'acme://aNotification' notificastion is received\n@onNotification acme://aNotification\n\n(print (notification.resource))\n</code></pre>"},{"location":"development/ACMEScript-metatags/#onrestart","title":"@onRestart","text":"<p><code>@onRestart</code></p> <p>This meta tag indicates that the script will be executed just after the CSE restarted, for example after a reset.</p> <p>If multiple scripts have this meta tag set then they will run in random order.</p> <p>See-also</p> <p>@init, @onShutdown, @onStartup</p> Example<pre><code>@onRestart\n</code></pre>"},{"location":"development/ACMEScript-metatags/#onshutdown","title":"@onShutdown","text":"<p><code>@onShutdown</code></p> <p>This meta tag indicates that the script will be executed just before the CSE shuts down.</p> <p>If more than one script have this meta tag set then they will run in random order.</p> <p>See-also</p> <p>@init, @onRestart, @onStartup</p> Example<pre><code>@onShutdown\n</code></pre>"},{"location":"development/ACMEScript-metatags/#onstartup","title":"@onStartup","text":"<p><code>@onStartup</code></p> <p>This meta tag indicates that the script will be executed just after the CSE started. It will be run only after start up, but not when the CSE restarted. If more than one script have this meta tag set then they will be run in random order.</p> <p>See-also</p> <p>@init, @onRestart, @onShutdown</p> Example<pre><code>@onStartup\n</code></pre>"},{"location":"development/ACMEScript-metatags/#prompt","title":"@prompt","text":"<p><code>@prompt &lt;prompt text&gt;</code></p> <p>A script with this meta tag will present a prompt before it is executed and ask a user for input. The result is then passed on as  script arguments.</p> <p>This meta tag should only be used when human interaction can be ensured. Running a script with this meta tag scheduled or  unattended will cause the script to wait forever for user input. </p> Example<pre><code>@prompt Enter some arguments\n</code></pre>"},{"location":"development/ACMEScript-metatags/#timeout","title":"@timeout","text":"<p><code>@timeout &lt;seconds&gt;</code></p> <p>This meta tag sets a timeout after which the script execution is terminated with a timeout error</p> <p>Note, that the script may terminate some time after the timeout when a script command takes longer to run.</p> Example<pre><code>@timeout 10\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuinoexecute","title":"@tuiNoExecute","text":"<p><code>@tuiNoExecute</code></p> <p>This meta tag disables the <code>Execute</code> button for this script in the Text UI's Tools section.</p> Example<pre><code>@tuiNoExecute\n</code></pre>"},{"location":"development/ACMEScript-metatags/#uppertester","title":"@uppertester","text":"<p><code>@uppertester</code></p> <p>This meta tag indicates that a script is runnable through the Upper Tester Interface. In this case the script name specified by the @name meta tag is used as the command name.</p> <p>Scripts without this meta tag cannot be run through the Upper Tester interface.</p> <p>See-also</p> <p>@name, Upper Tester Integration, Upper Tester Interface</p> Example<pre><code>@uppertester\n</code></pre>"},{"location":"development/ACMEScript-metatags/#usage","title":"@usage","text":"<p><code>@usage &lt;string&gt;</code></p> <p>This meta tag provides a short help message for a script's usage.</p> <p>See-also</p> <p>@description</p> Example<pre><code>@usage exampleScript &lt;a parameter&gt; &lt;another parameter&gt;\n</code></pre>"},{"location":"development/ACMEScript-metatags/#text-ui","title":"Text UI","text":""},{"location":"development/ACMEScript-metatags/#category","title":"@category","text":"<p><code>@category &lt;string&gt;</code></p> <p>A category name for the script. This is used, for example, in the text UI tools to group scripts.</p> <p>See-also</p> <p>@name, @tuiTool</p> Example<pre><code>@categoy System\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuiautorun","title":"@tuiAutoRun","text":"<p><code>@tuiAutoRun [&lt;interval:positive float&gt;]</code></p> <p>This meta tag, when present, configures a script that it is run automatically when it is selected in the Tools overview in the text UI.</p> <p>Without the optional interval argument the script runs only once when it is selected.</p> <p>When the interval argument is present it must be a positive float number that specifies the interval, in seconds, after which the script is repeatedly run again.</p> <p>If this meta tag is present, with or without the interval argument, the environment variable <code>tui.autorun</code> is set to true when the script is run.</p> Example<pre><code>@tuiAutoRun 10\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuiexecutebutton","title":"@tuiExecuteButton","text":"<p><code>@tuiExecuteButton [&lt;label:string&gt;]</code></p> <p>This meta tag configures the script's <code>Execute</code> button of the text UI. </p> <p>The following configurations are possible:</p> <ul> <li>Not present in a script: The button displays the default text \"Execute\".</li> <li>Present in a script with an argument: The argument is used for the button's label.</li> <li>Present in a script with no argument: The button is hidden.</li> </ul> Example<pre><code>@tuiExecuteButton A Label\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuiinput","title":"@tuiInput","text":"<p><code>@tuiInput [&lt;label:string&gt;]</code></p> <p>This meta tag adds an input field to text UI. Text entered in this field is passed as  arguments to the script that can be access using the argv function.</p> <p>The following configurations are possible:</p> <ul> <li>Not present in a script or without a label: No input field is added.</li> <li>Present in a script with an argument: The argument is used for the input field's label.</li> </ul> Example<pre><code>@tuiInput A Label\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuisortorder","title":"@tuiSortOrder","text":"<p><code>@tuiSortOrder &lt;priority:number&gt;</code></p> <p>With this meta tag one can specify the sort order of a script in the Text UI's Tools section. </p> <p>The default sort order is 500. Scripts with a lower priority number are listed first.  Scripts with the same priority are sorted alphabetically.</p> Example<pre><code>@tuiSortOrder 100\n</code></pre>"},{"location":"development/ACMEScript-metatags/#tuitool","title":"@tuiTool","text":"<p><code>@tuiTool</code></p> <p>This meta tag categorizes a script as a tool. Scripts marked as tuiTools are listed in the Text UI's Tools section.</p> Example<pre><code>@tuiTool\n</code></pre>"},{"location":"development/ACMEScript-operations/","title":"Operations","text":"<p>This document describes the operations supported by ACMEScript.</p>"},{"location":"development/ACMEScript-operations/#comparison-operations","title":"Comparison Operations","text":"<p>The following comparison operations are supported by ACMEScript. They are used like any other function, and return a boolean value.</p> operation Description Example == Equal to <code>(== a b) ;; equal to: a == b</code> !=, &lt;&gt; Not equal to <code>(!= a b) ;; equal to: a != b</code> &lt; Smaller than <code>(&lt; a b) ;; equal to: a &lt; b</code> &lt;= Smaller or equal than <code>(&lt;= a b) ;; equal to: a &lt;= b</code> &gt; Greater than <code>(&gt; a b) ;; equal to: a &gt; b</code> &gt;= Greater or equal than <code>(&gt;= a b) ;; equal to: a &gt;= b</code> Example<pre><code>(if (&lt; 1 2)           ;; Evaluates to \"true\"\n    (print \"true\")    ;; This expression is executed\n    (print \"false\"))  ;; This expression is not executed\n</code></pre> <p>Note</p> <p>The first operant in comparison operations may be a list or a quoted list. Only if the second operant is not a list, too, then the comparison operation is repeated for every member in the first operant's list. The comparison operation evaluates to true if any of these comparisons returns true.</p> Example<pre><code>(== '(1 2 3) 2)  ;; Evaluates to \"true\"\n</code></pre>"},{"location":"development/ACMEScript-operations/#logical-operations","title":"Logical Operations","text":"<p>The following logical operations are supported by ACMEScript. They are used like any other function, and return a boolean value.</p> operation Description Example or, | logical or of two or more boolean expressions (or a b)  ;; a or b and, &amp; logical and of two or more boolean expressions (and a b c) ;; a and b and c not, ! logical negation or one boolean expression (not true)  ;; false Example<pre><code>(or (&lt; 1 2) (&gt;= 4 3) (== 1 1))   ;; Returns true\n(and (or true false) (not true)) ;; Returns false\n</code></pre> <p>Note</p> <p>The first operant in logical operations may be a list or quoted list. Only if the second operant is not a list, too, then the logical operation is repeated for every member in the first operant's list. The logical operation evaluates to true if any of these operations returns true.</p> Examples<pre><code>(and '(false false true) true)   ;; Evaluates to \"true\"\n(and '(false false false) true)  ;; Evaluates to \"false\"\n</code></pre>"},{"location":"development/ACMEScript-operations/#mathematical-operations","title":"Mathematical Operations","text":"<p>The following mathematical operations are supported by ACMEScript. They are used like any other function, and return a number value.</p> operation Description Example + Add two or more numbers (+ 1 2 3)  ;; Returns 6 - Subtract two or more numbers (- 10  1 2 3)  ;; Returns 4 * Multiply two or more numbers (* 6 7)  ;; Returns 42 / Divide two or more numbers (/ 23 5)  ;; Returns 4.6 ** Calculates the power of two or more numbers (** 2 3 4)  ;; Returns 4096 % Calculates to modulo of two or more numbers (% 100 21 13) ;; Returns 3 Examples<pre><code>(* 6 7)        ;; Returns 42\n(* (+ 3 3) 7)  ;; Return 42\n</code></pre>"},{"location":"development/ACMEScript-uppertester/","title":"Upper Tester Integration","text":"<p>ACMEScript is integrated with the Upper Tester (UT) Interface. To enable this a script must have the @uppertester meta tag set. It can then be run through the UT interface by having its @name (and optional script arguments) as the parameter of the upper tester's X-M2M-UTCMD header field of a http request:</p> Upper Tester Request<pre><code>X-M2M-UTCMD: aScript param1 param2\n</code></pre> <p>A script result is  passed back in a response in the X-M2M-UTRSP header of the response:</p> Upper Tester Response<pre><code>X-M2M-UTRSP: aResult\n</code></pre> <p>See-also</p> <p>Upper Tester Interface</p>"},{"location":"development/ACMEScript-variables/","title":"ACMEScript - Variables","text":"<p>This section describes the built-in variables that are available in ACMEScript.</p>"},{"location":"development/ACMEScript-variables/#argc","title":"argc","text":"<p><code>argc</code></p> <p>Evaluates to the number of elements in argv. A script called with no arguments still has <code>argc</code> set to 1, because the name of the script is always the first element in argv.</p> <p>See also</p> <p>argv</p> Example<pre><code>(if (&gt; argc 2)\n    ((log-error \"Wrong number of arguments\")\n    (quit-with-error)))\n</code></pre>"},{"location":"development/ACMEScript-variables/#eventdata","title":"event.data","text":"<p><code>event.data</code></p> <p>Evaluates to the payload data of an event. This could be, for example, the string representation in case of an onKey event.</p> <p>Note</p> <p>This variable is only set when the script was invoked by an event.</p> <p>See also</p> <p>event.type</p> Example<pre><code>(if (== event.type \"onKey\")     ;; If the event is \"onKey\"\n    (print \"Key:\" event.data))  ;; Print the pressed key\n</code></pre>"},{"location":"development/ACMEScript-variables/#eventtype","title":"event.type","text":"<p><code>event.type</code></p> <p>Evaluates to the type of an event. This could be, for example, the value \"onKey\" in case of an onKey event.</p> <p>Note</p> <p>This variable is only set when the script was invoked by an event.</p> <p>See also</p> <p>event.data</p> Example<pre><code>(if (== event.type \"onKey\")     ;; If the event is \"onKey\"\n    (print \"Key:\" event.data))  ;; Print the pressed key\n</code></pre>"},{"location":"development/ACMEScript-variables/#notificationoriginator","title":"notification.originator","text":"<p><code>notification.originator</code></p> <p>The <code>notification.originator</code> variable is set when a script is called to process a notification request. </p> <p>It contains the notification's originator.</p> Example<pre><code>(print notification.originator)\n</code></pre>"},{"location":"development/ACMEScript-variables/#notificationresource","title":"notification.resource","text":"<p><code>notification.resource</code></p> <p>The <code>notification.resource</code> variable is set when a script is called to process a notification request. </p> <p>It contains the notification's JSON body.</p> Example<pre><code>(print notification.resource)\n</code></pre>"},{"location":"development/ACMEScript-variables/#notificationuri","title":"notification.uri","text":"<p><code>notification.uri</code></p> <p>The <code>notification.uri</code> variable is set when a script is called to process a notification request. </p> <p>It contains the notification's target URI.</p> Example<pre><code>(print notification.uri)\n</code></pre>"},{"location":"development/ACMEScript-variables/#tuiautorun","title":"tui.autorun","text":"<p><code>tui.autorun</code></p> <p>Evaluates to true if the script was started as an \"autorun\" script. This is the case when the @tuiAutoRun meta tag is set in a script.</p> <p>See also</p> <p>tuiAutoRun</p> <p>Note</p> <p>This variable is only set when the script is run from the text UI.</p> Example<pre><code>(if (is-defined 'tui.autorun)     ;; If the variable is defined\n    (if (== tui.autorun true)     ;; If the script is an autorun script\n        (print \"Autorun: True\")))  ;; Print a message\n</code></pre>"},{"location":"development/ACMEScript-variables/#tuitheme","title":"tui.theme","text":"<p><code>tui.theme</code></p> <p>Evaluates to the state of the current theme of the text UI. This can either be the values light or dark.</p> Example<pre><code>(print \"Theme: \" tui.theme)  ;; Print the theme name\n</code></pre>"},{"location":"development/ACMEScript/","title":"ACMEScript - Introduction","text":"<p>The ACME CSE supports a lisp-based scripting language, called ACMEScript, that can be used to configure, execute functions, and control certain aspects of the ACME CSE:</p> <ul> <li>Import resources during startup.</li> <li>CREATE, RETRIEVE, UPDATE, and DELETE resources.</li> <li>Send NOTIFICATIONS.</li> <li>Update CSE configuration settings.</li> <li>Call internal CSE functions.</li> <li>Run scheduled script jobs.</li> <li>Implement tool scripts for the Text UI.</li> </ul>"},{"location":"development/ACMEScript/#acmescript-basics","title":"ACMEScript Basics","text":"<p>The scripts are stored as normal text files. A script contains so-called s-expressions that are evaluated one by one and recursively. </p> <p>An s-expression is a list of symbols that represent either a value or another s-expression. Usually, the first element in the list is the function that is called to perform a function, and that may have zero, one, or multiple symbols as arguments. If such an argument symbol is executable, then it is recursively evaluated, and its result is taken as the actual argument.</p> Example<pre><code>;; Print \"Hello, World\" to the console\n(print \"Hello, World!\")\n\n;; Print the result of calculations to the console\n(print (+ 1 2))        ;; prints 3\n(print (+ 1 (/ 8 4)))  ;; prints 3\n</code></pre>"},{"location":"development/ACMEScript/#data-types","title":"Data Types","text":"<p>The following data types are supported by ACMEscript:</p> <ul> <li>String: for example \"Hello, World\"</li> <li>Number: integer or float, for example 42</li> <li>Boolean: <code>true</code> or <code>false</code></li> <li>JSON: A valid JSON structure</li> <li>List or s-expression: a list of symbols or other s-expressions</li> <li>Lambda: A nameless function</li> <li>nil: An empty list or non-value</li> </ul>"},{"location":"development/ACMEScript/#return-values","title":"Return Values","text":"<p>Every function and s-expression returns a value. This is usually the function result, but when a list contains multiple s-expressions that are evaluated, then only the last s-expression's result is returned.</p> Example<pre><code>;; First, set the variable a to 3, then use it in a calculation.\n;; Then, the result of the calculation is printed.\n(print ( (setq a 3) (+ a 4) ))   ;; prints 7\n</code></pre>"},{"location":"development/ACMEScript/#variables-and-function-scopes","title":"Variables and Function Scopes","text":"<p>Variables are global to a script execution. Variables that are defined globally and that are updated in a function call are updated globally. Variables that are not defined globally but are defined in a function's scope do only exist in the scope of the function and sub-functions calls.</p> <p>In addition to the normal script variables the runtime environment may pass extra environment (or pre-defined) variables to the script. They are mapped to the script's global variables and can be retrieved like any other global variable (but not updated or deleted). Variables that are set during the execution of a script have precedence over environment variables with the same name.</p> <p>Variables are removed between script runs.</p> <p>Variable names are case-sensitive.</p>"},{"location":"development/ACMEScript/#comments","title":"Comments","text":"<p>Comments start with one or two semicolons and continue to the end of the line.</p>"},{"location":"development/ACMEScript/#quoting","title":"Quoting","text":"<p>It doesn't matter whether a symbol is another s-expression, a built-in, self-defined or even nameless function, or a variable: If symbols can be evaluated they are evaluated in order. However, sometimes it is necessary to pass an executable symbol without evaluating it first. This is called quoting and is achieved by adding a single quote to the beginning of a symbol or list.</p> <p>Some functions assume that one or more arguments are implicitly quoted, such as the setq function that doesn't evaluating its first argument. In this case the argument is not quoted.</p> Example<pre><code>;; Print the string \"(+ 1 2)\" to the console\n(print '(+ 1 2))\n\n;; Set a variable \"a\" to 42 and print the variable to the console\n(setq a 42)  ;; a is not evaluated!\n(print a)    ;; a is evaluated. It prints 42\n</code></pre> <p>Sometimes it is not possible to quote an s-expression or symbol because it is the result of the evaluation of another s-expression. In this case the quote function can be used to return a quoted version of an s-expression.</p> Example<pre><code>;; Print the string \"(+ 1 2)\" to the console\n(print (quote (+ 1 2)))\n</code></pre>"},{"location":"development/ACMEScript/#meta-tags","title":"Meta Tags","text":"<p>Meta tags are special commands in a script that are not executed during the runtime of a script, but describe certain capabilities of the script or give, for example, the script a name or provide instructions when a script should be executed.</p> <p>Meta tags start with a <code>@</code> character and may have additional parameters. Meta tags are added as constants to the script's environment, prefixed with \"meta.\".</p> <p>Meta tags are described in a separate documentation.</p>"},{"location":"development/ACMEScript/#advanced-topics","title":"Advanced Topics","text":""},{"location":"development/ACMEScript/#storing-data","title":"Storing Data","text":"<p>Data can be stored \"persistently\" during a CSE's runtime. This is intended to pass data across different runs of a script, but not to store data persistently across a CSE restart or reset. The storage format is a simple key/value store.</p> <p>To store data persistently one may consider to store it in the oneM2M resource tree.</p> <p>See:  get-storage, has-storage, put-storage</p>"},{"location":"development/ACMEScript/#evaluating-s-expressions-in-strings-and-json-structures","title":"Evaluating S-Expressions in Strings and JSON Structures","text":"<p>S-expressions that are enclosed in the pattern <code>${..}</code> in a string or JSON structure are evaluated when the string or JSON symbol is evaluated. The result of the s-expression replaces the pattern. </p> <p>In the following example the s-expression <code>(+ 1 2)</code> is evaluated when the string is processed:</p> Example<pre><code>(print \"1 + 2 = ${ + 1 2 }\")    ;; Prints \"1 + 2 = 3\"\n</code></pre> <p>Evaluation can be locally disabled by escaping the opening part:</p> Example<pre><code>(print \"1 + 2 = \\\\${ + 1 2 }\")  ;; Prints \"1 + 2 = ${ + 1 2 )}\"\n</code></pre> <p>Evaluation can also be disabled and enabled by using the evaluate-inline function.</p> <p>Pattern replacement can be escaped with two backslashes: <code>\\\\${..}</code>.</p>"},{"location":"development/ACMEScript/#on-error-function","title":"\"on-error\" Function","text":"<p>If the function <code>on-error</code> is defined in a script, then this function is executed in case of a script-terminating error, and just before the script terminates because of that error.</p> <p>In general, the <code>on-error</code> function is called as follows:</p> Example<pre><code>(on-error &lt;error type:string&gt; &lt;error message:string)\n</code></pre> <p>The function is called with two arguments: the error type and the error message.</p> <p>The following example shows how to define the <code>on-error</code> function and how it is called when a division-by-zero error occurs. </p> Example<pre><code>;; Define the on-error function\n(defun on-error (error-type message) (print \"Error:\" error-type message)) \n\n;; Cause an division-by-zero error\n;; This will implicitly call the function\n(/ 0 0)                                      \n</code></pre>"},{"location":"development/AttributePolicies/","title":"Attribute Policies","text":"<p>This article describes the attribute policies used by the ACME CSE. </p> <p>During startup the CSE reads the attribute policies for common resource types and complex type definitions from the files with the extension <code>.ap</code> in the init and secondary init directory, for example attributePolicies.ap. More than one attribute policy file can be added.</p>"},{"location":"development/AttributePolicies/#attribute-policy-format","title":"Attribute Policy Format","text":"<p>The CSE uses attribute policies for validating the attributes of all the supported resource types. The following code specifies the JSON structure to describe a single atttribute. </p> <p>Some of the fields are not yet used, but will supported by a future version of the CSE. </p> Attribute Policy Format<pre><code>// A single attribute is a JSON object.\n{\n    // A list of oneM2M resource types that use this attribute.\n    // This attribute is optional and used for the general \n    // attributePolicies, but not for flexContainers.\n    //\n    // The folling special attribute types are also allowed:\n    //\n    // - ALL     : This attribute definition is suitable for all resource types \n    //             for which it is a member\n    // - REQRESP : This attribute definition is suitable for request and \n    //             response type resources.\n    // - COMPLEX : This attribute definition is suitable for complex type\n    \"rtypes\" : [ &lt;ResourceType&gt; ]\n\n    // The attribute's short name. \n    // Mandatory.\n    \"sname\" : \"attributeShortName\", \n\n    // The attribute's long name. \n    // Optional, and for future developments.\n    \"lname\" : \"attributeLongName\", \n\n    // The attribute's namespace.\n    // Optional, the default is \"m2m\".\n    \"ns\"    : \"namespace\",\n\n    // The attribute's data type. \n    // Mandatory, and one from this list:\n    // \n    // - integer\n    // - positiveInteger\n    // - nonNegInteger\n    // - unsignedInt\n    // - unsignedLong\n    // - string\n    // - timestamp\n    // - list\n    // - dict - any anonymous complex structure. This should be avoided and \n    //          be replaced by a complex type name\n    // - adict (anonymous dict)\n    // - anyURI\n    // - boolean\n    // - enum\n    // - geoCoordinates\n    // - schedule\n    // - base64\n    // - duration\n    //\n    // In addition to the list above, the *attributeType* can be the name of any defined\n    // complex type. This complex type must be defined in any of the attribute policy files.\n    \"type\"  : \"attributeType\", \n\n    // The sub-type of a list type.\n    // This can be any of the types defined for *type*, or a complex type.\n    \"ltype\" : \"type\",\n\n    // The complex type name for a complex type attribute.\n    // This is the name of the parent complex type to which an attribute belongs.\n    // This attribute is only present in an attribute policy definition when\n    // this attribute belongs to a complex type.\n    \"ctype\" : \"complexType\",\n\n    // Definition of enumeration values.\n    // This can only be an integer value, or range definitions in the format\n    // \"start..end\" that evaluate to all the integer values of the given range.\n    \"evalues\" : [ 1, 2, \"3..5\", 6 ],\n\n    // Definition of an enumeration type and an alternative to \"evalues\".\n    // This is an enumerated data type name that is referenced. \n    \"etype\" : \"enumeratedDataType\",\n\n    // The \"oc\" field specifies the CREATE request optionality. Optional, and one from this list:\n    //  - O  : Optional provided (default)\n    //  - M  : Mandatory provided\n    //  - NP : Not provided\n    \"oc\"    : \"O|M|NP\",\n\n    // The \"ou\" field specifies the UPDATE request optionality. \n    // Optional, and one from this list:\n    //\n    // - O  : Optional provided (default)\n    // - M  : Mandatory provided\n    // - NP : Not provided\n    \"ou\"    : \"O|M|NP\",\n\n    // The \"od\" field specifies the DISCOVERY request optionality. \n    // Optional, and one from this list:\n    //\n    // - O  : Optional provided (default)\n    // - M  : Mandatory provided\n    // - NP : Not provided\n    \"od\"    : \"O|M|NP\",\n\n    // The \"annc\" field specifies whether an announced optionality. \n    // Optional, and one from this list:\n    //\n    // - OA : Optional announced (default)\n    // - MA : Mandatory announced\n    // - NA : Not announced\n    \"annc\": \"OA|MA|NA\",\n\n    // The attribute multiplicity. \n    // Optional, and one from this list:\n    //\n    // - 01  : The attribute is optional (default)\n    // - 01L : the attribute is an optional list\n    // - 1   : The attribute is mandatory\n    // - 1L  : The attribute is a mandatory list\n    \"car\" : \"01|01L|1|1L\",\n}\n</code></pre>"},{"location":"development/AttributePolicies/#complex-types","title":"Complex Types","text":"<p>Complex types are defined in the attribute policy files as well. Complex types are defined in files with the extension <code>.ap</code>. The CSE reads the complex type definitions from the init and secondary init directory, for example complexTypePolicies.ap. More than one complex type file can be provided.</p> <p>Complex types are defined indirectly by assigning attributes to them. Attributes for a complex types are defined in the same way as for common resource types. The only difference is that the ctype field is set to the name of the complex type the attribute belongs to. If an attribute belongs to more than one complex type, the attribute definition is repeated for each complex type.</p> <p>The rtypes field must by set to \"COMPLEX\" for complex type attributes. </p> <p>The following example shows the definition of an attribute that belongs to multiple complex types.</p> Complex Type Attribute Example<pre><code>    \"dur\": [\n        // This attribute is defined for the complex type m2m:batchNotify\n        {\n            \"rtypes\": [ \"COMPLEX\" ],\n            \"ctype\": \"m2m:batchNotify\",\n            \"lname\": \"duration\",            \n            \"ns\": \"m2m\",\n            \"type\": \"duration\",\n            \"car\": \"01\"\n        },\n\n        // This attribute is defined for the complex type m2m:misingData\n        {\n            \"rtypes\": [ \"COMPLEX\" ],\n            \"ctype\": \"m2m:missingData\",\n            \"lname\": \"duration\",            \n            \"ns\": \"m2m\",\n            \"type\": \"duration\",\n            \"car\": \"1\"\n        }\n    ]\n</code></pre>"},{"location":"development/AttributePolicies/#enumeration-data-types","title":"Enumeration Data Types","text":"<p>In addition to the attribute and complex type policies defined above, enumeration types are defined in files with the extension <code>.ep</code>. The CSE reads the enumeration data types from the init and secondary init directory, for example enumTypesPolicies.ep. More than one enumeration data type file can be provided.</p> <p>The format is a JSON structure that follows the structure described in the following code.  </p> Enumeration Data Type Format<pre><code>// The attributePolicy.ep file contains a dictionary of enumeration data types\n{\n\n    // Each enumeration definition is identified by its name. \n    It is a dictionary.\n    \"enumerationType\": {\n\n        // An enumeration definition is key value pair.\n        // The key is the enumeration value (usually an integer),\n        // and  the value is the  interpretation of that value.\n        // This entry can be repeated for each enumeration value.\n        \"&lt;enumeration value&gt;\" : \"&lt;enumeration interpretation&gt;\"\n    }\n}\n</code></pre> <p>The following example show the definition for an enumeration data type.</p> Enumeration Data Type Example<pre><code>{\n    \"m2m:resultContent\" : {\n        \"0\": \"Nothing\",\n        \"1\": \"Attributes\",\n        \"2\": \"Hierarchical address\",\n        \"3\": \"Hierarchical address and attributes\",\n        \"4\": \"Attributes and child resources\",\n        \"5\": \"Attributes and child resource references\",\n        \"6\": \"Child resource references\",\n        \"7\": \"Original resource\",\n        \"8\": \"Child resources\",\n        \"9\": \"Modified attributes\",\n        \"10\": \"Semantic content\",   \n        \"11\": \"Semantic content and child resources\",\n        \"12\": \"Permissions\"\n    },\n}\n</code></pre> <p>Example</p> <p>The following gives an example for the attribute ty (resourceType).</p> <pre><code>{\n    \"rn\": [\n        {\n            \"rtypes\": [ \"ALL\" ],\n            \"lname\": \"resourceName\",\n            \"ns\": \"m2m\",\n            \"type\": \"string\",\n            \"car\": \"1\",\n            \"oc\": \"O\",\n            \"ou\": \"NP\",\n            \"od\": \"O\",\n            \"annc\": \"NA\"\n        }\n    ],\n    \"ty\": [\n        {\n            \"rtypes\": [ \"ALL\" ],\n            \"lname\": \"resourceType\",\n            \"ns\": \"m2m\",\n            \"type\": \"enum\",\n            \"etype\": \"m2m:resourceType\",\n            \"car\": \"1\",\n            \"oc\": \"NP\",\n            \"ou\": \"NP\",\n            \"od\": \"O\",\n            \"annc\": \"NA\"\n        }\n    ]\n}\n</code></pre> <p>Complex Type Attribute</p> <p>The following example shows the definition of the attribute operator (optr) that belongs to the complex type m2m:evalCriteria.</p> <pre><code>{\n    \"optr\": [\n        {\n            \"rtypes\": [ \"COMPLEX\" ],\n            \"ctype\": \"m2m:evalCriteria\",\n            \"lname\": \"operator\",\n            \"ns\": \"m2m\",\n            \"type\": \"enum\",\n            \"etype\": \"m2m:evalCriteriaOperator\",\n            \"car\": \"1\"\n        }\n    ]\n}\n</code></pre>"},{"location":"development/DebugMode/","title":"Debug Mode","text":"<p>The CSE tries to catch errors and give helpful advice as much as possible during runtime. However, there are circumstances when this could not done easily, e.g. during startup.</p> <p>In order to provide additional information in these situations one can set the ACME_DEBUG environment variable (to any value):</p> Set the ACME_DEBUG environment variable<pre><code>export ACME_DEBUG=1\n</code></pre> <p>Then run the CSE as usual. </p>"},{"location":"development/FlexContainerPolicies/","title":"FlexContainer Specialization Policies","text":"<p>This article describes the flexContainer specialization policies used by the ACME CSE.</p> <p>For all &lt;flexContainer&gt; specializations, e.g. for oneM2M's TS-0023 ModuleClasses, the attribute policies and the allowed &lt;flexContainer&gt; hierarchy must be provided. </p> <p>The files for &lt;flexContainer&gt; specializations are also imported from the init and secondary init directory. More than one such file can be provided, for example one per domain. The files must have the extension <code>.fcp</code>. </p> <p>The format is a JSON structure that follows the structure described in the following code.  </p> <p>FlexContainer Specialization Policy Format<pre><code>[\n// A file contains a list of FlexContainer Specialization Policies\nspecializationPolicy = [\n\n    // Each FlexContainer Specialization Policies is a JSON object\n    {\n        // The specialisation's namespace and short name. \n        // Mandatory.\n        \"type\"      : \"namespace:shortname\",\n\n        // The specialisation's long name. \n        // Optional, and for future developments.\n        \"lname\"     : \"attributePolicyLongname\",\n\n        // The specialisation's containerDefinition. \n        // Mandatory for flexContainers, but can be empty to prevent warnings.\n        \"cnd\"       : \"containerDefinition\",\n\n        // The specialisation's SDT type. \n        // Could be one of \"device\", \"subdevice\", \"moduleclass\", or \"action\". \n        // Optional, and for future developments.\n        \"sdttype\"   : \"SDTcontainerType\",\n\n        // A list of attribute policies. \n        // Each entry specifies a single attribute of the specialization.\n        // Optional.\n        \"attributes\": [ attributePolicy, attributePolicy, ... ],\n\n        // A list of child resource types. Optional.\n        \"children\"  : [\n            // This list consists of one or more strings, each of those is the name of an additional\n            // child resource specialisation. It is not necessary to specify here the already allowed\n            // child resource types of &lt;flexContainer&gt;.\n        ]\n    }]\n]\n</code></pre> The attributePolicies are the same as described in the Attribute Policies article.</p>"},{"location":"development/FlexContainerPolicies/#examples","title":"Examples","text":"<p>The following examples show the attribute policies for the binarySwitch and deviceLight specialisations, both defined in oneM2M's TS-0023 specification.</p> FlexContainer specialization binarySwitch.fcp<pre><code>[\n    // ModuleClass: binarySwitch (binSh)\n    {\n        \"type\"      : \"cod:binSh\",\n        \"lname\"     : \"binarySwitch\",\n        \"cnd\"       : \"org.onem2m.common.moduleclass.binarySwitch\",\n        \"attributes\": [\n            // DataPoint: dataGenerationTime\n            {\n                \"sname\" : \"dgt\", \n                \"lname\" : \"dataGenerationTime\", \n                \"type\" : \"timestamp\", \n                \"car\" : \"01\"\n            }, \n\n            // DataPoint: powerState\n            { \n                \"sname\" : \"powSe\", \n                \"lname\" : \"powerState\", \n                \"type\" : \"boolean\", \n                \"car\" : \"1\" \n            }\n        ]\n    }\n]\n</code></pre> deviceLight.fcp<pre><code>[\n    // ModuleClass: binarySwitch (binSh)\n    {\n        \"type\"      : \"cod:binSh\",\n        \"lname\"     : \"binarySwitch\",\n        \"cnd\"       : \"org.onem2m.common.moduleclass.binarySwitch\",\n        \"attributes\": [\n            // DataPoint: dataGenerationTime\n            { \n                \"sname\" : \"dgt\",\n                \"lname\" : \"dataGenerationTime\",\n                \"type\" : \"timestamp\",\n                \"car\" : \"01\"\n            }, \n\n            // DataPoint: powerState\n            { \n                \"sname\" : \"powSe\", \n                \"lname\" : \"powerState\", \"type\" :\n                \"boolean\", \n                \"car\" : \"1\" \n            }\n        ]\n    }, \n\n    // DeviceClass: deviceLight\n    {\n        \"type\"      : \"cod:devLt\",\n        \"lname\"     : \"deviceLight\",\n        \"cnd\"       : \"org.onem2m.common.device.deviceLight\",\n\n        // The allowed child resource types\n        \"children\"  : [\n            \"cod:fauDn\", \n            \"cod:binSh\", \n            \"cod:runSe\", \n            \"cod:color\", \n            \"cod:colSn\", \n            \"cod:brigs\"\n        ]\n    }\n]\n</code></pre>"},{"location":"development/HelpDocumentation/","title":"Help File Format","text":"<p>Some CSE UI components provide a markdown documentation to the user, such as the Text UI. That documentation is imported from the init directory as well. The file extension for documentation files is <code>.docmd</code>. </p>"},{"location":"development/HelpDocumentation/#format","title":"Format","text":"<p>In the documentation file individual sections are separated by markdown level-1 headers where the header title is the help topic for the following section, which is markdown text with the acual help text.</p>"},{"location":"development/HelpDocumentation/#examples","title":"Examples","text":"<pre><code># Topic 1\n\nSome help text for topic 1 in markdown format.\n\n## Help sub section that belongs to topic 1\n\nSome help text for the sub section in markdown format.\n\n# Topic 2\n\nAnother help text for topic 2 in markdown format.\n\n...\n</code></pre>"},{"location":"development/Integrating_ACME/","title":"Integrating Into Other Projects","text":"<p>This article describes how to integrate the CSE into other applications and how to run it in a Jupyter Notebook.</p>"},{"location":"development/Integrating_ACME/#introduction","title":"Introduction","text":"<p>It is possible to integrate the CSE into other applications. In this case you would possibly like to provide startup arguments, for example the path of the configuration file or the logging level, directly instead of getting them from the command line via argparse.</p> <p>You might want to get the example from the main file acme/__main__.py where you could replace the line:</p> Replace this line from the main file<pre><code>CSE.startup(parseArgs())\n</code></pre> <p>with a call to the CSE's startup() function for your application:</p> Call the CSE's startup function<pre><code>CSE.startup(None, configfile=defaultConfigFile, loglevel='error')\n</code></pre> <p>Note</p> <p>The first argument of the startup() function is the argparse arguments. In case you provide the arguments directly the first argument may need to be <code>None</code>. </p> <p>The names of the argparse variables can be used here, and you may provide all or only some of the arguments. Please note that you need to keep or copy the <code>import</code> and <code>sys.path</code> statements at the top of that file.</p>"},{"location":"development/Integrating_ACME/#jupyter-notebooks","title":"Jupyter Notebooks","text":"<p>Since ACME CSE is written in pure Python it can be run in a Jupyter Notebook. The following code could be copied to a notebook cell to run the CSE.</p> Run the CSE in a Jupyter Notebook<pre><code># Increase the width of the notebook to accommodate the log output\nfrom IPython.display import display, HTML\ndisplay(HTML(\"&lt;style&gt;.container { width:100% !important; }&lt;/style&gt;\"))\n\n# Change to the CSE's directory and start the CSE\n# Ignore the error from the %cd command\n%cd -q tools/ACME   # adopt this to the location of the ACME CSE\n%run -m acme -- --headless\n</code></pre> <p>Note the following:</p> <ul> <li>The CSE should be run in headless mode to avoid too much output to the notebook.</li> <li>Once executed the notebook cell will not finish its execution. It is therefore recommended to run the CSE in a separate notebook.</li> <li>The CSE can only be stopped by stopping or restarting the notebook's Python kernel.</li> </ul>"},{"location":"development/NotificationServer/","title":"Notification Server","text":"<p>The Notification that is provided in the directory tools/notificationServer is a simple implementation of a Notification Server that can be used to receive notifications from a CSE. </p> <p>Verification requests are always acknowledged, and notifications are just printed to the console.</p> <p>The server normally listens on port <code>9999</code>. This can be changed by specifying another value to the port variable at the beginning of the file or the command line argumnet --port (see below).</p>"},{"location":"development/NotificationServer/#running","title":"Running","text":""},{"location":"development/NotificationServer/#start-as-basic-http-notification-server","title":"Start as basic HTTP notification server","text":"<p>Start the server by running the command from the <code>tools/notificationServer</code> directory:</p> Start the Notification Server<pre><code>python3 notificationServer.py\n</code></pre> <p>In this case the starts and listens on the default port <code>9999</code> for incoming connections.</p>"},{"location":"development/NotificationServer/#start-with-mqtt-support","title":"Start with MQTT support","text":"<p>The Notification Server can be started with MQTT support. In this case the server connects to an MQTT broker and listens to the topics specified in the command line arguments.</p> Start the Notification Server<pre><code>python3 notificationServer.py --mqtt --mqtt-address mqtt.example.com\n</code></pre> <p>The following command starts the NotificationServer with MQTT support enabled. The server would connect to an MQTT broker with username and password authentication,  and would listen to the topics \"/oneM2M/req/id-in/+/#\" and \"/oneM2M/req/id-mn/+/#\". In addition logging extra information about the MQTT communication to the console is enabled.</p> More Sophisticated MQTT Example<pre><code>python3 notificationServer.py --mqtt --mqtt-address mqttAddress --mqtt-username mqttUser --mqtt-password mqttPassword --mqtt-useTLS --mqtt-caFile caFile --mqtt-certfile certFile -- mqtt-keyfile keyFile --mqtt-topic /oneM2M/req/id-in/+/# /oneM2M/req/id-mn/+/# --mqtt-logging\n</code></pre>"},{"location":"development/NotificationServer/#command-line-arguments","title":"Command Line Arguments","text":"<p>The Notification Server can be started with the following command line arguments:</p> Command Line Argument Description -h, --help Show a help message and exit. --port &lt;port&gt; Specify the server port (default: 9999). --http, --https Run as http (default) or as https server. --certfile &lt;certfile&gt; Specify the certificate file (mandatory for https). --keyfile &lt;keyfile&gt; Specify the key file (mandatory for https). --mqtt Additionally enable MQTT for notifications --mqtt-address &lt;host&gt; MQTT broker address (default: localhost) --mqtt-port &lt;port&gt; MQTT broker port (default: 1883) --mqtt-topic &lt;topic&gt; [&lt;topic&gt; ...] MQTT topic list to subscribe to (default: ['/oneM2M/req/id-in/+/#']) --mqtt-username &lt;username&gt; MQTT username (default: None) --mqtt-password &lt;password&gt; MQTT password (default: None) --mqtt-logging MQTT enable logging (default: disabled) --mqtt-useTLS MQTT enable TLS (default: disabled) --mqtt-caFile &lt;cafile&gt; Specify the CA certificate file (mandatory for MQTTS) --mqtt-certfile &lt;certfile&gt; Specify the certificate file (mandatory for MQTTS) --mqtt-keyfile &lt;keyfile&gt; Specify the key file (mandatory for MQTTS) --fail-verification Fail all verification requests with \"no privileges\" (default: False) --delay-response [&lt;delay&gt;] Delay response by n seconds (default: 60s)"},{"location":"development/Overview/","title":"Overview","text":"<p>This article provides an overview of the ACME CSE's architecture, components, and database schemas. </p>"},{"location":"development/Overview/#components","title":"Components","text":"<p>The ACME CSE is divided into several components. The following diagram shows the components and their relationships.</p> <p> </p> UML Component Diagram of the ACME CSE"},{"location":"development/Overview/#resource-class-hierarchy","title":"Resource Class Hierarchy","text":"<p>The CSE's resources are implemented as classes. The following diagram shows the class hierarchy of the resources.</p> <p> </p> UML Class Diagram of the ACME CSE Resources"},{"location":"development/Overview/#database-schemas","title":"Database Schemas","text":"Database Schemas of the ACME CSE <p>If the tinyDB database mode is used the database files are stored in the <code>data</code> sub-directory of the CSE's working directory. </p> <p>The database used by the CSE is TinyDB which uses plain JSON files for storing the data. Some files only contain a single data table while other contain multiple tables.</p> <p>The filenames include the CSE-ID of the running CSE, so if multiple CSEs are running and are using the same data directory then they won't interfere with each other. The database files are copied to a backup directory at CSE startup.</p> <p>Some database tables duplicate attributes from actual resources, e.g. in the subscription database. This is mainly done for optimization reasons in order to prevent a retrieval and instantiation of a full resource when only a few attributes are needed.</p>"},{"location":"development/StartupResources/","title":"Start-Up Resources","text":"<p>This article describes the startup process of the CSE, how to import resources, and attribute definitions.</p>"},{"location":"development/StartupResources/#initial-resources","title":"Initial Resources","text":"<p>During CSE startup and restart it is necessary to import a first set of resources to the CSE. This is done automatically by the CSE by running a script that has the @init meta tag set. By default this is the init.as script from the init directory.</p> <p>Not much validation, access control, or registration procedures are performed when importing resources this way.</p> <p>See also</p> <p>The meta tag @init</p>"},{"location":"development/StartupResources/#adding-mandatory-resources-to-the-cse","title":"Adding Mandatory Resources to the CSE","text":"<p>Please note that it is required for a functional CSE deployment to create the CSE's CSEBase, the administration AE, and a general-access ACP resources. Those are created before all other resources, so that the CSEBase resource can act as the root for the resource tree, and basic permissions are provided.</p>"},{"location":"development/StartupResources/#adding-other-resources","title":"Adding other Resources","text":"<p>An option to import more resources automatically whenever the CSE starts or restarts is to have a script as an event handler for the onStartup and onRestart events.</p> <p>These scripts can be added to the Secondary init Directory, which is located in the base directory of the CSE, and from where resources are imported after the primary init directory has been processed.</p> <p>See also</p> <p>The meta tags onStartup, onRestart Secondary init Directory</p>"},{"location":"development/StartupResources/#referencing-configuration-settings","title":"Referencing Configuration Settings","text":"<p>By using macros the initial resources can be kept independent from individual settings.  Most configuration settings can be added by macro replacement. For this a given macro name is enclosed by <code>${...}</code>, e.g. <code>${cse.cseID}</code>. </p> <p>The following example shows the initial CSEBase resource definition from the init.as script file:</p> init.as<pre><code>(import-raw \n    (get-config \"cse.originator\") ;(1)!\n    {\"m2m:cb\": {\n        \"ri\":   \"${ get-config \\\"cse.resourceID\\\" }\", ;(2)!\n        \"rn\":   \"${ get-config \\\"cse.resourceName\\\" }\",\n        \"csi\":  \"${ get-config \\\"cse.cseID\\\" }\",\n        \"rr\":   true,\n        \"csz\":  [ \"application/json\", \"application/cbor\" ],\n        \"acpi\": [ \"${ get-config \\\"cse.cseID\\\" }/acpCreateACPs\" ],\n        \"poa\":  [ \"${ get-config \\\"http.address\\\" }\" ]\n    }})\n</code></pre> <ol> <li>The <code>get-config</code> function is used to retrieve the configuration setting for the CSE's originator.</li> <li>The <code>${...}</code> macro is used to replace the configuration setting for the CSE's resource ID in a string.</li> </ol> <p>See also</p> <p>Evaluating S-Expressions in Strings and JSON Structures</p>"},{"location":"development/ThirdPartyLibraries/","title":"Third Party Libraries","text":"<p>The following third-party components are used by the ACME CSE.</p>"},{"location":"development/ThirdPartyLibraries/#core-cse","title":"Core CSE","text":"<ul> <li>The cbor2 package is used to parse and create CBOR serializations. MIT License.</li> <li>InquirerPy is a collection of common interactive command-line interfaces. MIT License.</li> <li>The isodate package is used to parse and handle ISO 8601 time, date, and duration. BSD License.</li> <li>The plotext library offers functions to plot graphs in the text console. MIT License.</li> <li>rdflib is a Python library for working with RDF. BSD 3-Clause License.</li> <li>The CSE uses the Rich text formatter library to format various terminal output. MIT License. </li> <li>shapely is a library for manipulation and analysis of geometric objects. BSD 3-Clause License. </li> </ul>"},{"location":"development/ThirdPartyLibraries/#connectivity","title":"Connectivity","text":"<ul> <li>The CSE uses the Flask web framework to service http(s) requests. BSD 3-Clause License.</li> <li>flask-cors is a Flask extension for handling Cross Origin Resource Sharing (CORS), making cross-origin AJAX possible.</li> <li>The paho-mqtt library provides a client class which enables applications to connect to an MQTT broker. Eclipse Public License 1.0 .</li> <li>The CSE uses the Requests HTTP Library to send requests vi http. Apache2 License</li> <li>waitress is a production-quality pure-Python WSGI server with very acceptable performance. ZPL 2.1 License.</li> </ul>"},{"location":"development/ThirdPartyLibraries/#database","title":"Database","text":"<ul> <li>Psycopg is a PostgreSQL adapter for the Python programming language. GNU Lesser General Public License.</li> <li>To store resources the CSE uses the lightweight TinyDB document database. MIT License.</li> </ul>"},{"location":"development/ThirdPartyLibraries/#text-ui","title":"Text UI","text":"<ul> <li>Textual is a Rapid Application Development framework for to build textual user interfaces in Python. MIT License.</li> </ul>"},{"location":"development/ThirdPartyLibraries/#web-ui","title":"Web UI","text":"<ul> <li>TreeJS: https://github.com/m-thalmann/treejs, MIT License.</li> <li>Picnic CSS : https://picnicss.com, MIT License.</li> </ul>"},{"location":"development/TypeChecking/","title":"Type Checking","text":"<p>The CSE code is statically type-checked with mypy. </p> <p>Just execute the <code>mypy</code> command in the project's root directory and make sure that the mypy.ini file is present. The configuration file contains the setting for the type-checking process.</p> Run mypy in the project's root directory<pre><code>mypy\n</code></pre>"},{"location":"development/UnitTests/","title":"Unit Tests","text":"<p>Almost all aspects of the ACME CSE implementation are covered by unit tests based on the Python unittest framework. The files for the individual test suites and the runner application reside in the project's tests directory.</p>"},{"location":"development/UnitTests/#configuration","title":"Configuration","text":"<p>The actual configuration of the test suite is done in the file config.py. You may change these for your individual set-up. At the top of the configuartion is a configuration setting for the request protocol that should be used. Currently, http, https, ws, wss, and mqtt are supported. </p> <p>Note</p> <p>All CSE's involved in the tests must use the same protocol type.</p> <p>Further configuration settings include the originatores for admin access, self-registration, and remote CSE settings when running tests for CSE-2-CSE (Mcc) communications, </p> <p>One can also provide OAuth2 settings in case the CSE under test is behind an OAuth2 gateway.</p>"},{"location":"development/UnitTests/#enable-remote-configuration-upper-tester","title":"Enable Remote Configuration (Upper Tester)","text":"<p>The CSE under test must be started with the remote configuration interface enabled. During test runs the test suite will temporarily change some of the CSE's delays (e.g. the check for resource expirations) in order to speed up the test. You can either do this by changing the configuration http.enableUpperTesterEndpoint in the CSE's configuration file.</p> <p>Note</p> <p>This ability to remotly re-configure the CSE during runtime is a particular function of the  ACME CSE and might not be available with other CSE implementations.</p>"},{"location":"development/UnitTests/#internal-settings","title":"Internal Settings","text":"<p>Each test suite imports the file init.py that contains various helper functions. Also, some low-level configurations, such as time-outs etc, that are used by the test suites can be adjusted here. </p>"},{"location":"development/UnitTests/#test-suites","title":"Test Suites","text":"<p>For each aspect of the CSE there is one test suite file that can be run independently or in the course of an overall test. For example, running the test suite for AE tests would look like this:</p> Example Test Suite Run<pre><code>$ python3 testAE.py\ntest_createAE (__main__.TestAE) ... ok\ntest_createAEUnderAE (__main__.TestAE) ... ok\ntest_retrieveAE (__main__.TestAE) ... ok\ntest_retrieveAEWithWrongOriginator (__main__.TestAE) ... ok\ntest_attributesAE (__main__.TestAE) ... ok\ntest_updateAELbl (__main__.TestAE) ... ok\ntest_updateAETy (__main__.TestAE) ... ok\ntest_updateAEPi (__main__.TestAE) ... ok\ntest_updateAEUnknownAttribute (__main__.TestAE) ... ok\ntest_retrieveAEACP (__main__.TestAE) ... ok\ntest_deleteAEByUnknownOriginator (__main__.TestAE) ... ok\ntest_deleteAEByAssignedOriginator (__main__.TestAE) ... ok\n----------------------------------------------------------------------\nRan 12 tests in 0.116s\nOK\n</code></pre> <p>The individual test suites are located in the tests directory. Their names start with test... and are grouped by the aspect of the CSE they are testing.</p>"},{"location":"development/UnitTests/#test-runner","title":"Test Runner","text":""},{"location":"development/UnitTests/#overview","title":"Overview","text":"<p>The <code>--help</code> or <code>-h</code> command line argument provides a usage overview for the runTest.py script.</p> Test Runner Overview<pre><code>$ python runTests.py -h\nusage: runTests.py [-h] [--all] [--load-only] [--verbose-requests]\n                [--disable-teardown] [--run-teardown]\n                [--run-count NUMBEROFRUNS]\n                [--run-tests TESTCASENAME [TESTCASENAME ...]]\n                [--show-skipped] [--no-failfast]\n                [--list-tests | --list-tests-sorted]\n                [TESTSUITE ...]\n\npositional arguments:\nTESTSUITE             specific test suites to run. Run all test suites\n                        if empty\n\noptions:\n-h, --help            show this help message and exit\n--all                 run all test suites (including load tests)\n--load-only           run only load test suites\n--verbose-requests, -v\n                        show verbose requests, responses and\n                        notifications output\n--disable-teardown, -notd\n                        disable the tear-down / cleanup procedure at the\n                        end of a test suite\n--run-teardown, -runtd\n                        run the specified test cases' tear-down\n                        functions and exit\n--run-count NUMBEROFRUNS\n                        run each test suite n times (default: 1)\n--run-tests TESTCASENAME [TESTCASENAME ...], -run TESTCASENAME [TESTCASENAME ...]\n                        run only the specified test cases from the set\n                        of test suites\n--show-skipped        show skipped test cases in summary\n--no-failfast         continue running test cases after a failure\n--list-tests, -ls     list the test cases of the specified test suites\n                        in the order they are defined and exit\n--list-tests-sorted, -lss\n                        alphabetical sorted list the test cases of the\n                        specified test suites and exit\n</code></pre>"},{"location":"development/UnitTests/#running-the-tests","title":"Running the Tests","text":"<p>The Python script runTests.py can be used to run all test suites. It looks for all Python scripts starting with test... and runs them in alphabetical order. At the end of a full test run it also provides a summary of the test results, including time spend for requests, as a process etc.</p> <p>Usually, the test suites are run only once, but one can specify the --run-count option to execute tests multiple times.</p> Example Test Run<pre><code>$ python3 runTests.py\n\n...\n\n                                                    [ACME] - Test Results\n\u250f\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2533\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2513\n\u2503                     \u2503       \u2503         \u2503        \u2503            Times             \u2503   Exec Time per   \u2503   Proc Time per   \u2503          \u2503\n\u2503 Test Suite          \u2503 Count \u2503 Skipped \u2503 Errors \u2503     Exec | Sleep | Proc      \u2503  Test | Request   \u2503  Test | Request   \u2503 Requests \u2503\n\u2521\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2547\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2501\u2529\n\u2502 testACP             \u2502    42 \u2502       0 \u2502      0 \u2502   0.5873 |   0.00 |   0.1181 \u2502  0.0140 |  0.0109 \u2502  0.0028 |  0.0022 \u2502       54 \u2502\n\u2502 testACTR            \u2502     3 \u2502       0 \u2502      0 \u2502   0.0478 |   0.00 |   0.0127 \u2502  0.0159 |  0.0080 \u2502  0.0042 |  0.0021 \u2502        6 \u2502\n\u2502 testAE              \u2502    25 \u2502       0 \u2502      0 \u2502   0.4417 |   0.00 |   0.0735 \u2502  0.0177 |  0.0134 \u2502  0.0029 |  0.0022 \u2502       33 \u2502\n\u2502 testAddressing      \u2502     8 \u2502       0 \u2502      0 \u2502   0.1895 |   0.00 |   0.0308 \u2502  0.0237 |  0.0135 \u2502  0.0039 |  0.0022 \u2502       14 \u2502\n\u2502 testCIN             \u2502    17 \u2502       0 \u2502      0 \u2502   0.3655 |   0.00 |   0.0585 \u2502  0.0215 |  0.0131 \u2502  0.0034 |  0.0021 \u2502       28 \u2502\n\u2502 testCNT             \u2502    21 \u2502       0 \u2502      0 \u2502   0.4119 |   0.00 |   0.0706 \u2502  0.0196 |  0.0158 \u2502  0.0034 |  0.0027 \u2502       26 \u2502\n\u2502 testCNT_CIN         \u2502    26 \u2502       0 \u2502      0 \u2502   4.9397 |   4.00 |   0.2228 \u2502  0.1900 |  0.0610 \u2502  0.0086 |  0.0028 \u2502       81 \u2502\n\u2502 testCRS             \u2502    62 \u2502       0 \u2502      0 \u2502  84.0746 |  81.80 |   0.5280 \u2502  1.3560 |  0.6369 \u2502  0.0085 |  0.0040 \u2502      132 \u2502\n\u2502 testCSE             \u2502     8 \u2502       0 \u2502      0 \u2502   0.1862 |   0.00 |   0.0503 \u2502  0.0233 |  0.0233 \u2502  0.0063 |  0.0063 \u2502        8 \u2502\n\u2502 testDiscovery       \u2502    54 \u2502       0 \u2502      0 \u2502   1.0766 |   0.00 |   0.1789 \u2502  0.0199 |  0.0135 \u2502  0.0033 |  0.0022 \u2502       80 \u2502\n\u2502 testExpiration      \u2502     8 \u2502       0 \u2502      0 \u2502  30.7233 |  30.00 |   0.1932 \u2502  3.8404 |  0.7145 \u2502  0.0242 |  0.0045 \u2502       43 \u2502\n\u2502 testFCNT            \u2502    23 \u2502       0 \u2502      0 \u2502   0.4121 |   0.00 |   0.0804 \u2502  0.0179 |  0.0153 \u2502  0.0035 |  0.0030 \u2502       27 \u2502\n\u2502 testFCNT_FCI        \u2502    11 \u2502       0 \u2502      0 \u2502   0.2775 |   0.00 |   0.0425 \u2502  0.0252 |  0.0116 \u2502  0.0039 |  0.0018 \u2502       24 \u2502\n\u2502 testGRP             \u2502    28 \u2502       0 \u2502      0 \u2502   0.7579 |   0.00 |   0.1099 \u2502  0.0271 |  0.0138 \u2502  0.0039 |  0.0020 \u2502       55 \u2502\n\u2502 testMgmtObj         \u2502    80 \u2502       0 \u2502      0 \u2502   1.0088 |   0.00 |   0.1998 \u2502  0.0126 |  0.0123 \u2502  0.0025 |  0.0024 \u2502       82 \u2502\n\u2502 testMisc            \u2502    18 \u2502       0 \u2502      0 \u2502   4.4119 |   4.00 |   0.1615 \u2502  0.2451 |  0.1765 \u2502  0.0090 |  0.0065 \u2502       25 \u2502\n\u2502 testNOD             \u2502    12 \u2502       0 \u2502      0 \u2502   0.3239 |   0.00 |   0.0770 \u2502  0.0270 |  0.0130 \u2502  0.0064 |  0.0031 \u2502       25 \u2502\n\u2502 testPCH             \u2502    13 \u2502       0 \u2502      0 \u2502   0.1699 |   0.00 |   0.0395 \u2502  0.0131 |  0.0089 \u2502  0.0030 |  0.0021 \u2502       19 \u2502\n\u2502 testPCH_PCU         \u2502    11 \u2502       0 \u2502      0 \u2502  30.8078 |  15.00 |   0.3497 \u2502  2.8007 |  0.7514 \u2502  0.0318 |  0.0085 \u2502       41 \u2502\n\u2502 testREQ             \u2502    25 \u2502       0 \u2502      0 \u2502  46.5237 |  45.00 |   0.5464 \u2502  1.8609 |  1.1347 \u2502  0.0219 |  0.0133 \u2502       41 \u2502\n\u2502 testRemote          \u2502     7 \u2502       0 \u2502      0 \u2502   0.2121 |   0.00 |   0.0533 \u2502  0.0303 |  0.0151 \u2502  0.0076 |  0.0038 \u2502       14 \u2502\n\u2502 testRemote_Annc     \u2502    37 \u2502       0 \u2502      0 \u2502   0.7482 |   0.00 |   0.1244 \u2502  0.0202 |  0.0125 \u2502  0.0034 |  0.0021 \u2502       60 \u2502\n\u2502 testRemote_GRP      \u2502     2 \u2502       0 \u2502      0 \u2502   0.0659 |   0.00 |   0.0113 \u2502  0.0330 |  0.0132 \u2502  0.0056 |  0.0023 \u2502        5 \u2502\n\u2502 testRemote_Requests \u2502     2 \u2502       0 \u2502      0 \u2502   0.0677 |   0.00 |   0.0119 \u2502  0.0339 |  0.0135 \u2502  0.0060 |  0.0024 \u2502        5 \u2502\n\u2502 testRequests        \u2502    12 \u2502       0 \u2502      0 \u2502  10.3716 |   0.00 |   0.1257 \u2502  0.8643 |  0.7408 \u2502  0.0105 |  0.0090 \u2502       14 \u2502\n\u2502 testSMD             \u2502    14 \u2502       0 \u2502      0 \u2502   0.2395 |   0.00 |   0.0587 \u2502  0.0171 |  0.0133 \u2502  0.0042 |  0.0033 \u2502       18 \u2502\n\u2502 testSUB             \u2502    81 \u2502       0 \u2502      0 \u2502  16.9685 |  15.00 |   0.4738 \u2502  0.2095 |  0.1266 \u2502  0.0058 |  0.0035 \u2502      134 \u2502\n\u2502 testTS              \u2502    33 \u2502       0 \u2502      0 \u2502   0.5149 |   0.00 |   0.1064 \u2502  0.0156 |  0.0135 \u2502  0.0032 |  0.0028 \u2502       38 \u2502\n\u2502 testTSB             \u2502     7 \u2502       0 \u2502      0 \u2502   6.2509 |   6.00 |   0.1507 \u2502  0.8930 |  0.4808 \u2502  0.0215 |  0.0116 \u2502       13 \u2502\n\u2502 testTS_TSI          \u2502    29 \u2502       0 \u2502      0 \u2502 121.4479 | 119.41 |   0.5758 \u2502  4.1879 |  1.1142 \u2502  0.0199 |  0.0053 \u2502      109 \u2502\n\u2502 testUpperTester     \u2502     6 \u2502       0 \u2502      0 \u2502   0.3926 |   0.00 |   0.0318 \u2502  0.0654 |  0.1963 \u2502  0.0053 |  0.0159 \u2502        2 \u2502\n\u251c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u253c\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2524\n\u2502 Totals              \u2502   725 \u2502       0 \u2502      0 \u2502 365.0405 | 320.21 |   4.8910 \u2502  0.5035 |  0.2906 \u2502  0.0067 |  0.0039 \u2502     1256 \u2502\n\u2514\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2534\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2500\u2518\n</code></pre> <p>With <code>--verbose-requests</code> the each request and response is printed as well. This can be helpful to debug problems with the system under test, the network, and other aspects.</p>"},{"location":"development/UnitTests/#running-individual-test-suites","title":"Running Individual Test Suites","text":"<p>One can  specify which test suites to run like this:</p> Run Specific Test Suites<pre><code>$ python3 runTests.py testACP testCin\n</code></pre> <p>The runTest.py script by default will run all test suites, except scripts that run load tests. To include those one need to specify the <code>--load-include</code> command line argument.</p>"},{"location":"development/UnitTests/#running-individual-test-cases","title":"Running Individual Test Cases","text":"<p>It is also possible to run individual test cases from test suites. This is done by optionally specify the test suites and then with the <code>--run-tests</code> option a list of test case names to run:</p> Run Single Test Case<pre><code>$ python runTests.py testSUB --run-tests test_createCNTforEXC\n</code></pre> <p>If test cases appear more than once one can specify the order in which the test cases are run. Example:</p> <ul> <li>Order of test cases in the test suite: A, B, A, C</li> <li>Desired test cases and order to run: B, A</li> <li>Option: <code>--run-tests B A</code></li> </ul> <p>Note</p> <p>Most unit tests in a test suite depend on each other (created resources, subscriptions, etc). Just running a single test case will most likely fail. </p> <p>The most interesting use of this functionionality is to run a whole test suite together with the <code>--disable-teardown</code> option up to the point of a failure, and then run the failed test case again:</p> Run Single Test Case Without Tear-Down<pre><code>$ python runTests.py testSUB --disable-teardown\n...\n$ python runTests.py testSUB --run-tests test_createCNTforEXC\n</code></pre> <p>This disables the clean-up of the CSE after the test suite has run, so that the resources created by the test suite are still present in the CSE. This way one can investigate the state of the CSE after the test suite has run.</p> <p>To list the available test cases one can use the <code>--list-tests</code> (list in the order the test cases have been defined in the test suite) and the <code>--list-tests-sorted</code> (list alphabetically) options.</p>"},{"location":"development/UnitTests/#tear-down-and-clean-up","title":"Tear-down and Clean-up","text":"<p>Each test suite may set-up resources in the CSE that are used during the tests. Usually, those resources should be removed from the CSE at the end of each test suite, but under certain circumstances (like a crash or forceful interruption of a test run) those resources may still be present in the CSE and must be removed manually (or by a reset-restart of the CSE), or by running the test suit with the <code>--run-teardown</code> option. The later runs only the tear-down  functions for the specified test suites and then exits.</p> <p>However, sometimes it would be useful to keep the resources created by the tests for further investigations. In this case specifying the <code>--disable-teardown</code> option can help. It disables the execution of the tear-down functions after successful or unsuccessful execution.</p>"},{"location":"development/UnitTests/#dependencies","title":"Dependencies","text":"<p>Some test cases in each test suite build on each other (such as adding a resource that is updated by further test cases). This means that the order of the test cases in each test suite is important. Individual test suites, however, can work independent from each other.</p> <p>Some test suites (for example testRemote) need in addition to a running IN- or MN-CSE another MN-CSE that registers to the \"main\" CSE (the system-under-test) in order to run registration and announcement tests.</p>"},{"location":"help/Contributing/","title":"Contributing","text":"<p>Whether reporting bugs, discussing improvements and new ideas or writing extensions: Contributions to ACME are welcome! Here's how to get started:</p> <ol> <li>Check for open issues or open a fresh issue to start a discussion around    a feature idea or a bug.</li> <li>Fork the repository https://github.com/ankraft/ACME-oneM2M-CSE on Github,    create a new branch off the master branch and start making your changes    (known as GitHub Flow).</li> <li>ACME makes use of typing hints and is statically type-checked with mypy. Please make sure that your changes pass the type checking.</li> <li>Write a test which shows that the bug was fixed or that the feature works    as expected.</li> <li>Send a pull request and bug the maintainers until it gets merged and    published.</li> </ol>"},{"location":"help/FAQ/","title":"FAQ","text":""},{"location":"help/FAQ/#installation-and-running","title":"Installation and Running","text":"<ol> <li>Can I install the ACME CSE on a Raspberry Pi?    Yes, the ACME CSE can be installed and run on a Raspberry Pi. However, this usually requires to install a newer version of Python than the one that is installed by default on the Raspberry Pi, and to install some additional libraries, tools, and packages.    See the HowTo Install ACME on a Raspberry Pi for further details.</li> </ol>"},{"location":"help/FAQ/#network","title":"Network","text":"<ol> <li>How can I access the CSE from remote/another computer on my network?    By default the CSE binds to the localhost/loopback interface, meaning it will not be able to receive requests from remote machines. To make it accessible from a remote machine you need to bind the CSE's http server or MQTT client to another network interface, or address. This can be done in the [http] and [mqtt] sections of the configuration file.     Setting the listen interface to \"0.0.0.0\" binds the servers to all available interfaces.    The reason for this default setting is security: making the CSE accessible from remote machines should be a conscious decision and not the default.</li> </ol>"},{"location":"help/FAQ/#database","title":"Database","text":"<ol> <li>Corrupt database files    In very rare cases, e.g. when the CSE was not properly shut down, the on-disk database files for TinyDB  may be corrupted. The CSE tries to detect this during start-up, but there is not much one can do about this. However, a backup of the database file is created every time the CSE starts. This backup can be found in the backup sub-directory of the data directory. </li> </ol>"},{"location":"help/FAQ/#http","title":"HTTP","text":"<ol> <li>What does the error message \"[Errno 13] Permission denied\" during startup of the CSE mean?    This error is shown by the CSE when the http server tries to bind to a TCP/IP port to listen for incoming requests,     but doesn't have enough privileges to do so. This usually happens when an http port &lt; 1024 is configured (e.g. 80) and     the CSE is run with normal user privileges. Either run the CSE with admin / superuser rights (NOT recommended),     or choose another TCP/IP port, larger than 1024.</li> <li>Is there a work-around for the missing DELETE method in http/1.0?    Many constraint devices only support version 1.0 of the http protocol. This version of http, though, does not specify the    DELETE method, which means that those devices cannot invoke oneM2M's DELETE operation.    The ACME CSE implements an experimental work-round by supporting the http PATCH operation in addition to the normal DELETE    operation: Instead of sending oneM2M DELETE requests using the http DELETE method one can send the same request with the http PATCH method.    This feature is disabled by default and can be enabled by setting the configuration setting [server.http].allowPatchForDelete    to true.</li> <li>Is there a way to enable CORS (Cross-Origin Resource Sharing) for ACME?    CORS allows browser-based applications to access resources on a web server outside the domain of the    original hosting web server. This could be useful, for example, to allow a web UI that is hosted on     one web server to access oneM2M resources that are hosted on external CSE(s).    ACME's http binding implementation supports CORS. This feature is disabled by default and can be     enabled by setting the configuration setting [http.cors].enable to true. CORS access is granted    by default to all HTTP resources. This can be limited by specifying the resource paths in the     configuration setting [http.cors].resources. Note: Most modern web browsers don't allow unsecured (http) access via CORS. This means that the    CSE must be configured to run the http server with TLS support enabled (https).</li> </ol>"},{"location":"help/FAQ/#mqtt","title":"MQTT","text":"<ol> <li>What does the error message \"Out of memory\" mean that appears sometimes?    This error message should actually read \"connection refused\" or \"general error\" that is returned by the underlying MQTT library. The error code \"1\" indicates this error but the human readable error message seems to be wrongly assigned here.</li> <li>What is going on when the error \"rc=7: The connection was lost\" is repeatedly thrown?    This error message might occur when another client (perhaps another running CSE with the same CSE-ID) connected to an MQTT broker with the same client ID. The CSE then tries to re-connect and the other CSE is disconnected by the broker. And then this client tries to reconnect. This will then repeat over and over again.    Identify the other client, stop it, and assign it a different CSE-ID.</li> <li>What does \"cannot connect to broker: [Errno 49] Can't assign requested address\" mean?    You most likely want to connect to an MQTT broker that does not run on your local machine and you configured the listen interface to \"127.0.0.1\", which means that only local running services can be reached. Try to set the configuration [client.mqtt].listenIF to \"0.0.0.0\".</li> </ol>"},{"location":"help/FAQ/#resources","title":"Resources","text":"<ol> <li>How can I add my own FlexContainer specializations to the ACME CSE?    All resources and specializations are validated by the CSE. You can add your own specializations and validation policies by providing them in one or more separate files in the import directory. Those files must have the file extension \".ap\". These files are read during the startup of the CSE.    See the documentation about defining FlexContainer spezializations for further details.</li> </ol>"},{"location":"help/FAQ/#cse-registrations","title":"CSE Registrations","text":"<ol> <li> <p>Why are there regular checks for remote CSEs?     When a CSE is configured as an MN-CSE or ASN-CSE it can register to a remote CSE, respectively an IN-CSE and MN-CSE can receive connection requests from those CSE types. A &lt;remoteCSE&gt; resource is created in case of a successful registration. A CSE checks regularly the connection to other remote CSEs and removes the remoteCSE if the connection could not been established. This is done to keep the CSE's resource tree clean and up-to-date.     This behaviour can be disabled by setting the configuration setting <code>[cse.registration].checkLiveliness</code> to false.     The check interval can be configured with the <code>[cse.registrar].checkInterval</code> setting.</p> </li> <li> <p>Why does my CSE not register to another CSE or announce resources?    One problem could be that the CSE has no access rights to register to the target CSE. To solve this, the CSE's originator (ie. the CSE's CSE-ID, for example \"/id-mn\") must be added to the target CSE's configuration file. The configuration section [cse.registration] has a setting allowedCSROriginators, which is a comma separated list of originators. Add the registering CSE's    CSE-ID (without a leading slash!) to this configuration section to allow access for this originator.     This must be done for both the CSEs that want to register and announce resources.     Example for an IN-CSE with the CSE-ID \"/id-in\":</p> <p>Example to allow a CSE with the CSE-ID 'id-mn' to register to the IN-CSE<pre><code>[cse.registration]\nallowedCSROriginators=id-mn\n</code></pre>     And for an MN-CSE with the CSE-ID \"/id-mn\":</p> Example to allow the IN-CSE with the CSE-ID 'id-in' to get access<pre><code>[cse.registration]\nallowedCSROriginators=id-in\n</code></pre> </li> </ol>"},{"location":"help/FAQ/#performance","title":"Performance","text":"<ol> <li> <p>How to increase the performance of ACME CSE?    The log output provides useful information to analyze the flows of requests inside the CSE. However, it reduces the performance of the CSE by a lot. So, reducing the log level to info or warning already helps. This can be done in the [logging] section of the configuration file, or by pressing L on the console to change the logging level to the desired value.    Another option is to change the database to memory mode. This means that all database access happens in memory and not on disk. But please be aware that this also means that all data will be lost when the CSE terminates!    Lastly, the ACME CSE can be run with Python 3.11, which is way faster than previous versions of Python.</p> </li> <li> <p>Increase database performance with disk mode    When running the CSE with the database mode set to disk (ie. store the database on disk rather then in memory) one can improve the performance by increasing the time before data is actually written to disk. The default is 1 second, but it can be increased as necessary.    Be aware, though, that the risk of losing data increases with higher delays in case of a crash or when the CSE shutdown is interrupted.</p> Example to set the write delay to 10 seconds<pre><code>[database]\nwriteDelay=10\n</code></pre> </li> </ol>"},{"location":"help/FAQ/#web-ui","title":"Web UI","text":"<ol> <li>Can I use the web UI also with other CSE implementations?     The web UI can also be run as an independent application.  Since it communicates with the CSE via the Mca interface it should be possible to use it with other CSE implementations as well as long as those third party CSEs follow the oneM2M http binding specification. It only supports the resource types that the ACME CSE supports, but at least it will present all other resource types as unknown.</li> </ol>"},{"location":"help/FAQ/#console-and-text-ui","title":"Console and Text UI","text":"<ol> <li>Some of the tables, text graphics etc are not aligned or correctly displayed in the console     Some mono-spaced fonts don't work well with UTF-8 character sets and graphic elements. Especially the MS Windows cmd.exe console seems to have problems.     Try one of the more extended fonts like JuliaMono or DejaVu Sans Mono.</li> <li> <p>There is an error message \"UnicodeEncodeError: 'latin-1' codec can't encode character\"     This error message is shown when the console tries to display a character that is not supported by the current console encoding. Try to set the console encoding to UTF-8 by setting the environment variable PYTHONIOENCODING to utf-8, for example:</p> Set the terminal console encoding to UTF-8<pre><code>export PYTHONIOENCODING=utf-8\n</code></pre> </li> </ol>"},{"location":"help/FAQ/#operating-systems","title":"Operating Systems","text":""},{"location":"help/FAQ/#raspberrypi","title":"RaspberryPi","text":"<ol> <li>Restrictions on 32 bit Systems     Currently, the normally installed Raspbian OS is a 32 bit system. This means that several restrictions apply here, such as the maximum date supported (~2038). It needs to be determined whether these restrictions still apply when the 64 bit version of Raspbian is available.</li> <li> <p>The console or the text UI is not displayed correctly     It could be that the OS's terminal applications doesn't support rendering of extra characters, like line graphics. One recommendation on Linux systems is to install the Mate Terminal, which supports UTF-8 and line graphics. It also renders the output much faster.</p> Install the Mate Terminal<pre><code>sudo apt-get install mate-terminal\n</code></pre> </li> <li> <p>Timing Issues      Also, the resolution of the available Python timers is rather low on Raspbian, and background tasks might not run exactly on the desired time.      Unfortunately, this is also why sometimes a couple of the CSE's tests cases may fail randomly.</p> </li> </ol>"},{"location":"home/Acknowledgements/","title":"Acknowledgements","text":"<ul> <li> <p> Thank You for Your Contributions! </p> <p> Miguel Angel Reina Ortega BobFIV Andreas Neubacher Roland Hechwartner Ken Figueredo Yann Garcia Massimo Vanetti Tyler Sengia JiriD85 samuelbles07 Luke Hawksworth JaeSeung Song </p> <p>Thank you for contributing ideas, code, patches, testing, bug fixes, time, and more!</p> </li> </ul>"},{"location":"home/Contact/","title":"Contact","text":""},{"location":"home/Contact/#acme-cse-on-github","title":"ACME CSE on GitHub","text":"<p>The ACME CSE project is hosted on https://github.com/ankraft/ACME-oneM2M-CSE.  You can find the source code, documentation, and issues there.</p>"},{"location":"home/Contact/#issues","title":"Issues","text":"<p>If you encounter any issues or have questions, please open an issue on the ACME CSE GitHub Issues page.</p>"},{"location":"home/Contact/#mastodon","title":"Mastodon","text":"<p>You can also follow the ACME CSE on Mastodon at https://mstdn.social/@acmeCSE.</p>"},{"location":"home/Contact/#discord","title":"Discord","text":"<p>Join the ACME CSE community on Discord to discuss the project, ask questions, and get help.</p>"},{"location":"home/Imprint/","title":"Imprint \u00b7 Impressum","text":""},{"location":"home/Imprint/#imprint-english","title":"Imprint (English)","text":""},{"location":"home/Imprint/#service-provider","title":"Service Provider","text":"<p>Andreas Kraft \u00b7 Quantzstr.22 \u00b7 14129 Berlin \u00b7 Germany</p>"},{"location":"home/Imprint/#contact","title":"Contact","text":"<p>Email address: info@acmecse.net</p>"},{"location":"home/Imprint/#social-media-and-other-online-presences","title":"Social Media and other Online Presences","text":"<p>This imprint also applies to the following social media presences and online profiles:</p> <p>Mastodon: @acmeCSE@mstdn.social Discord: ACME CSE Discord Channel</p>"},{"location":"home/Imprint/#impressum-deutsch","title":"Impressum (Deutsch)","text":""},{"location":"home/Imprint/#diensteanbieter","title":"Diensteanbieter","text":"<p>Andreas Kraft \u00b7 Quantzstr.22 \u00b7 14129 Berlin \u00b7 Germany</p>"},{"location":"home/Imprint/#kontaktmoglichkeiten","title":"Kontaktm\u00f6glichkeiten","text":"<p>E-Mail-Adresse: info@acmecse.net</p>"},{"location":"home/Imprint/#social-media-und-andere-onlineprasenzen","title":"Social Media und andere Onlinepr\u00e4senzen","text":"<p>Dieses Impressum gilt auch f\u00fcr die folgenden Social-Media-Pr\u00e4senzen und Onlineprofile:</p> <p>Mastodon: @acmeCSE@mstdn.social Discord: ACME CSE Discord Channel</p> <p>Erstellt mit kostenlosem Datenschutz-Generator.de von Dr. Thomas Schwenke </p>"},{"location":"home/License/","title":"License","text":"<p>The ACME oneM2M CSE is available under the BSD 3-Clause License for the CSE and its native components and modules. Please see the individual licenses of the used third-party components.</p>"},{"location":"home/License/#bsd-3-clause-license","title":"BSD 3-Clause License","text":"<p>Copyright (c) 2020, Andreas Kraft All rights reserved.</p> <p>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:</p> <ol> <li> <p>Redistributions of source code must retain the above copyright notice, this    list of conditions and the following disclaimer.</p> </li> <li> <p>Redistributions in binary form must reproduce the above copyright notice,    this list of conditions and the following disclaimer in the documentation    and/or other materials provided with the distribution.</p> </li> <li> <p>Neither the name of the copyright holder nor the names of its    contributors may be used to endorse or promote products derived from    this software without specific prior written permission.</p> </li> </ol> <p>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.</p>"},{"location":"home/Roadmap/","title":"Feature Roadmap","text":"<ul> <li> <p> Near Future </p> </li> <li> <p> Far Future</p> </li> </ul>"},{"location":"home/Roadmap/#cse-middleware","title":"CSE Middleware","text":"<ul> <li>Add support for CoAP.</li> <li>Improve ACP resource and conditions.</li> <li>Add Support for primitive profiles.</li> <li>Support for Process Management.</li> </ul>"},{"location":"home/Roadmap/#uis","title":"UI's","text":"<ul> <li>Add resource operations to the text UI.</li> </ul>"},{"location":"home/Roadmap/#cse-middleware_1","title":"CSE Middleware","text":"<ul> <li>Support more resource types when necessary.</li> <li>Improve notifications   (e.g. pendingNotifications).</li> <li>Improve Support for TimeSyncBeacon.</li> </ul>"},{"location":"home/Roadmap/#uis_1","title":"UI's","text":"<ul> <li>Add Data Model Editor and templates to the text UI.</li> </ul>"},{"location":"home/Supported/","title":"Supported Resource Types and Functionalities","text":"<p>This article lists the supported oneM2M resource types, functionalities, and additional runtime features of the ACME CSE.</p>"},{"location":"home/Supported/#onem2m-features","title":"oneM2M Features","text":""},{"location":"home/Supported/#onem2m-specification-conformance","title":"oneM2M Specification Conformance","text":"<p>The CSE implementation successfully passes all the relevant oneM2M test cases for the supported resource types, attributes and behaviours.</p>"},{"location":"home/Supported/#release-versions","title":"Release Versions","text":"<p>The ACME CSE supports oneM2M release 1 - 4 and the upcoming release 5 for the supported resource types and functionalities listed below. </p>"},{"location":"home/Supported/#cse-types","title":"CSE Types","text":"<p>The ACME CSE supports the following CSE types:</p> CSE Type Supported IN \u2713 MN \u2713 ASN \u2713"},{"location":"home/Supported/#resource-types","title":"Resource Types","text":"<p>The ACME CSE supports the following oneM2M resource types:</p> Resource Type Supported Remarks Access Control Policy (ACP) \u2713 Attribute-based access control is yet not supported Action (ACTR) \u2713 No support for the <code>input</code> attribute. Application Entity (AE) \u2713 Container (CNT) \u2713 ContentInstance (CIN) \u2713 CrossResourceSubscription (CRS) \u2713 CSEBase (CB) \u2713 Dependency (DEPR) \u2713 FlexContainer &amp; Specializations \u2713 Any specialization is supported and validated. See Attribute Policies for further details.Supported specializations include: TS-0023 R4, GenericInterworking, AllJoyn. FlexContainerInstance \u2713 Experimental. This is an implementation of the draft FlexContainerInstance specification. Group (GRP) \u2713 The support includes requests via the fopt (fanOutPoint) virtual resource. Groups may contain remote resources. LocationPolicy (LCP) \u2713 Only device based location policy is supported. The LCP's cnt stores geo-coordinates and geo-fencing results. Management Objects \u2713 See also the list of supported management objects. Node (NOD) \u2713 Polling Channel (PCH) \u2713 Support for Request and Notification long-polling via the pcu (pollingChannelURI) virtual resource. requestAggregation functionality is supported, too. Remote CSE (CSR) \u2713 Announced resources are  supported. Transit request to resources on registered CSE's are supported. Request (REQ) \u2713 Support for non-blocking requests. Schedule (SCH) \u2713 Support for CSE communication, nodes, subscriptions and crossResourceSubscriptions. SemanticDescriptor (SMD) \u2713 Support for basic resource handling and semantic queries. Subscription (SUB) \u2713 Notifications via http(s) (direct url or an AE's Point-of-Access (POA)). BatchNotifications, attributes, statistics. Not all features are supported yet. TimeSeries (TS) \u2713 Including missing data notifications. TimeSeriesInstance (TSI) \u2713 dataGenerationTime attribute only supports absolute timestamps. TimeSyncBeacon (TSB) \u2713 Experimental. Implemented functionality might change according to specification changes. <p></p>"},{"location":"home/Supported/#management-object-specializations","title":"Management Object Specializations","text":"<p>The following table presents the supported management object specifications.</p> Management Objects AreaNwkDeviceInfo (ANDI) AreaNwkInfo (ANI) Battery (BAT) DataCollect (DATC) DeviceCapability (DVC) DeviceInfo (DVI) EventLog (EVL) Firmware (FWR) Memory (MEM) MobileNetwork (MNWK) MyCertFileCred (NYCFC) Reboot (REB) SIM (SIM) Software (SWR) WifiClient (WIFIC)"},{"location":"home/Supported/#flexcontainer-specializations","title":"FlexContainer Specializations","text":"<p>ACME CSE supports all FlexContainerSpecializations of oneM2M TS-0023.</p>"},{"location":"home/Supported/#protocols-bindings","title":"Protocols Bindings","text":"<p>The following Protocol Bindings are supported:</p> Protocol Binding Supported Remark http \u2713 incl. TLS (https) and CORS support. basic and bearer authentication. Experimental: Using PATCH to replace missing DELETE in http/1.0 coap \u2717 mqtt \u2713 incl. mqtts WebSocket \u2713 incl. TLS (wss) support <p>The supported bindings can be used together, and combined and mixed in any way.</p>"},{"location":"home/Supported/#serialization-types","title":"Serialization Types","text":"<p>The following serialization types are supported:</p> Serialization Type Supported Remark JSON \u2713 In addition to normal JSON syntax, C-style comments (\"//...\", \"#...\" and \"/* ... */\") are supported as well. CBOR \u2713 XML \u2717 <p>The supported serializations can be used together, e.g. between different or even with the same entity.</p>"},{"location":"home/Supported/#result-content-types","title":"Result Content Types","text":"<p>The following result contents are implemented for standard oneM2M requests and discovery:</p> Discovery Type RCN nothing 0 attributes 1 hierarchical address 2 hierarchical address + attributes 3 attributes + child-resources 4 attributes + child-resource-references 5 child-resource-references 6 original-resource 7 child-resources 8 modified attributes 9 semantic content 10 discovery result references 11"},{"location":"home/Supported/#onem2m-service-functions","title":"oneM2M Service Functions","text":"<p>The following oneM2M service functions are supported:</p> Functionality Supported Remark AE registration \u2713 Blocking requests \u2713 Delayed request execution \u2713 Through the Operation Execution Timestamp request attribute. Discovery \u2713 Geo-query \u2713 Location \u2713 Only device based, and no network based* location policies are supported. Long polling \u2713 Long polling for request unreachable AEs and CSEs through &lt;pollingChannel&gt;. Non-blocking requests \u2713 Non-blocking synchronous and asynchronous, and flex-blocking, incl. Result Persistence. Notifications \u2713 E.g. for subscriptions and non-blocking requests. Partial Retrieve \u2713 Support for partial retrieve of individual resource attributes. Remote CSE registration \u2713 Request expiration \u2713 The Request Expiration Timestamp request attribute Request forwarding \u2713 Forwarding requests from one CSE to another. Request parameter validations \u2713 Resource addressing \u2713 CSE-Relative, SP-Relative and Absolute as well as hybrid addressing are supported. Resource announcements \u2713 Under the CSEBaseAnnc resource (R4 feature). Bi-directional update sync. Resource expiration \u2713 Resource validations \u2713 Result expiration \u2713 The Result Expiration Timestamp request attribute. Result timeouts for non-blocking requests depend on the resource expiration interval. Semantics \u2713 Basic support for semantic descriptors and semantic queries and discovery. Standard oneM2M requests \u2713 CREATE, RETRIEVE, UPDATE, DELETE, NOTIFY Subscriptions \u2713 Incl. batch notification, and resource type and attribute filtering. Time Synchronization \u2713 TimeSeries data handling \u2713 Incl. missing data detection, monitoring and notifications."},{"location":"home/Supported/#notification-event-types","title":"Notification Event Types","text":"<p>The following notification event types for Subscriptions are supported:</p> Notification Event Types Supported resourceUpdate \u2713 resourceUpdate \u2713 createDirectChild \u2713 deleteDirectChild \u2713 retrieveCNTNoChild \u2717 triggerReceivedForAE \u2717 blockingUpdate \u2713 missingData \u2713"},{"location":"home/Supported/#additional-cse-runtime-features","title":"Additional CSE Runtime Features","text":""},{"location":"home/Supported/#runtime-environments","title":"Runtime Environments","text":"<p>The ACME CSE runs at least on the following runtime environments:</p> Runtime Environment Supported Remark Generic Linux \u2713 Including Raspberry Pi OS (32bit) on Raspberry Pi 3 and 4. Mac OS \u2713 Intel and Apple silicon. MS Windows \u2713 Jupyter Notebooks \u2713 ACME CSE can be run headless inside a Jupyter Notebook. Functionality Remark HTTP CORS Support for Cross-Origin Resource Sharing to support http(s) redirects. HTTP Authorization Basic support for basic and bearer (token) authorization. HTTP WSGI Support for the Python Web Server Gateway Interface to improve integration with a reverse proxy or API gateway, ie. Nginx. Text Console Control and manage the CSE, inspect resources, run scripts in a text console. Test UI Text-based UI to inspect resources and requests, configurations, stats, and more Testing: Upper Tester Basic support for the Upper Tester protocol defined in TS-0019, and additional command execution support. Request Recording Record requests to and from the CSE to learn and debug requests over Mca and Mcc. Script Interpreter Lisp-based scripting support to extent functionalities, implement simple AEs, prototypes, test, ... Web UI"},{"location":"home/Supported/#database-bindings","title":"Database Bindings","text":"<p>The following database bindings are supported:</p> Database Binding Supported Remark PostgreSQL \u2713 TinyDB in-memory \u2713 Fast and simple in-memory database. TinyDB file-based \u2713 Fast and simple file-based database."},{"location":"home/Supported/#experimental-cse-features","title":"Experimental CSE Features","text":"<p>These features are prove-of-concept implementations of new and currently discussed oneM2M features. They are not yet part of the oneM2M standard.</p> Functionality Remark Enhanced CSR functionality Support of new eventEvaluationMode to react in missing events Subscription References Support for subscription references for resource instead of direct subscriptions. Advanced Queries Experimental implementation of a new query language to support enhanced query capabilities Simplified Time Synchronization Experimental implementation of a simplified time synchronization mechanism. Support for DELETE requests for http/1.0 Using PATCH requests to emulate DELETE requests for http/1.0 clients."},{"location":"howtos/Docker/","title":"Docker","text":"<p>This section describes how to create and run a Docker image for the ACME CSE. </p>"},{"location":"howtos/Docker/#running-from-dockerhub","title":"Running from DockerHub","text":"<p>A Docker image with reasonable defaults is available on Docker Hub: https://hub.docker.com/repository/docker/ankraft/acme-onem2m-cse .</p> <p>You can download and run it with the following shell command:</p> Download Image and Run<pre><code>docker run -it -p 8080:8080 --rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n</code></pre> <p>To adjust the output to the current terminal width run the image with the following command:</p> Run Container with Terminal Width<pre><code>docker run -e COLUMNS=\"`tput cols`\" -e LINES=\"`tput lines`\" -it -p 8080:8080 --rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n</code></pre>"},{"location":"howtos/Docker/#build-your-own-docker-image","title":"Build Your Own Docker Image","text":"<p>You can adapt (ie. configure a new Docker Hub ID) the build script and Dockerfile in the tools/Docker directory. It might be a good idea, for example, to run the CSE in head-less mode (command line argument <code>--headless</code> or configuration setting [console].headless), which disables screen output.</p> <p>The build script takes all the current scripts, attribute definitions etc. from the ACME module's init directory and includes them in the Docker image. The configuration file for the Docker image's acme.ini file is copied from file acme.docker from the Docker directory. Please make any necessary changes to that file before building the image.</p>"},{"location":"howtos/Docker/#running-the-cse","title":"Running the CSE","text":""},{"location":"howtos/Docker/#mapped-base-directory","title":"Mapped Base Directory","text":"<p>The Docker image uses the data directory as the base directory for the CSE's runtime data. This directory can be mapped to a volume on the host system. For example, to use a local data directory as the base directory, run the following command:</p> Run Container with Mapped Base Directory<pre><code>docker run -it -p 8080:8080 -v /path/to/data:/data --rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n</code></pre> <p>This is useful for persisting data across container restarts and to provide a different configuration file that is then used instead of the default acme.ini file.</p>"},{"location":"howtos/Docker/#environment-variables","title":"Environment Variables","text":"<p>ACME supports the use of environment variables in the configuration settings. This is useful when running the CSE in a Docker container, where the configuration settings can be set via environment variables. </p> <p>One example is to provide the Docker host's IP address to the CSE as the cseHost configuration settings.</p> <p>The setting for cseHost in the acme.ini file should should be changed to the following:</p> Use Environment Variable to set Host IP<pre><code>[basic.config]\n...\ncseHost=${DOCKER_HOST_IP}\n...\n</code></pre> <p>The value for this setting can be provided by setting the environment variable DOCKER_HOST_IP to the Docker host's IP address:</p> Run Container with Docker Host IP Environment Variable<pre><code>docker run -it -p 8080:8080 -v /path/to/data:/data -e DOCKER_HOST_IP=`ifconfig en0 | awk '$1 == \"inet\" {print $2}'` -rm --name acme-onem2m-cse ankraft/acme-onem2m-cse\n</code></pre> <p>Values for other setting, such as credentials, can be provided the same way.</p>"},{"location":"howtos/ExperimentalWebSocketBinding/","title":"Experimental WebSocket Binding","text":"<p>In release 2024.03 the ACME CSE got support for the WebSocket protocol. This protocol offers an always-on connection between a client and a server for fast data transfer. The performance gain comes mostly from the fact that with WebSockets it is not necessary to establish new network connections, opening sockets etc. every time when a request is sent.</p> <p>This binding is especially useful for CSE-to-CSE connections when two CSEs are constantly exchanging requests and responses. However, it is not really suited for devices (ADN) to use this protocol binding because the drawback is that computing and network resources are kept constantly assigned by both parties. It may make sense, though, to support this binding on an ADN whenever the use case is bulk and high frequency transfer of requests, such in the case of time series data.</p>"},{"location":"howtos/ExperimentalWebSocketBinding/#websocket-and-originators","title":"WebSocket and Originators","text":"<p>The technical specification is published in oneM2M's TS-0020 and available on the specification page . Unfortunately, there is a small issue in the specification when it comes to send notifications from, for example, a CSE to a connected AE or CSE. </p> <p>The specification states that an established WebSocket connection must be used when sending notifications to a client (an AE or CSE). In normal cases, this is not a problem. However, there could be a situation that a client establishes a WebSocket connection but doesn't send a request immediately. This is normal behavior, but without a oneM2M request the CSE cannot associate that specific WebSocket connection with an originator. If in this case the CSE needs to send a notification to a client (ie. an originator) it does not know whether there is an established WebSocket connection, even if, technically, there is one.</p> <p>The solution for this is that a client needs to add an additional header when opening a WebSocket connection. This is similar to the <code>X-M2M-Origin</code> header in the oneM2M HTTP binding, and in fact the experimental feature proposes that this header must be present when a WebSocket connection is opened. </p> Example Python Code<pre><code>websocket = connect(cseUrl, \n                    subprotocols=['oneM2M.json'],\n                    additional_headers={ 'X-M2M-Origin': anOriginator })\n</code></pre> <p>The only exception is when registering an AE. In this case, again similar to the HTTP binding, this header may be absent. </p>"},{"location":"howtos/ExperimentalWebSocketBinding/#establishing-websocket-connections","title":"Establishing WebSocket Connections","text":"<p>Another experimental feature is that WebSockets may be established from AEs as well as CSE's (or registrees and registrars in oneM2M terms). The original (current) specification states that WebSockets must only be established by a registree, but this is very limiting and may force small ADN devices to implement multiple oneM2M bindings technologies when they want to be able to receive notifications even when no WebSocket connection has been established. Also, it is not clearly specified how to store requests from a registrar to a registree in case a connection is not available at the moment.</p> <p>The implemented experimental feature now adds the following procedure and a special URL schema for the poa (point of access) attribute for WebSocket connections:</p> <ul> <li>If there is an established WebSocket connection for a request originator then send the request over this connection.</li> <li>If there is no established WebSocket connection:</li> <li>If there is a URL in the poa attribute with the value <code>ws://default</code> then don't open a new WebSocket connection (because only the default one should be used). Continue with step iii.</li> <li>If there is a \"normal\" WebSocket URL then establish a WebSocket connection to that URL and send the request and await the response. Afterwards the connection may be closed.</li> <li>Otherwise follow the usual procedure for poa handling, ie. look for other means to reach the originator.</li> </ul> <p>To support this feature, of course, a registree must implement a WebSocket server as well.</p>"},{"location":"howtos/ExperimentalWebSocketBinding/#changes-to-onem2ms-ts-0020-websocket-binding-specification","title":"Changes to oneM2M's TS-0020 WebSocket Binding Specification","text":"<p>These changes were submitted as a Change Request SDS-2024-0021 to TS-0020 (March 2024) and will be discussed in oneM2M's SDS working group.</p>"},{"location":"howtos/ExportResources/","title":"How to Export Resources","text":"<p>Sometimes it is necessary to export resource, for example to backup a part of the resource tree or to save the state of the resource tree for demonstration and experiments.</p>"},{"location":"howtos/ExportResources/#export-resources","title":"Export Resources","text":"<p>The ACME CSE offers a simple and portable way to export single resources or a whole part of the resource tree. In the text UI when clicking on a resource a tab Services contains the service \"Export Resource\". When clicking on the \"Export\" button a resource and (depending on the \"child resource\" checkbox) its child resources are exported to a directory as a shell script with the current date and time. The directory is the tmp directory under the CSE's root directory.</p> <p> </p> Text UI - Export Resources <p>The generated script contains the necessary commands to send Mca CREATE requests using curl commands over http for the exported resources.</p> <p>One is free to make modifications to the exported resources as necessary, or to combine various resource scripts into a single script.</p>"},{"location":"howtos/ExportResources/#import-resources-again","title":"Import Resources Again","text":"<p>The generated shell script contains three sections:</p> <ul> <li>The variable <code>cseURL</code> that is set to the URL of a CSE where the resources will be imported again. This should be set to appropriate address when targeting another CSE.</li> <li>Shell functions that construct the CREATE requests and send it using the curl command line tool.</li> <li>At the bottom are the shell function calls with the originator, resource type, and resource representations. </li> </ul> <p>Import</p> <p>The resource representations can only contain the resource attributes that can be present in CREATE requests. This means, for example, that the resourceID of a resource is not present.  This also means, unfortunately, that references between resource may be incomplete after an export and need to be set manually afterwards.</p> <p>To import the resources in an export script just run the script in a (bash) shell:</p> Run the export script<pre><code>$ sh export-20240316T131612.sh\n</code></pre>"},{"location":"howtos/ExportResources/#example-script","title":"Example Script","text":"<p>The following is an example of an export script that exports a container with two content instances and a subscription:</p> Example export script<pre><code>#!/bin/bash\n# Exported cnt6834189228603991262 from id-in at 20240316T131612,894875\n\ncseURL=http://localhost:8080  # (1)!\n\nfunction uniqueNumber() { # (2)!\n    unique_number=\"\"\n    for i in {1..10}\n    do\n        unique_number+=$RANDOM\n    done\n    unique_number=${unique_number:0:10}\n    echo \"$unique_number\"\n}\n\nfunction createResource() { # (3)!\n    printf '\\nCreating child resource under %s\\n' $cseURL/$4\n    printf 'Result: '         \n    curl -X POST -H \"X-M2M-Origin: $1\" -H \"X-M2M-RVI: 4\" -H \"X-M2M-RI: $(uniqueNumber)\" -H \"Content-Type: application/json;ty=$2\" -d \"$3\" $cseURL/$4\n    printf '\\n'\n}\n\n# (4)!\n\ncreateResource CDemoLightswitch 3 '{\"m2m:cnt\": {\"rn\": \"switchContainer\", \"mni\": 10, \"acpi\": [\"acp3542208976028337519\"]}}' 'cse-in/CDemoLightswitch'\ncreateResource CDemoLightswitch 23 '{\"m2m:sub\": {\"rn\": \"switchSubscription\", \"nu\": [\"cse-in/CDemoLightbulb\"], \"enc\": {\"net\": [3]}, \"nct\": 1}}' 'cse-in/CDemoLightswitch/switchContainer'\ncreateResource CDemoLightswitch 4 '{\"m2m:cin\": {\"con\": \"off\", \"rn\": \"cin_KJyrTD7INf\"}}' 'cse-in/CDemoLightswitch/switchContainer'\ncreateResource CDemoLightswitch 4 '{\"m2m:cin\": {\"con\": \"off\", \"rn\": \"cin_MQ5AK9WRbs\"}}' 'cse-in/CDemoLightswitch/switchContainer'\n</code></pre> <ol> <li>The variable <code>cseURL</code> is set to the URL of the CSE where the resources will be imported again. This should be set to the appropriate address when targeting another CSE.</li> <li>This function generates a unique number that is used for various identifiers. </li> <li>This function creates a resource in the CSE using the curl command line tool. The function takes four arguments: the originator, the resource type, the resource representation, and the parent resource's URL.</li> <li>From here on the script creates the resources. The <code>createResource</code> function is called with the originator, the resource type, the resource representation, and the parent resource's URL.</li> </ol>"},{"location":"howtos/HowTo-pyenv/","title":"How to Install pyenv","text":"<p>This guide shortly describes how to install the pyenv virtual environment manager. In addition, we will install pyenv-virtualenv. This is a pyenv plugin for creating and managing virtual Python environments. </p> <p>Pyenv is only officially supported on Linux/MacOS systems, so we will focus on these OS environments.</p>"},{"location":"howtos/HowTo-pyenv/#prerequisites","title":"Prerequisites","text":""},{"location":"howtos/HowTo-pyenv/#homebrew","title":"Homebrew","text":"<p>This guide assumes that you have installed the homebrew package manager.</p>"},{"location":"howtos/HowTo-pyenv/#macos-xcode-dependencies","title":"MacOS: Xcode dependencies","text":"<p>If not done yet, we need to install the Xcode dependencies:</p> Install Xcode dependencies<pre><code>Xcode-select --install\n</code></pre>"},{"location":"howtos/HowTo-pyenv/#installing-pyenv","title":"Installing pyenv","text":"<p>Install pyenv using homebrew:</p> Install pyenv<pre><code>brew upgrade\nbrew install pyenv\n</code></pre> <p>Install extra libraries:</p> Install extra libraries<pre><code>brew install readline xz\n</code></pre> <p>Install virtualenv using homebrew:</p> Install pyenv-virtualenv<pre><code>brew install pyenv-virtualenv\n</code></pre>"},{"location":"howtos/HowTo-pyenv/#getting-started","title":"Getting Started","text":"<p>We can now use pyenv and pyenv-virtualenv. We start with installing a Python version.</p> <p>The following command installs Python 3.11.7 in pyenv:</p> Install a Python Version<pre><code>pyenv install 3.11.7\n</code></pre> <p>Since we want to keep the installed base Python version \"clean2, we will create a new virtual environment, e.g. taking version 3.11.7 as a base version. The following command will create a virtual environment acme-3.11 that can be used later on:</p> Create a Virtual Environment<pre><code>pyenv virtualenv 3.11.7 acme-3.11\n</code></pre> <p>We can now enable a virtual environment for the local directory:</p> Enable a virtual environment for the local directory<pre><code>pyenv local acme-3.11\n</code></pre>"},{"location":"howtos/HowTos/","title":"HowTos","text":"<p>This section provides a growing collection of HowTos for the ACME oneM2M CSE.</p>"},{"location":"howtos/RaspberryPi/","title":"Installing ACME on a Raspberry Pi","text":"<p>Doing installations on a Raspberry Pi, especially on older versions, could be a small challenge, because some of the external Python packages require extra libraries that are not necessarily available on an old Raspberry Pi.</p> <p>This guide presents the necessary steps to install Python 3.11, the external Python packages and ACME on an older Raspberry Pi 3B with Raspberry Pi OS (32 bit).</p>"},{"location":"howtos/RaspberryPi/#installing-python-and-tools","title":"Installing Python and Tools","text":"<p>First, we need to install a newer Python 3 runtime on our Raspberry Pi.</p>"},{"location":"howtos/RaspberryPi/#downloading-python-source","title":"Downloading Python Source","text":"<p>The following download gets the source code from the official Python repository. It could be a newer version of Python as well, of course.</p> Download Python<pre><code>wget https://www.python.org/ftp/python/3.11.4/Python-3.11.4.tgz\n</code></pre>"},{"location":"howtos/RaspberryPi/#installing-extra-components","title":"Installing Extra Components","text":"<p>The following commands install the necessary system libraries and other tools to compile Python on the Raspberry Pi. :</p> Install Extra Components and Libraries<pre><code>sudo apt update\nsudo apt-get install -y build-essential tk-dev libncurses5-dev libncursesw5-dev libreadline6-dev libdb5.3-dev libgdbm-dev libsqlite3-dev libssl-dev libbz2-dev libexpat1-dev liblzma-dev zlib1g-dev libffi-dev libatlas-base-dev libgeos-dev gfortran git cmake libpq-dev\n</code></pre>"},{"location":"howtos/RaspberryPi/#compile-python","title":"Compile Python","text":"<p>The next step is to unpack and to unpack, configure, make and install the Python runtime.</p> Compile Python<pre><code>tar -xzvf Python-3.11.4.tgz \ncd Python-3.11.4/\n./configure --enable-optimizations\nsudo make -j 4\nsudo make altinstall\ncd ..\n</code></pre>"},{"location":"howtos/RaspberryPi/#install-configure-and-run-acme","title":"Install, Configure, and Run ACME","text":"<p>Next, we will install the ACME CSE. </p> <p>You can now follow the instructions in the Installation guide to install the ACME CSE on your Raspberry Pi.</p>"},{"location":"howtos/StandAloneWebUI/","title":"Running the ACME Web UI as a Stand-Alone Application","text":"<p>The web UI can also be run as an independent application.  Since it communicates with the CSE via the Mca interfave it should be possible to use it with other CSE implementations as well as long as those third party CSEs follow the oneM2M http binding specification. It only supports the resource types that the ACME CSE supports, but at least it will present all other resource types as unknown.</p> <p>You can start the stand-alone web UI in a terminal like this (in the sub-directory acme/webui):</p> Start the Web UI as a stand-alone application<pre><code>python3 webUI.py\n</code></pre> <p>It starts with defaults, which can be set via command line arguments:</p> Command Line Argument Description -h, --help Show a help message and exit. --ip HOSTIP Specify the web UI's local IP address to bind to. Default: 127.0.0.1  (only localhost) --port HOSTPORT Specify the web UI's local port. Default: 8000 --cseurl TARGETURL The target CSE's base URL. This is where the actual CSE can be reached.Default: http://127.0.0.1:8080/ --ri TARGETRI The target CSE's default base RI.Default: id-in --originator TARGETORIGINATOR The target CSE's default originator. Default: CAdmin https/tls --tls Enable TLS (https) for the web UI.It is disabled by default. --certfile CERTFILE Path to the certificate file for TLS.Required for --tls.Default: None. --keyfile KEYFILE Path to the private key file.Required for --tls.Default: None. OAuth --oauth Enable OAuth2 authentication for CSE access.Default: False. --oauth-server-url OAUTHSERVERURL The OAuth2 server URL from which to retrieve the authentication token.Default: None.Automatic token retrieval and renewal is supported for keycloak. --client-id CLIENTID The OAuth2 client ID.Default: None. --client-secret CLIENTSECRET The OAuth2 client secret.Default: None. Misc --logging Enable logging to console.Default: False --no-open Disable opening a web browser on startup. Default: False"},{"location":"howtos/StandAloneWebUI/#example","title":"Example","text":"<p>The following command starts the web UI's proxy server with the following parameters:</p> <ul> <li>The proxy binds to the local IP interface (127.0.0.1) on port 8000 (both the defaults).</li> <li>The proxy proxy serves the web UI via http (the default, no TLS is enabled).</li> <li>The remote CSE is reachable at https://example.com/cse/ and has the resource ID incse.</li> <li>The remote CSE requires OAuth2 authentication, the client ID is aClientID, the client secret is aClientSecret, and the token is retrieved and renewed from https://example.com/token.</li> <li>Logging is enabled. </li> </ul> Start the Web UI as a stand-alone application with OAuth2<pre><code>python3 webUI.py --cseurl https://example.com/cse/ --logging --ri incse --oauth --client-id aClientID --client-secret aClientSecret --oauth-server-url https://example.com/token\n</code></pre>"},{"location":"setup/Certificates/","title":"Certificates","text":"<p>The ACME CSE supports the secure protocol version of HTTP, MQTT, and WebSockets. This means that you can use the CSE with HTTPS, MQTT over TLS, and WSS.</p> <p>To enable, for example, https you have to set various settings under the security configuration http.security, and provide a certificate and a key file. The other protocols are configured in a similar way.</p> <p>See also</p> <p>HTTP Security Settings MQTT Security Settings WebSocket Security Settings</p>"},{"location":"setup/Certificates/#self-signed-certificates","title":"Self-Signed Certificates","text":"<p>One way to create those files is the openssl tool that may already be installed on your OS. The following example shows how to create a self-signed certificate:</p> Create a self-signed certificate<pre><code>openssl req -x509 -newkey rsa:4096 -keyout key.pem -out cert.pem -nodes -days 1000\n</code></pre> <p>This will create the self-signed certificate and private key without password protection (-nodes), and stores them in the files cert.pem and key.pem respectively. openssl will prompt you with questions for Country Name etc, but you can just hit Enter and accept the defaults. The -days parameter affects the certificate's expiration date.</p> <p>Please also consult the openssl manual for further instructions. </p> <p>After you generated these files you can move them to a separate directory (for example you may create a new directory named cert under ACME's runtime base directory) and set the caCertificateFile and caPrivateKeyFile configuration parameters in the acme.ini configuration file under the appropriate security section(s) accordingly.</p>"},{"location":"setup/Configuration-basic/","title":"Configuration - Basic Settings","text":"<p>The CSE is configured using the configuration file <code>acme.ini</code>. This file contains all necessary settings for the CSE to run.  These settings are used throughout the configuration settings using interpolation.</p> <p>When creating the configuration file, it is recommended to use the interactive procedure to generate a file with basic configuration settings. <sup>1</sup></p>"},{"location":"setup/Configuration-basic/#basic-configuration","title":"Basic Configuration","text":"<p>Section: <code>[basic.config]</code></p> <p>These are the general settings for the CSE. Some settings are mandatory, others are optional. This depends on the type of CSE to run.</p> Setting Description Optional cseType The type of CSE to run.Allowed values: <code>IN</code>, <code>MN</code>, <code>ASN</code> No cseID The CSE-ID of the CSE. This is a unique identifier for the CSE. No cseName The name of the CSE. No adminID The CSE-ID of the CSE's admin. No networkInterface The network interface to use. No cseHost The IP address of the CSE.The default is ${hostIPAddress}. No httpPort The port for the HTTP server.This value depends on the cseType. No registrarCseID The CSE-ID of the registrar CSE.This setting is mandatory for cseType = MN and ASN. Yes registrarCseName The name of the registrar CSE.This setting is mandatory for cseType = MN and ASN. Yes registrarCseHost The IP address of the registrar CSE.This setting is mandatory for cseType = MN and ASN.The default is ${hostIPAddress}. Yes registrarCsePort The port of the registrar CSE.This setting is mandatory for cseType = MN and ASN. Yes databaseType The type of database to use.Allowed values: <code>memory</code>, <code>tinydb</code>, <code>postgresql</code> No logLevel The log level for the CSE.Allowed values: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>off</code> Yes consoleTheme The theme for the console and text UI.Allowed values: <code>light</code>, <code>dark</code> Yes <p>In addition to the settings in the table above, the built-in configuration settings  and envirnoment variables can be used in the configuration.</p> <ol> <li> <p>You can add further configurations if necessary by copying sections and settings from acme.ini.default.\u00a0\u21a9</p> </li> </ol>"},{"location":"setup/Configuration-cse/","title":"Configuration - CSE Settings","text":"<p>The CSE settings are used to configure the CSE's general behavior, security settings, and statistics collection. </p>"},{"location":"setup/Configuration-cse/#general-settings","title":"General Settings","text":"<p>Section: <code>[cse]</code></p> <p>These settings are used to configure basic settings and the general behavior of the CSE.</p> Setting Description Default Configuration Name asyncSubscriptionNotifications Enable or disable asynchronous notification for normal runtime subscription notifications. true cse.asyncSubscriptionNotifications checkExpirationsInterval Interval to check for expired resources. 0 means \"no checking\". 60 seconds cse.checkExpirationsInterval cseID The CSE ID. A CSE-ID must start with a /. id-in cse.cseID defaultSerialization Indicate the serialization format if none was given in a request and cannot be determined otherwise.Allowed values: json, cbor. json cse.defaultSerialization enableRemoteCSE Enable remote CSE registration and checking.See also command line arguments \u2013-remote-cse and -\u2013no-remote-cse. true cse.enableRemoteCSE enableResourceExpiration Enable resource expiration. If disabled resources will not be expired when the \"expirationTimestamp\" is reached. true cse.enableResourceExpiration enableSubscriptionVerificationRequests Enable or disable verification requests when creating a new subscription. true cse.enableSubscriptionVerificationRequests flexBlockingPreference Indicate the preference for flexBlocking response types. Allowed values: \"blocking\", \"nonblocking\". blocking cse.flexBlockingPreference maxExpirationDelta Default and maximum expirationTime allowed for resources in seconds. 60*60*24*365*5 = 157680000 seconds = 5 years cse.maxExpirationDelta originator Admin originator for the CSE. CAdmin cse.originator poa Set the CSE's point-of-access. This is a comma-separated list of URLs. The configured HTTP server's address. cse.poa releaseVersion The release version indicator for requests. Allowed values: see setting of supportedReleaseVersions. 4 cse.releaseVersion requestExpirationDelta Expiration time for requests sent by the CSE in seconds. 10.0 seconds cse.requestExpirationDelta resourceID The \\ resource's resource ID. This should be the same value as cseID without the leading \"/\". id-in cse.resourceID resourceName The CSE's resource name or CSE-Name. cse-in cse.resourceName resourcesPath Directory of the CSE's init directory that hosts resources, policies, and other settings to import.See also command line argument \u2013-init-directory. ${basic.config:initDirectory} cse.resourcesPath sendToFromInResponses Indicate whether the optional \"to\" and \"from\" parameters shall be sent in responses. true cse.sendToFromInResponses serviceProviderID The CSE's service provider ID. acme.example.com cse.serviceProviderID sortDiscoveredResources Enable alphabetical sorting of discovery results. true cse.sortDiscoveredResources supportedReleaseVersions A comma-separated list of supported release versions. This list can contain a single or multiple values. 2a,3,4,5 cse.supportedReleaseVersions type The CSE type. Allowed values: IN, MN, ASN. IN cse.type"},{"location":"setup/Configuration-cse/#resource-announcements","title":"Resource Announcements","text":"<p>Section: <code>[cse.announcements]</code></p> <p>These settings are used to configure the behavior of resource announcements. They control mainly internal CSE behaviour and are not directly related to the oneM2M standard.</p> Setting Description Default Configuration Name checkInterval Wait n seconds between tries to announce resources to registered remote CSE. 10 seconds cse.announcements.checkInterval allowAnnouncementsToHostingCSE Allow resource announcements to the own hosting CSE. True cse.announcements.allowAnnouncementsToHostingCSE delayAfterRegistration Specify a short delay in seconds before starting announcing resources after a remote CSE has registered at the hosting CSE. 3 seconds cse.announcements.delayAfterRegistration"},{"location":"setup/Configuration-cse/#operation-jobs","title":"Operation - Jobs","text":"<p>Section: <code>[cse.operation.jobs]</code></p> <p>These settings are used to configure the CSE's job and thread management. Jobs are used to handle asynchronous tasks like resource expiration, resource announcements, and other tasks.</p> Setting Description Default Configuration Name balanceTarget Thread Pool Management: Target balance between paused and running jobs (n paused for 1 running threads). 3.0 cse.operation.jobs.balanceTarget balanceLatency Thread Pool Management: Number of get / create requests for a new thread before performing a balance check. A latency of 0 disables the thread pool balancing. 1000 cse.operation.jobs.balanceLatency balanceReduceFactor Thread Pool Management: The factor to reduce the paused jobs (number of paused / balanceReduceFactor) in a balance check.Example: a factor of 2.0 reduces the number of paused threads by half in a single balance check. 2.0 cse.operation.jobs.balanceReduceFactor"},{"location":"setup/Configuration-cse/#operation-requests","title":"Operation - Requests","text":"<p>Section: <code>[cse.operation.requests]</code></p> <p>These settings are used to configure the CSE's internal request recording.</p> Setting Description Default Configuration Name enable Enable request recording. False cse.operation.requests.enable size Maximum number of requests to be stored. Oldest requests will be deleted when this threshold is reached. Note, that a large number of requests might take a moment to be displayed in the console or UIs. 250 cse.operation.requests.size"},{"location":"setup/Configuration-cse/#cse-registration","title":"CSE Registration","text":"<p>Section: <code>[cse.registration]</code></p> <p>These settings are used to configure the CSE's internal registration behaviour, but also set the allowed originators for AE and CSR registrations.</p> Setting Description Default Configuration Name allowedAEOriginators List of AE originators that can register. This is a comma-separated list of originators. Wildcards (* and ?) are supported. C*, S* cse.registration.allowedAEOriginators allowedCSROriginators List of CSR originators that can register. This is a comma-separated list of originators. Wildcards ( and ?) are supported.Note: CSE-IDs must not* have a leading \"/\". empty list cse.registration.allowedCSROriginators checkLiveliness Check the liveliness of the registrations to the registrar CSE and also from the registree CSEs. True cse.registration.checkLiveliness"},{"location":"setup/Configuration-cse/#registrar-cse-access","title":"Registrar CSE Access","text":"<p>Section: <code>[cse.registrar]</code></p> <p>These settings are used to configure the address and access to its Registrar CSE.</p> Setting Description Default Configuration Name address URL of the Registrar CSE. no default cse.registrar.address root Registrar CSE root path. Never provide a trailing /. empty string cse.registrar.root cseID CSE-ID of the Registrar CSE. A CSE-ID must start with a /. no default cse.registrar.cseID resourceName The Registrar CSE's resource name. no default cse.registrar.resourceName serialization Specify the serialization type that must be used for the registration to the registrar CSE.Allowed values: json, cbor json cse.registrar.serialization checkInterval This setting specifies the pause in seconds between tries to connect to the configured registrar CSE. This value is also used to check the connectivity to the registrar CSE after a successful registration. 30 seconds cse.registrar.checkInterval excludeCSRAttributes Comma separated list of attributes that are excluded when creating a registrar CSR. empty list cse.registrar.excludeCSRAttributes"},{"location":"setup/Configuration-cse/#general-security","title":"General Security","text":"<p>Section: <code>[cse.security]</code></p> <p>These settings are used to configure the CSE's security settings.</p> Setting Description Default Configuration Name enableACPChecks Enable access control checks. True cse.security.enableACPChecks fullAccessAdmin Always grant the admin originator full access (bypass access checks). True cse.security.fullAccessAdmin"},{"location":"setup/Configuration-cse/#statistics","title":"Statistics","text":"<p>Section: <code>[cse.statistics]</code></p> <p>These settings are used to configure the CSE's internal statistics collection and reporting.</p> Setting Description Default Configuration Name enable This setting enables or disables the CSE's statistics collection and reporting. True cse.statistics.enable writeInterval This setting specifies the pause, in seconds, between writing the collected statistics to the database. 60 seconds cse.statistics.writeInterval"},{"location":"setup/Configuration-database/","title":"Configuration - Database Settings","text":"<p>The CSE supports different types of databases. The database settings are configured in the configuration file under the section <code>[database]</code> and its subsections.</p>"},{"location":"setup/Configuration-database/#general-settings","title":"General Settings","text":"<p>Section: <code>[database]</code></p> <p>These are the general database settings.</p> Setting Description Default Configuration Name backupPath The directory for a backup of the database files.Database backups are not supported for the in-memory database and postgreSQL. ${basic.config:baseDirectory}/data/backup database.backupPath resetOnStartup Reset the databases at startup.See also command line argument --db-reset. False database.resetOnStartup type The type of database to use.See also command line argument --db-type.Allowed values: tinydb, postgresql, memory tinydb database.type"},{"location":"setup/Configuration-database/#tinydb","title":"TinyDB","text":"<p>Section: <code>[database.tinydb]</code></p> <p>These are the settings for the TinyDB database. The cacheSize and writeDelay settings are only used if the database type is set to tinydb (ie. in file-based mode). They have a major impact on the performance of the database.</p> Setting Description Default Configuration Name cacheSize Cache size in bytes, or 0 to disable caching. 0 database.tinydb.cacheSize path Directory for the database files. ${basic.config:baseDirectory}/data database.tinydb.path writeDelay Delay in seconds before new data is written to disk to avoid trashing. Must be full seconds. 1 second database.tinydb.writeDelay"},{"location":"setup/Configuration-database/#postgresql","title":"PostgreSQL","text":"<p>Section: <code>[database.postgresql]</code></p> <p>These are the settings for the PostgreSQL database. </p> Setting Description Default Configuration Name database Name of the database. ${basic.config:cseID} database.postgresql.database host Hostname of the PostgreSQL server. localhost database.postgresql.host password Password for the database. not set database.postgresql.password port Port of the PostgreSQL server. 5432 database.postgresql.port schema Name of the schema.Default: acmecse acmecse database.postgresql.schema role Login/Username for the database. ${basic.config:cseID} database.postgresql.role"},{"location":"setup/Configuration-http/","title":"Configuration - HTTP Binding Settings","text":"<p>The CSE supports HTTP binding for communication with clients and other CSEs. The HTTP binding is always enabled and its settings are configured in the configuration file under the section <code>[http]</code> and its subsections.</p>"},{"location":"setup/Configuration-http/#general-settings","title":"General Settings","text":"<p>Section: <code>[http]</code></p> <p>These are the general settings for the HTTP binding.</p> Setting Description Default Configuration Name port Port to listen to. ${basic.config:httpPort} http.port listenIF Interface to listen to. Use 0.0.0.0 for \"all\" interfaces. ${basic.config:networkInterface} http.listenIF address Own address. Should be a local/public reachable address. http://${basic.config:cseHost}:${basic.config:httpPort} http.address root CSE Server root. Never provide a trailing <code>/</code>. empty string http.root enableRemoteConfiguration Enable an endpoint for get and set certain configuration values via a REST interface.ATTENTION: Enabling this feature exposes configuration values, IDs and passwords, and is a security risk. False http.enableRemoteConfiguration enableStructureEndpoint Enable an endpoint for getting a structured overview about a CSE's resource tree and deployment infrastructure (remote CSE's).ATTENTION: Enabling this feature exposes various potentially sensitive information.See also the [console].hideResources setting to hide resources from the tree. False http.enableStructureEndpoint enableUpperTesterEndpoint Enable an endpoint for supporting Upper Tester commands to the CSE. This is to support certain testing and certification systems. See oneM2M's TS-0019 for further details.ATTENTION: Enabling this feature may lead to a total loss of data. False http.enableUpperTesterEndpoint allowPatchForDelete Allow the http PATCH method to be used as a replacement for the DELETE method. This is useful for constraint devices that only support http/1.0, which doesn't specify the DELETE method. False http.allowPatchForDelete timeout Timeout when sending http requests and waiting for responses. 10 seconds http.timeout"},{"location":"setup/Configuration-http/#security","title":"Security","text":"<p>Section: <code>[http.security]</code></p> <p>These are the security settings for the HTTP binding.</p> Setting Description Default Configuration Name useTLS Enable TLS for communications.This can be overridden by the command line arguments --http and --https.See oneM2M TS-0003 Clause 8.2.1 \"Overview on Security Association Establishment Frameworks\". False http.security.useTLS tlsVersion TLS version to be used in connections. Allowed versions: <code>TLS1.1</code>, <code>TLS1.2</code>, <code>auto</code> . Use <code>auto</code> to allow client-server certificate version negotiation. auto http.security.tlsVersion verifyCertificate Verify certificates in requests. Set to False when using self-signed certificates. False http.security.verifyCertificate caCertificateFile Path and filename of the certificate file. empty string http.security.caCertificateFile caPrivateKeyFile Path and filename of the private key file. empty string http.security.caPrivateKeyFile enableBasicAuth Enable basic authentication for the HTTP binding. False http.security.enableBasicAuth enableTokenAuth Enable token authentication for the HTTP binding. False http.security.enableTokenAuth basicAuthFile Path and filename of the http basic authentication file. The file must contain lines with the format \"username:password\". Comments are lines starting with a # character. ${basic.config:baseDirectory}/certs/http_basic_auth.txt http.security.basicAuthFile tokenAuthFile Path and filename of the http bearer token authentication file. The file must contain lines with the format \"token\". Comments are lines starting with a # character. ${basic.config:baseDirectory}/certs/http_token_auth.txt http.security.tokenAuthFile"},{"location":"setup/Configuration-http/#cors","title":"CORS","text":"<p>Section: <code>[http.cors]</code></p> <p>These are the CORS (Cross-Origin Resource Sharing) settings for the HTTP binding.</p> Setting Description Default Configuration Name enable Enable CORS support for the HTTP binding. False http.cors.enable resources A comma separated list of allowed resource paths. The list elements could be regular expressions. \"/*\" , ie. all resources under the HTTP server's root. http.cors.resources"},{"location":"setup/Configuration-http/#wsgi","title":"WSGI","text":"<p>Section: <code>[http.wsgi]</code></p> <p>These are the settings for the WSGI (Web Server Gateway Interface) support.</p> Setting Description Default Configuration Name enable Enable WSGI support for the HTTP binding. False http.wsgi.enable threadPoolSize The number of threads used to process requests. This number should be of similar size as the connectionLimit setting. 100 http.wsgi.threadPoolSize connectionLimit The number of possible parallel connections that can be accepted by the WSGI server. Note: One connection uses one system file descriptor. 100 http.wsgi.connectionLimit"},{"location":"setup/Configuration-introduction/","title":"Configuration - Introduction","text":"<p>The CSE is highly configurable and can be adapted to different environments and requirements. This document describes the configuration settings and how to change them.</p>"},{"location":"setup/Configuration-introduction/#introduction","title":"Introduction","text":"<p>Configuration of CSE parameters is done through a configuration file. This file contains all configurable and customizable settings for the CSE. Configurations are mostly optional, and settings in this file overwrite the CSE's default values.</p> <p>The configuration file follows the Windows INI file format with sections, setting and values. A configuration file may include comments, prefixed with the characters <code>#</code> or <code>;</code> .</p>"},{"location":"setup/Configuration-introduction/#command-line-arguments","title":"Command Line Arguments","text":"<p>Also, some settings can be applied via the command line when starting the CSE. These command line arguments overwrite the settings in the configuration file.</p>"},{"location":"setup/Configuration-introduction/#the-configuration-file","title":"The Configuration File","text":"<p>Warning</p> <p>Changes should only be done to a copy of the default configuration file.</p> <p>A default configuration file is provided with the file acme.ini.default. Don't make changes to this file, but rather copy relevant configuration setting to a new file named acme.ini, which is the default configuration file name. You can use another filename, but must then specify it with the <code>--config</code> command line argument when running the (see Running the CSE).</p> <p>It is sufficient to only add the settings to the configuration file that are different from the default settings. All other settings are read from the default config file acme.ini.default.</p> <p>If the configuration file acme.ini could not be found at the specified location then an interactive procedure is started to generate a file with basic configuration settings. You can add further configurations if necessary by copying sections and settings from acme.ini.default.</p> <p>Info</p> <p>It is highly recommended to use this interactive procedure to create the configuration file. This ensures that all necessary settings are present and that the file is correctly formatted.</p>"},{"location":"setup/Configuration-introduction/#settings-interpolation","title":"Settings Interpolation","text":"<p>In addition to assigning individual or fixed values for configurations settings you can use settings interpolation which allows you to reference settings from the same or from other sections. The syntax to denote a value from a section is <code>${section:option}</code>.</p>"},{"location":"setup/Configuration-introduction/#built-in-settings","title":"Built-in Settings","text":"<p>There are some built-in configuration settings that can be used in the configuration file. These settings are provided by the CSE and can be used to reference directories or other values.</p> ${basic.config:baseDirectory} ${baseDirectory} Two built-in configuration settings that point to the base-directory of the CSE's data directory. These settings contain  either the current working directory or the directory that is specified with the command line argument <code>--base-directory</code> or <code>-dir</code>. Both settings are equivalent and can be used interchangeably. ${configfile} Configuration setting that contains the name of the configuration file in the baseDirectory. ${hostIPAddress} Built-in configuration setting that contains the current IP address of the CSE host. ${basic.config:initDirectory} ${initDirectory} <p>Two built-in configuration settings that point to acme's main init directory. Both settings are equivalent and can be used interchangeably.</p> Use built-in settings<pre><code>[cse]\nresourcesPath=${basic.config:initDirectory}\n</code></pre> ${basic.config:moduleDirectory} ${moduleDirectory} Two built-in configuration settings that point to acme's module directory. Both settings are equivalent and can be used interchangeably."},{"location":"setup/Configuration-introduction/#environment-variables","title":"Environment Variables","text":"<p>You can also use environment variables in the configuration file. The syntax is also <code>${VARIABLE_NAME}</code>.</p> <p>Environment variables can be used in the configuration file to provide sensitive information like passwords or API keys. </p> <p>Another useful application is to provide the IP address of a Docker host to the CSE. This can be done, for example, by setting the environment variable <code>DOCKER_HOST_IP</code> and using it in the configuration file.</p> Use Environment Variable to set Host IP<pre><code>[basic.config]\ncseHost=${DOCKER_HOST_IP}\n</code></pre>"},{"location":"setup/Configuration-logging/","title":"Configuration - Logging","text":"<p>The CSE supports logging to the screen and to a file. </p> <p>By default, logging to the screen is enabled and logging to a file is disabled. If logging to a file is enabled, the log files are rotated when they reach a certain size or number of files. </p>"},{"location":"setup/Configuration-logging/#general-settings","title":"General Settings","text":"<p>Section: <code>[logging]</code></p> <p>These are the general logging settings.</p> Setting Description Default Configuration Name enableFileLogging Enable logging to file. false logging.enableFileLogging enableScreenLogging Enable logging to the screen. true logging.enableScreenLogging path Pathname for log files. ${basic.config:baseDirectory}/logs logging.path level Loglevel. Allowed values: <code>debug</code>, <code>info</code>, <code>warning</code>, <code>error</code>, <code>off</code>.See also command line argument \u2013log-level. debug logging.level count Number of files for log rotation. 10 logging.count size Size per log file. 100.000 bytes logging.size maxLogMessageLength Maximum length of a log message. Longer messages will be truncated. A value of 0 means no truncation. 1000 characters logging.maxLogMessageLength stackTraceOnError Print a stack trace when logging an 'error' level message. True logging.stackTraceOnError enableBindingsLogging Enable logging of low-level HTTP &amp; MQTT client events. False logging.enableBindingsLogging queueSize Number of log entries that can be added to the asynchronous queue before blocking. A queue size of 0 means disabling the queue. 5000 entries logging.queueSize filter List of component names to exclude from logging. werkzeug,markdown_it logging.filter"},{"location":"setup/Configuration-mqtt/","title":"Configuration - MQTT Binding Settings","text":"<p>The CSE supports MQTT communication via the MQTT binding. The MQTT binding is disabled by default and must be enabled in the configuration file under <code>[client.mqtt].enable</code> .</p>"},{"location":"setup/Configuration-mqtt/#general-settings","title":"General Settings","text":"<p>Section: <code>[mqtt]</code></p> <p>These are the general MQTT client settings.</p> Setting Description Default Configuration Name enable Enable the MQTT binding. False mqtt.enable address The hostname of the MQTT broker. 127.0.0.1 mqtt.address port Set the port for the MQTT broker. 1883, or 8883 for TLS mqtt.port listenIF Interface to listen to. Use 0.0.0.0 for \"all\" interfaces. 0.0.0.0 mqtt.listenIF keepalive Value for the MQTT connection's keep-alive parameter in seconds. 60 seconds mqtt.keepalive topicPrefix Optional prefix for topics. empty string mqtt.topicPrefix timeout Timeout when sending MQTT requests and waiting for responses. 10.0 seconds mqtt.timeout"},{"location":"setup/Configuration-mqtt/#security","title":"Security","text":"<p>Section: <code>[mqtt.security]</code></p> <p>These are the security settings for the MQTT binding.</p> Setting Description Default Configuration Name username The username for MQTT broker authentication if required by the broker. empty string mqtt.security.username password The password for MQTT broker authentication. empty string mqtt.security.password useTLS Enable TLS for communications with the MQTT broker. False mqtt.security.useTLS verifyCertificate Verify certificates in requests. Set to False when using self-signed certificates. False mqtt.security.verifyCertificate caCertificateFile Path and filename of the certificate file. empty string mqtt.security.caCertificateFile allowedCredentialIDs List of credential-IDs that can be used to register an AE via MQTT. If this list is empty then all credential IDs are allowed.This is a comma-separated list. Wildcards (* and ?) are supported. empty list mqtt.security.allowedCredentialIDs"},{"location":"setup/Configuration-resources/","title":"Configuration - oneM2M Resources","text":"<p>The configuration file contains settings for the default values or configurable behaviour of oneM2M resources. These settings are used when creating resources and, if allowed, can be overridden by the values in the request.</p>"},{"location":"setup/Configuration-resources/#acp","title":"ACP","text":"<p>Section: <code>[resource.acp]</code></p> <p>The default values for Access Control Policies (ACP) resources.</p> Setting Description Default Configuration Name selfPermission Default selfPermission when creating an ACP resource. This is the decimal representation of the permissions bitfield. 51 resource.acp.selfPermission"},{"location":"setup/Configuration-resources/#action","title":"Action","text":"<p>Section: <code>[resource.actr]</code></p> <p>The default values for Action resources.</p> Setting Description Default Configuration Name ecpContinuous Default for the evalControlParam attribute, when the evalMode is <code>continuous</code>. The unit is number. 1.000 resource.actr.ecpContinuous ecpPeriodic Default for the evalControlParam attribute, when the evalMode is <code>periodic</code>. The unit is milliseconds. 10.000 ms = 10 seconds resource.actr.ecpPeriodic"},{"location":"setup/Configuration-resources/#container","title":"Container","text":"<p>Section: <code>[resource.cnt]</code></p> <p>The default values for Container resources.</p> Setting Description Default Configuration Name enableLimits Enable/disable the default limits. False resource.cnt.enableLimits mni Default for maxNrOfInstances. 10 resource.cnt.mni mbs Default for maxByteSize. 10.000 bytes resource.cnt.mbs"},{"location":"setup/Configuration-resources/#group","title":"Group","text":"<p>Section: <code>[resource.grp]</code></p> <p>The default values for Group resources.</p> Setting Description Default Configuration Name resultExpirationTime Set the time for aggregating the results of a group request before interrupting. This is the CSE default and can be overwritten by a request. The format is the time in ms. A value of 0 ms means no timeout. 0 ms resource.grp.resultExpirationTime"},{"location":"setup/Configuration-resources/#locationpolicy","title":"LocationPolicy","text":"<p>Section: <code>[resource.lcp]</code></p> <p>The default values for the Container of a LocationPolicy resources.</p> Setting Description Default Configuration Name mni Default for maxNrOfInstances for the LocationPolicy's container. 10 resource.lcp.mni mbs Default for maxByteSize for the LocationPolicy's container. 10.000 bytes resource.lcp.mbs"},{"location":"setup/Configuration-resources/#request","title":"Request","text":"<p>Section: <code>[resource.req]</code></p> <p>The default values for Request resources.</p> Setting Description Default Configuration Name expirationTime A &lt;request&gt; resource's  expiration time in seconds. Must be &gt;0. 60 seconds resource.req.et"},{"location":"setup/Configuration-resources/#subscription","title":"Subscription","text":"<p>Section: <code>[resource.sub]</code></p> <p>The default values for Subscription resources.</p> Setting Description Default Configuration Name batchNotifyDuration Default for the batchNotify/duration in seconds. Must be &gt;0. 60 sec resource.sub.batchNotifyDuration"},{"location":"setup/Configuration-resources/#timeseries","title":"TimeSeries","text":"<p>Section: <code>[resource.ts]</code></p> <p>The default values for TimeSeries resources.</p> Setting Description Default Configuration Name enableLimits Enable/disable the default limits. False resource.ts.enableLimits mni Default for maxNrOfInstances. 10 resource.ts.mni mbs Default for maxByteSize. 10.000 bytes resource.ts.mbs mdn Default for missingDataMaxNr. 10 resource.ts.mdn"},{"location":"setup/Configuration-resources/#timesyncbeacon","title":"TimeSyncBeacon","text":"<p>Section: <code>[resource.tsb]</code></p> <p>The default values for TimeSyncBeacon resources.</p> Setting Description Default Configuration Name bcni Default timeSyncBeacon interval. This is the duration between to beacon notifications sent by the CSE to an AE or CSE.T he format must be an ISO8601 duration. \"PT1H\" = 1 hour resource.tsb.bcni bcnt Default timeSyncBeacon threshold. When this time threshold is passed then a beacon notifications is sent to an AE or CSE. 10 seconds resource.ts.bcnt"},{"location":"setup/Configuration-scripting/","title":"Configuration - Scripting","text":"<p>The ACME CSE supports scripting using a Lisp-like scripting language. Scripts can be used to extend the functionality of the CSE, for example, to implement custom logic, writing small applications or to interact with external systems.</p>"},{"location":"setup/Configuration-scripting/#scripting","title":"Scripting","text":"<p>Section: <code>[scripting]</code></p> <p>These are the settings for the scripting engine.</p> Setting Description Default Configuration Name scriptDirectories Add one or multiple directory paths to look for scripts, in addition to the ones in the system or runtime <code>init</code> directory. Must be a comma-separated list. not set scripting.scriptDirectories verbose Enable debug output during script execution, such as the current executed line. False scripting.verbose fileMonitoringInterval Set the interval to check for new files in the script directories.0 means disable monitoring. Must be &gt;= 0.0. 2.0 seconds scripting.fileMonitoringInterval maxRuntime Set the timeout for script execution in seconds. 0.0 seconds means no timeout.Must be &gt;= 0.0. 60.0 seconds scripting.maxRuntime"},{"location":"setup/Configuration-uis/","title":"Configuration - User Interfaces","text":"<p>The CSE provides different user interfaces (UIs) to interact with the CSE. </p>"},{"location":"setup/Configuration-uis/#console","title":"Console","text":"<p>Section: <code>[console]</code></p> <p>These are the settings for the console.</p> Setting Description Default Configuration Name confirmQuit Quitting the console needs to be confirmed.This may not work under Windows, so it is switched off by default. False console.confirmQuit headless Run the CSE in headless mode, i.e. without a console and without screen logging. False console.headless hideResources Hide certain resources from display in the console. This is a list of resource identifiers. Wildcards are allowed. empty list console.hideResources refreshInterval Interval for continuously refreshing information displays.Must be &gt; 0.0. 2.0 seconds console.refreshInterval theme Set the color theme for the console. Allowed values are \"dark\" and \"light\". ${basic.config:consoleTheme} console.theme treeIncludeVirtualResources Show virtual resources in the console's and structure endpoint's tree view. False console.treeIncludeVirtualResources treeMode Set the mode how resources and their content are presented in the console's and structure endpoint's tree view.Allowed values: <code>normal</code>, <code>compact</code>, <code>content</code>, `contentOnly' normal console.treeMode"},{"location":"setup/Configuration-uis/#web-ui","title":"Web UI","text":"<p>Section: <code>[webui]</code></p> <p>These are the settings for the web UI.</p> Setting Description Default Configuration Name root Root path of the web UI. /webui webui.root"},{"location":"setup/Configuration-uis/#text-ui","title":"Text UI","text":"<p>Section: <code>[textui]</code></p> <p>These are the settings for the text UI.</p> Setting Description Default Configuration Name startWithTUI Show the text UI after startup.See also command line argument \u2013-textui. False textui.startWithTUI theme Set the color theme for the text UI. Allowed values are <code>dark</code> and <code>light</code>. ${console:theme} textui.theme refreshInterval Interval for refreshing various views in the text UI. 2.0 textui.refreshInterval maxRequestSize Max size of a request or response in bytes to display. Requests or responses larger than this threshold will not be displayed. 10.000 textui.maxRequestSize"},{"location":"setup/Configuration-ws/","title":"Configuration - WebSocket Binding Settings","text":"<p>The CSE supports WebSocket communication via the WebSocket binding. The WebSocket binding is disabled by default and must be enabled in the configuration file under <code>[websocket].enable</code>.</p>"},{"location":"setup/Configuration-ws/#general-settings","title":"General Settings","text":"<p>Section: <code>[websocket]</code></p> <p>These are the general WebSocket settings.</p> Setting Description Default Configuration Name enable Enable the WebSocket binding. False websocket.enable port Set the port for the WebSocket server. 8180 websocket.port listenIF Interface to listen to. Use 0.0.0.0 for \"all\" interfaces. 0.0.0.0 websocket.listenIF"},{"location":"setup/Configuration-ws/#security","title":"Security","text":"<p>Section: <code>[websocket.security]</code></p> <p>These are the security settings for the WebSocket binding.</p> Setting Description Default Configuration Name useTLS Enable TLS for websocket communications. False websocket.security.useTLS tlsVersion TLS version to be used in connections. Allowed versions: <code>TLS1.1</code>, <code>TLS1.2</code>, <code>auto</code> . Use <code>auto</code> to allow client-server certificate version negotiation. auto websocket.security.tlsVersion verifyCertificate Verify certificates in requests. Set to False when using self-signed certificates. False websocket.security.verifyCertificate caCertificateFile Path and filename of the certificate file. empty string websocket.security.caCertificateFile caPrivateKeyFile Path and filename of the private key file. empty string websocket.security.caPrivateKeyFile"},{"location":"setup/Console/","title":"Command Console","text":"<p>The CSE has a command console interface to show logging information, to execute build-in commands, to inspect resources, to show statistics, to plot graphs, and many more. The console is started automatically when the CSE is started. It can be accessed via the terminal where the CSE is running.</p>"},{"location":"setup/Console/#console-commands","title":"Console Commands","text":"<p>The following commands are available:</p> Key Description = Print a separator line to the log A About c Show configuration C Clear the console screen D Delete resource E Export resource tree to data directory G, ^G Plot graph once / continously (only for container) h, ? This help I Inspect resource and child resources i, ^K Inspect resource once / continously k, Catalog of scripts l Toggle screen logging on/off L Toggle through log levels Q, ^C Shutdown CSE r Show CSE registrations s. ^S Show statistics once / continously t Show resource tree T, ^T Show child resource tree once / continously u Open web UI w Show workers and threads status Z Reset and restart the CSE <p>Example The CSE's resource tree can be shown by pressing the <code>t</code> key:</p> <p>,</p> ACME CSE's resource tree in the console <p>In addition to the build-in commands, the console shows the Script commands with a configured key binding.</p>"},{"location":"setup/Console/#exporting-resources","title":"Exporting Resources","text":"<p>With the console command <code>E</code> (export resource tree to data directory) one can export a resource and its child resources to the current data directory as a shell script. The shell script runs curl commands to create the resources in the same or another. It can be used to backup resources or to move resources from one CSE to another.</p> <p>Warning</p> <p>The exported shell script is not a backup of the CSE's database. It only contains the specified resources.</p> <p>The shell script does not contain any information about the CSE's configuration or the CSE's registrations at other CSEs.</p> <p>It is also possible that the shell script does not work for all resources, e.g. if referenced resources are missing or have other resource identifiers.</p>"},{"location":"setup/Console/#hiding-resources-in-the-consoles-tree","title":"Hiding Resources in the Console's Tree","text":"<p>Sometimes it could be useful in demonstrations if one would be able to hide resources from the console's resource tree. That can be accomplished by listing these resources in the setting [cse.console].hideResources.  Simple wildcards are allowed in this setting.</p> <p>Example to hide all resources with resource identifiers starting with 'acp':</p> Hide Resources<pre><code>[cse.console]\nhideResources=acp*\n</code></pre>"},{"location":"setup/Console/#supported-function-keys","title":"Supported Function Keys","text":"<p>The consoles and their emulations of different operating systems support different sets of function key bindings. The following table lists the names that can be used, e.g. in scripts.</p> POSIX (Linux, Mac OS) MS Windows CTRL_A - CTRL_Z CTRL_A - CTRL_Z F1 - F12Modifiers: SHIFT F1 - F12Modifiers: SHIFT, CTRL, ALT UP, DOWN, LEFT, RIGHT, HOME, ENDModifiers: SHIFT, CTRL, ALT, SHIFT_ALT, SHIFT_CTRL, SHIFT_CTRL_ALT UP, DOWN, LEFT, RIGHT, HOME, ENDModifiers: CTRL, ALT PAGE_UP, PAGE_DOWNModifiers: ALT PAGE_UP, PAGE_DOWNModifiers: CTRL, ALT INSERT, DEL, BACKSPACE, LF, CR, SPACE INSERT, DEL, LF, CR, SPACE TABModifiers: SHIFT BACKSPACE, TABModifiers: CTRL <p>Note, that modifiers are prepend to key names with an underline, e.g. <code>SHIFT_CTRL_UP</code>.</p>"},{"location":"setup/Database/","title":"Database Setup","text":"<p>The ACME CSE uses a database to store resources and other runtime data. You have the choice between a memory-based datatabase, a simple file-based database and a PostgreSQL database.</p>"},{"location":"setup/Database/#tinydb-file-based","title":"TinyDB File-Based","text":"<p>The default database is a simple but fast file-based database using the TinyDB library. By default, it requires no additional setup.</p> <p>The database files are stored by default in the directory {baseDirectory}/data (which can be changed by a configuration setting). </p> <p>You enable the TinyDB database by setting the databaseType setting in the [basic.config] section to tinydb:</p> Enable TinyDB as database<pre><code>[basic.config]\ndatabaseType=tinydb\n</code></pre>"},{"location":"setup/Database/#tinydb-in-memory","title":"TinyDB In-Memory","text":"<p>TinyDB also provides a memory-based database that might be useful for testing and development purposes, or if you want to start with a clean database each time you start the CSE.</p> <p>You enable the in-memory database by setting the databaseType setting in the [basic.config] section to memory:</p> Enable in-memory database<pre><code>[basic.config]\ndatabaseType=memory\n</code></pre>"},{"location":"setup/Database/#postgresql","title":"PostgreSQL","text":"<p>An alternative to the file-based database is to use a PostgreSQL database. This requires a running PostgreSQL server to which the CSE can connect. The PostgreSQL connection settings are configured in the acme.ini configuration file.</p> <p>The following steps describe how to set up a PostgreSQL database for the ACME CSE:</p> <ol> <li>Optional: Install PostgreSQL on your system. You can download the installer from the PostgreSQL website.</li> <li>Create a new database and user for the CSE. It is recommended to use the CSE-ID as the database name and as the role name. For example, you can use the following commands to create a new database named id-in and a role named id-in with the password acme:</li> </ol> Create database and role<pre><code>psql -c \"CREATE DATABASE \\\"id-in\\\";\"\npsql -c \"CREATE USER \\\"id-in\\\" WITH PASSWORD 'acme';\"\npsql -c \"GRANT ALL PRIVILEGES ON DATABASE \\\"id-in\\\" TO \\\"id-in\\\";\"\n</code></pre> <ol> <li> <p>If not done during the setup procedure above: Edit the acme.ini configuration file and the following settings under the [database.postgresql] section:</p> PostgreSQL database settings<pre><code>    [database.postgresql]\n    password = acme\n</code></pre> <p>All other settings are optional and can be left at their default values. The database and role settings are set to the CSE-ID by default. If you used different names for the database and role, you have to adjust these settings accordingly. Also the host and port settings are set to localhost and 5432 by default. If your PostgreSQL server is running on a different host or port, you have to adjust these settings as well. You also need to enable the PostgreSQL database by setting the databaseType setting in the [basic.config] section to postgresql:</p> Enable postgreSQL database<pre><code>    [basic.config]\n    databaseType=postgresql\n</code></pre> </li> <li> <p>Run the CSE. The database schema, tables and other structures are created automatically by the CSE when it starts and connects for the first time. </p> </li> </ol>"},{"location":"setup/Database/#disabling-postgresql-support","title":"Disabling PostgreSQL Support","text":"<p>Sometimes it may not be possible or desirable to use a PostgreSQL database, for example, when running the CSE on a system where PostgreSQL is not available or when you want to use the CSE in a simple test environment.</p> <p>In this case, you can disable the PostgreSQL database by setting the databaseType setting in the [basic.config] section to tinydb or memory:</p> Disable PostgreSQL database<pre><code>[basic.config]\ndatabaseType=tinydb\n</code></pre> <p>In order to prevent the PostgreSQL Python modules (i.e. psycopg2) to be loaded you can also set the <code>ACME_NO_PGSQL</code> environment variable to any value before running the CSE:</p> Disable PostgreSQL Database Support in Environment<pre><code>export ACME_NO_PGSQL=1\n</code></pre>"},{"location":"setup/Installation/","title":"Installation","text":""},{"location":"setup/Installation/#pre-requisites","title":"Pre-Requisites","text":"<p>ACME requires Python 3.10 or newer. Install it with your favorite package manager or as part of a virtual environment.</p>"},{"location":"setup/Installation/#installation-and-first-setup","title":"Installation and First Setup","text":""},{"location":"setup/Installation/#installation_1","title":"Installation","text":"<p>There are two ways to install the ACME CSE: using pip or by doing a manual installation.</p> Using pip (Package Installation)Manual Installation <p>Run pip to install the ACME CSE from the Python Package Index (PyPI):</p> Install ACME CSE<pre><code>python -m pip install acmecse\n</code></pre> <p>This will install the latest version of the ACME CSE and all required dependencies. </p> <p>You can also upgrade to the latest version by running:</p> Upgrade ACME CSE<pre><code>python -m pip install --upgrade acmecse\n</code></pre> <ol> <li> <p>Install the ACME CSE by cloning the repository, or by downloading the latest release package, unpacking it, and copying the whole distribution to a new directory.  </p> Clone the Repository<pre><code>git clone https://github.com/ankraft/ACME-oneM2M-CSE.git\ncd ACME-oneM2M-CSE\n</code></pre> </li> <li> <p>It is recommend to install the required packages by running the following command:</p> Install Required Packages<pre><code>python3 -m pip install -r requirements.txt\n</code></pre> <p>You may also install the packages manually, but make sure to install the exact versions as specified in the requirements.txt file.</p> <p>An alternative is to let ACME handle the installation automatically when running it for the first time (see below).</p> </li> </ol>"},{"location":"setup/Installation/#guided-configuration","title":"Guided Configuration","text":"<p>The ACME CSE can be configured by an interactive process when it is started for the first time. This process will create a configuration file that can be edited later.</p> <ol> <li> <p>Run the CSE for the first time. You can start the CSE by simply running it from the command line:</p> For Package Installation For Manual Installation <p>Run the following command from the command line from within any directory that uses the Python environment where you installed the package:</p> Start ACME CSE<pre><code>acmecse\n</code></pre> <p>Run the following command from the command line from within the directory where you installed the CSE:</p> Start ACME CSE as a module<pre><code>python3 -m acme\n</code></pre> <p>Please refer to the Running documentation for more detailed instructions how to start and run the ACME CSE.</p> <p>If you have not installed the required packages during the installation ACME will ask you to install them now. This can be done by ACME automatically, or you can do it manually (see above).</p> <p>If no configuration file is found in the base directory then an interactive configuration process is started. The configuration is saved to a configuration file. e.g. acme.ini by default. </p> <p>The base directory by default is the directory where the CSE is started from. This directory can be changed by the --base-directory (or -dir) command line argument to a different directory. </p> <p> ACME CSE Guided Configuration </p> <p>After the configuration is saved, the CSE is started. with this configuration.</p> </li> <li> <p>After terminating the CSE again you can edit that configuration file and add more settings if necessary.     There are a lot of individual settings to configure here. Mostly, the defaults should be sufficient, but individual settings can be applied to each of the sections.     See the Configuration documentation for further details, and the defaults configuration file acme.ini.default.</p> </li> </ol>"},{"location":"setup/Operation-diagrams/","title":"Operation - Diagrams","text":""},{"location":"setup/Operation-diagrams/#resource-tree-and-deployment-infrastructure-diagram","title":"Resource Tree and Deployment Infrastructure Diagram","text":"<p>The CSE can generate a diagram with an overview about the hosted resource tree and the current deployment infrastructure of remote CSEs. This is available by sending a GET request as follows:</p> GET request to retrieve the diagram script<pre><code>curl localhost:8080/__structure__\n</code></pre> <p>This returns a PlantUML diagram script that can be rendered with the PlantUML tool. The diagram shows the resource tree and the deployment infrastructure of remote CSEs. The diagram can be used to get an overview of the current deployment and to identify potential issues.</p> <p> </p> Example Deployment Diagram <p>An optional argument lvl=&lt;int&gt; can be provided to the URL to limit the number if levels of the resource tree in the diagram.</p> <p>This feature must be enabled in the configuration file under <code>[server.http].enableStructureEndpoint</code>. </p> <p>Attention</p> <p>Enabling this feature might reveal sensitive data. It should be disabled if not used.</p> <p>When enabled the http server creates an additional endpoint /__structure__. A GET request to that endpoint returns a diagram description in PlantUML format that can be transformed in images with various tools (for example, with the online editor on the PlantUML website). </p> <p>A similar text representation of the resource tree only can be retrieved from the endpoint /__structure__/text .</p> GET Request to retrieve the text representation of the resource tree<pre><code>curl localhost:8080/__structure__/text\n...\n\ncse-in -&gt; m2m:cb (csi=/id-in) | ri=id-in\n\u251c\u2500\u2500 acpCreateACPs -&gt; m2m:acp | ri=acpCreateACPs\n\u251c\u2500\u2500 CAdmin -&gt; m2m:ae | ri=CAdmin\n...\n</code></pre>"},{"location":"setup/Operation-mqtt/","title":"Operation - MQTT Broker","text":"<p>ACME supports Mca and Mcc communication via MQTT. This binding must be enabled in the configuration file with the <code>[client.mqtt].enable</code> setting. </p> <p>ACME does not bring an own MQTT broker. Instead any MQTT broker that supports at least MQTT version 3.1.x can be used. This can be either be an own operated or a public broker installation (see, for example, https://test.mosquitto.org). The connection details need to be configured in the <code>[client.mqtt]</code>   section as well.</p>"},{"location":"setup/Operation-uppertester/","title":"Upper Tester Support","text":"<p>The CSE has limited support for the Upper Tester (UT) test protocol. This protocol is used to trigger a System Under  Test (SUT), ie. a CSE, to perform certain oneM2M operations and other actions. See oneM2M's TS-0019 \"Abstract Test Suite and Implementation eXtra Information for Test\" specification for further details.</p> <p>To support this feature an additional endpoint <code>__UT__</code> is available under the HTTP server's root path. It can be enabled by setting the configuration <code>[http].enenableUpperTesterEndpoint</code> in the configuration file to <code>True</code>.</p> <p>Warning</p> <p>Only use this feature in a controlled environment. Enabling it may lead to a total loss of data because several internal functions and resources are exposed or can be managed without added security.</p>"},{"location":"setup/Operation-uppertester/#supported-functions","title":"Supported Functions","text":"<p>The Upper Tester endpoint currently only supports a limited set of the functionality specified in TS-0019, but offers additional functionality, such as sending commands with arguments and receiving return values. </p> <p>The following sections present an overview.</p>"},{"location":"setup/Operation-uppertester/#http-header-x-m2m-utcmd-run-cse-commands","title":"HTTP Header X-M2M-UTCMD : Run CSE Commands","text":"<p>The <code>X-M2M-UTCMD</code> http header field is used to run a command internally by the CSE. The ACME CSE implements these commands  as scripts that have the meta tag @uppertester set.</p> <p>The following commands are available by default, but other can be added. Some of these commands are used to reconfigure the CSE when running test cases.</p> UT Functionality Description reset Resets the CSE to its initial state. No other function or operation present in the request is executed. status Returns the CSE running status in the response header field <code>X-M2M-UTRSP</code>. disableShortRequestExpiration For running test cases: Disables short request expiration. disableShortResourceExpiration For running test cases: Disables short resource expiration. enableShortRequestExpiration For running test cases: Enables short request expiration. enableShortResourceExpiration For running test cases: Enables short resource expiration."},{"location":"setup/Operation-uppertester/#header-x-m2m-utrsp-return-cse-command-result","title":"Header X-M2M-UTRSP : Return CSE Command Result","text":"<p>In case a command returns a result then it is available in the header field <code>X-M2M-UTRSP</code> of the HTTP response to the Uper Tester's request.</p>"},{"location":"setup/Operation-uppertester/#examples","title":"Examples","text":""},{"location":"setup/Operation-uppertester/#resetting-the-cse","title":"Resetting the CSE","text":"<p>This example initiates a reset of the CSE. The successful execution is indicated by the Response Status Code header X-M2M-RSC: 2000 </p> Resetting the CSE<pre><code>$ curl -X POST -H \"X-M2M-UTCMD:Reset\" http://localhost:8080/__ut__\n...\n&lt; HTTP/1.1 200 OK\n&lt; Server: Werkzeug/3.0.2 Python/3.11.7\n&lt; Date: Sun, 05 May 2024 11:09:33 GMT\n&lt; Server: ACME 2024.DEV\n&lt; X-M2M-RSC: 2000\n&lt; X-M2M-UTRSP: false\n&lt; Content-Type: text/plain; charset=utf-8\n&lt; Content-Length: 0\n&lt; Connection: close\n...\n</code></pre>"},{"location":"setup/Operation-uppertester/#get-the-cse-status","title":"Get the CSE Status","text":"<p>This example requests the CSE status. It is returned in the <code>X-M2M-UTRSP</code> header.</p> Get the CSE Status<pre><code>$ curl -v -X POST -H \"X-M2M-UTCMD:Status\" http://localhost:8080/__ut__\n...\n&lt; HTTP/1.1 200 OK\n&lt; Server: Werkzeug/3.0.2 Python/3.11.7\n&lt; Date: Sun, 05 May 2024 11:02:47 GMT\n&lt; Server: ACME 2024.04\n&lt; X-M2M-RSC: 2000\n&lt; X-M2M-UTRSP: RUNNING\n&lt; Content-Type: text/plain; charset=utf-8\n&lt; Content-Length: 0\n&lt; Connection: close\n...\n</code></pre>"},{"location":"setup/Running/","title":"Running","text":"<p>This article describes how to start and stop the CSE, and how to use the command console interface.</p>"},{"location":"setup/Running/#running-the-cse","title":"Running the CSE","text":"<p>You can start the CSE by simply running it from the command line. This is the simplest way to start the ACME CSE.</p> Package installationManual Installation Start ACME CSE<pre><code>acmecse\n</code></pre> Start ACME CSE as a module<pre><code>python3 -m acme\n</code></pre> <p>The current working directory is used as the base directory for the CSE and the acme.ini configuration file must be in the same directory. An interactive configuration process is started if the configuration file is not found.</p>"},{"location":"setup/Running/#different-configuration-file","title":"Different Configuration File","text":"<p>The CSE can also be started with a different configuration file:</p> Package InstallationManual Installation Start ACME CSE with a different configuration file<pre><code>acmecse --config &lt;filename&gt;\n</code></pre> Start ACME CSE with a different configuration file<pre><code>python3 -m acme --config &lt;filename&gt;\n</code></pre> <p>The current working directory is still the base directory for the CSE and the configuration file is still expected to be located in this directory.</p>"},{"location":"setup/Running/#different-base-directory","title":"Different Base Directory","text":"<p>The CSE can also be started with a different base directory:</p> Package InstallationManual Installation Start ACME CSE with a different base directory<pre><code>acmecse -dir &lt;directory&gt;\n</code></pre> Start ACME CSE with a different base directory<pre><code>python3 -m acme -dir &lt;directory&gt;\n</code></pre> <p>This will use the specified directory as the root directory for runtime data such as data, logs, and temporary files. The configuration file acme.iniis expected to be in the specified directory, or it will be created there if it does not exist.</p>"},{"location":"setup/Running/#secondary-init-directory","title":"Secondary init Directory","text":"<p>A base directory may also host a secondary init directory that is used for importing further resources such as attribute definitions and scripts. Resources in this directory are automatically imported when the CSE starts, and processed after the resources in the primary init directory have been imported and processed.</p>"},{"location":"setup/Running/#command-line-arguments","title":"Command Line Arguments","text":"<p>The ACME CSE provides a number of command line arguments that will override the respective settings from the configuration file. They can be used to change certain CSE behaviours without changing the configuration file.</p> Command Line Argument Description -h, --help Show a help message and exit. --config &lt;filename&gt; Specify a configuration file that is used instead of the default (acme.ini) one. --base-directory &lt;directory&gt;,-dir &lt;directory&gt; Specify the root directory for runtime data such as data, logs, and temporary files. --db-directory &lt;directory&gt; Specify the directory where the CSE's data base files are stored. --db-reset Reset and clear the database when starting the CSE. --db-type Specify the DB's storage type.This overrides the database.type configuration setting. --headless Operate the CSE in headless mode. This disables almost all screen output and also the build-in console interface. --http, --https Run the CSE with http or https server.This overrides the useTLS configuration setting. --http-wsgi Run CSE with http WSGI support.This overrides the http.wsgi.enable configuration setting. --http-address &lt;server URL&gt; Specify the CSE's http server URL.This overrides the address configuration setting. --http-port &lt;http port&gt; Specify the CSE's http server port.This overrides the address configuration setting. --init-directory &lt;directory&gt; Specify the import directory.This overrides the resourcesPath configuration setting. --network-interface &lt;ip address Specify the network interface/IP address to bind to.This overrides the listenIF configuration setting. --log-level Set the log level, or turn logging off.This overrides the level configuration setting. --mqtt, --no-mqtt Enable or disable the MQTT binding.This overrides the mqtt.enable configuration setting. --remote-cse, --no-remote-cse Enable or disable remote CSE connections and checking.This overrides the enableRemoteCSE configuration setting. --statistics, --no-statistics Enable or disable collecting CSE statistics.This overrides the enable configuration setting. --textui Run the CSE's text UI after startup. --ws, --no-ws Enable or disable the WebSocket binding.This overrides the websocket.enable configuration setting."},{"location":"setup/Running/#stopping-the-cse","title":"Stopping the CSE","text":"<p>The CSE can be stopped by pressing pressing the uppercase Q key or CTRL-C once on the command line.<sup>1</sup></p> <p>Please note, that the shutdown might take a moment (e.g. gracefully terminating background processes, writing database caches, sending notifications etc). </p> <p>Warning</p> <p>Being impatient and hitting CTRL-C twice might lead to data corruption.</p> <ol> <li> <p>You can configure this behavior with the [cse.console].confirmQuit configuration setting.\u00a0\u21a9</p> </li> </ol>"},{"location":"setup/TextUI/","title":"Text UI","text":"<p>The Text UI is a text-based terminal UI that is enabled by default. It offers a nice way to explore the CSE and its resources, and to perform basic operations. It is also a good way to learn about the CSE's resources and their attributes.</p> <p>Depending on the terminal it can be operated with the mouse or with the keyboard.</p> <p> </p> Text UI of the ACME CSE"},{"location":"setup/TextUI/#starting-the-text-ui","title":"Starting the Text UI","text":"<p>One can switch between the normal console and the text UI by pressing the <code>#</code> key.</p> <p>The text UI is started automatically in some configuration modes when the CSE is started.</p> <p>You can also start the text UI directly by providing the <code>--textui</code> command line argument when starting the CSE.</p>"},{"location":"setup/TextUI/#ui-sections","title":"UI Sections","text":"<p>The different sections of the text UI are described below. They can be selected by going to the corresponding tab.</p> Resources This tab shows the resources in the CSE. When you select a resource, the resource's attributes are shown in the right pane.  Here, you also have the option to see the request and response messages that were targeted at the selected resource. This is useful to see what happened in the background when you performed an operation on the resource. You may also Delete a resource and its children, or export a resource. Requests This tab shows the requests that were sent to the CSE or were sent by the CSE. You can select a request to see its details and the response. Registrations This tab shows the registrations of AEs and CSEs that were created in the CSE or at a remote CSE. Tools This tab contains some tools that can be used to perform operations on the CSE, or run applications as scrips.  See the ACMEScript meta-tags for more information. Infos This tab shows the current number of resources, requests, and other statistics and useful information. Configurations This tab gives a detailed overview about the current configuration of the CSE. Though, it is currently not possible to change the configuration here, each setting is expained in detail. About This tab shows some information about the CSE, including the version number and the license."},{"location":"setup/TextUI/#usage","title":"Usage","text":"<ul> <li>You can navigate the text UI with your mouse or with the keyboard.</li> <li>The clock in the top right corner shows the time and date. It is UTC-based in order to help when comparing oneM2M timestamps.</li> </ul>"},{"location":"setup/WebUI/","title":"Web UI","text":"<p>The Web UI by default is enabled and reachable under the (configurable) web path &lt;host&gt;/webui.</p> <ul> <li>To login you need to specify a valid originator. The default \"admin\" originator is CAdmin.</li> <li>Beside of the default CSEBase resource you can specify a different resource identifier as the root of the resource tree.</li> <li>You can navigate the resource tree with arrow keys.</li> <li>You can switch between short and long attribute names (press CTRL-H).</li> <li>The web UI communicates via the Mca interface over http or https with the CSE. It doesn't use any special API calls.</li> </ul>"},{"location":"setup/WebUI/#rest-ui","title":"REST UI","text":"<p>The web UI also provides a REST UI where you can send REST requests directed at resources on the CSE.</p> <p></p> ACME CSE Web UI with REST Interface"}]}